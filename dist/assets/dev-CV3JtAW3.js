(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();const X=1e-6,yn=new Float32Array([1,0,0,0,1,0,0,0,1]);class pt extends Float32Array{static BYTE_LENGTH=9*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 9:super(t);break;case 2:super(t[0],t[1],9);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e]):super(e,0,9);break;default:super(yn);break}}get str(){return pt.str(this)}copy(t){return this.set(t),this}identity(){return this.set(yn),this}multiply(t){return pt.multiply(this,this,t)}mul(t){return this}transpose(){return pt.transpose(this,this)}invert(){return pt.invert(this,this)}translate(t){return pt.translate(this,this,t)}rotate(t){return pt.rotate(this,this,t)}scale(t){return pt.scale(this,this,t)}static create(){return new pt}static clone(t){return new pt(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static fromValues(...t){return new pt(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static transpose(t,e){if(t===e){const s=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=s,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],f=e[6],l=e[7],h=e[8],p=h*o-a*l,d=-h*c+a*f,m=l*c-o*f;let y=s*p+r*d+i*m;return y?(y=1/y,t[0]=p*y,t[1]=(-h*r+i*l)*y,t[2]=(a*r-i*o)*y,t[3]=d*y,t[4]=(h*s-i*f)*y,t[5]=(-a*s+i*c)*y,t[6]=m*y,t[7]=(-l*s+r*f)*y,t[8]=(o*s-r*c)*y,t):null}static adjoint(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],f=e[6],l=e[7],h=e[8];return t[0]=o*h-a*l,t[1]=i*l-r*h,t[2]=r*a-i*o,t[3]=a*f-c*h,t[4]=s*h-i*f,t[5]=i*c-s*a,t[6]=c*l-o*f,t[7]=r*f-s*l,t[8]=s*o-r*c,t}static determinant(t){const e=t[0],s=t[1],r=t[2],i=t[3],c=t[4],o=t[5],a=t[6],f=t[7],l=t[8];return e*(l*c-o*f)+s*(-l*i+o*a)+r*(f*i-c*a)}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t}static sub(t,e,s){return t}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],f=e[5],l=e[6],h=e[7],p=e[8];let d=s[0],m=s[1],y=s[2];return t[0]=d*r+m*o+y*l,t[1]=d*i+m*a+y*h,t[2]=d*c+m*f+y*p,d=s[3],m=s[4],y=s[5],t[3]=d*r+m*o+y*l,t[4]=d*i+m*a+y*h,t[5]=d*c+m*f+y*p,d=s[6],m=s[7],y=s[8],t[6]=d*r+m*o+y*l,t[7]=d*i+m*a+y*h,t[8]=d*c+m*f+y*p,t}static mul(t,e,s){return t}static translate(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],f=e[5],l=e[6],h=e[7],p=e[8],d=s[0],m=s[1];return t[0]=r,t[1]=i,t[2]=c,t[3]=o,t[4]=a,t[5]=f,t[6]=d*r+m*o+l,t[7]=d*i+m*a+h,t[8]=d*c+m*f+p,t}static rotate(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],f=e[5],l=e[6],h=e[7],p=e[8],d=Math.sin(s),m=Math.cos(s);return t[0]=m*r+d*o,t[1]=m*i+d*a,t[2]=m*c+d*f,t[3]=m*o-d*r,t[4]=m*a-d*i,t[5]=m*f-d*c,t[6]=l,t[7]=h,t[8]=p,t}static scale(t,e,s){const r=s[0],i=s[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}static fromRotation(t,e){const s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=s,t[2]=0,t[3]=-s,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static fromMat2d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}static fromQuat(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=s+s,a=r+r,f=i+i,l=s*o,h=r*o,p=r*a,d=i*o,m=i*a,y=i*f,w=c*o,x=c*a,M=c*f;return t[0]=1-p-y,t[3]=h-M,t[6]=d+x,t[1]=h+M,t[4]=1-l-y,t[7]=m-w,t[2]=d-x,t[5]=m+w,t[8]=1-l-p,t}static fromMat4(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}static normalFromMat4(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],f=e[6],l=e[7],h=e[8],p=e[9],d=e[10],m=e[11],y=e[12],w=e[13],x=e[14],M=e[15],E=s*a-r*o,b=s*f-i*o,_=s*l-c*o,v=r*f-i*a,L=r*l-c*a,N=i*l-c*f,U=h*w-p*y,V=h*x-d*y,D=h*M-m*y,et=p*x-d*w,J=p*M-m*w,tt=d*M-m*x;let k=E*tt-b*J+_*et+v*D-L*V+N*U;return k?(k=1/k,t[0]=(a*tt-f*J+l*et)*k,t[1]=(f*D-o*tt-l*V)*k,t[2]=(o*J-a*D+l*U)*k,t[3]=(i*J-r*tt-c*et)*k,t[4]=(s*tt-i*D+c*V)*k,t[5]=(r*D-s*J-c*U)*k,t[6]=(w*N-x*L+M*v)*k,t[7]=(x*_-y*N-M*b)*k,t[8]=(y*L-w*_+M*E)*k,t):null}static projection(t,e,s){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/s,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8])}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t}static multiplyScalarAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t[4]=e[4]+s[4]*r,t[5]=e[5]+s[5]*r,t[6]=e[6]+s[6]*r,t[7]=e[7]+s[7]*r,t[8]=e[8]+s[8]*r,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=t[4],a=t[5],f=t[6],l=t[7],h=t[8],p=e[0],d=e[1],m=e[2],y=e[3],w=e[4],x=e[5],M=e[6],E=e[7],b=e[8];return Math.abs(s-p)<=X*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(r-d)<=X*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-m)<=X*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(c-y)<=X*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(o-w)<=X*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=X*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(f-M)<=X*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(l-E)<=X*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(h-b)<=X*Math.max(1,Math.abs(h),Math.abs(b))}static str(t){return`Mat3(${t.join(", ")})`}}pt.prototype.mul=pt.prototype.multiply;pt.mul=pt.multiply;pt.sub=pt.subtract;class O extends Float32Array{static BYTE_LENGTH=3*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 3:super(t);break;case 2:super(t[0],t[1],3);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e]):super(e,0,3);break}default:super(3);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get magnitude(){const t=this[0],e=this[1],s=this[2];return Math.sqrt(t*t+e*e+s*s)}get mag(){return this.magnitude}get squaredMagnitude(){const t=this[0],e=this[1],s=this[2];return t*t+e*e+s*s}get sqrMag(){return this.squaredMagnitude}get str(){return O.str(this)}copy(t){return this.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this[2]/=t[2],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this[2]+=t[2]*e,this}distance(t){return O.distance(this,t)}dist(t){return 0}squaredDistance(t){return O.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]}normalize(){return O.normalize(this,this)}static create(){return new O}static clone(t){return new O(t)}static magnitude(t){let e=t[0],s=t[1],r=t[2];return Math.sqrt(e*e+s*s+r*r)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static fromValues(t,e,s){return new O(t,e,s)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}static set(t,e,s,r){return t[0]=e,t[1]=s,t[2]=r,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}static sub(t,e,s){return[0,0,0]}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}static mul(t,e,s){return[0,0,0]}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}static div(t,e,s){return[0,0,0]}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math.min(e[2],s[2]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math.max(e[2],s[2]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}static scaleAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t}static distance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(s*s+r*r+i*i)}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return s*s+r*r+i*i}static sqrDist(t,e){return 0}static squaredLength(t){const e=t[0],s=t[1],r=t[2];return e*e+s*s+r*r}static sqrLen(t,e){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}static normalize(t,e){const s=e[0],r=e[1],i=e[2];let c=s*s+r*r+i*i;return c>0&&(c=1/Math.sqrt(c)),t[0]=e[0]*c,t[1]=e[1]*c,t[2]=e[2]*c,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}static cross(t,e,s){const r=e[0],i=e[1],c=e[2],o=s[0],a=s[1],f=s[2];return t[0]=i*f-c*a,t[1]=c*o-r*f,t[2]=r*a-i*o,t}static lerp(t,e,s,r){const i=e[0],c=e[1],o=e[2];return t[0]=i+r*(s[0]-i),t[1]=c+r*(s[1]-c),t[2]=o+r*(s[2]-o),t}static slerp(t,e,s,r){const i=Math.acos(Math.min(Math.max(O.dot(e,s),-1),1)),c=Math.sin(i),o=Math.sin((1-r)*i)/c,a=Math.sin(r*i)/c;return t[0]=o*e[0]+a*s[0],t[1]=o*e[1]+a*s[1],t[2]=o*e[2]+a*s[2],t}static hermite(t,e,s,r,i,c){const o=c*c,a=o*(2*c-3)+1,f=o*(c-2)+c,l=o*(c-1),h=o*(3-2*c);return t[0]=e[0]*a+s[0]*f+r[0]*l+i[0]*h,t[1]=e[1]*a+s[1]*f+r[1]*l+i[1]*h,t[2]=e[2]*a+s[2]*f+r[2]*l+i[2]*h,t}static bezier(t,e,s,r,i,c){const o=1-c,a=o*o,f=c*c,l=a*o,h=3*c*a,p=3*f*o,d=f*c;return t[0]=e[0]*l+s[0]*h+r[0]*p+i[0]*d,t[1]=e[1]*l+s[1]*h+r[1]*p+i[1]*d,t[2]=e[2]*l+s[2]*h+r[2]*p+i[2]*d,t}static transformMat4(t,e,s){const r=e[0],i=e[1],c=e[2],o=s[3]*r+s[7]*i+s[11]*c+s[15]||1;return t[0]=(s[0]*r+s[4]*i+s[8]*c+s[12])/o,t[1]=(s[1]*r+s[5]*i+s[9]*c+s[13])/o,t[2]=(s[2]*r+s[6]*i+s[10]*c+s[14])/o,t}static transformMat3(t,e,s){let r=e[0],i=e[1],c=e[2];return t[0]=r*s[0]+i*s[3]+c*s[6],t[1]=r*s[1]+i*s[4]+c*s[7],t[2]=r*s[2]+i*s[5]+c*s[8],t}static transformQuat(t,e,s){const r=s[0],i=s[1],c=s[2],o=s[3]*2,a=e[0],f=e[1],l=e[2],h=i*l-c*f,p=c*a-r*l,d=r*f-i*a,m=(i*d-c*p)*2,y=(c*h-r*d)*2,w=(r*p-i*h)*2;return t[0]=a+h*o+m,t[1]=f+p*o+y,t[2]=l+d*o+w,t}static rotateX(t,e,s,r){const i=s[1],c=s[2],o=e[1]-i,a=e[2]-c;return t[0]=e[0],t[1]=o*Math.cos(r)-a*Math.sin(r)+i,t[2]=o*Math.sin(r)+a*Math.cos(r)+c,t}static rotateY(t,e,s,r){const i=s[0],c=s[2],o=e[0]-i,a=e[2]-c;return t[0]=a*Math.sin(r)+o*Math.cos(r)+i,t[1]=e[1],t[2]=a*Math.cos(r)-o*Math.sin(r)+c,t}static rotateZ(t,e,s,r){const i=s[0],c=s[1],o=e[0]-i,a=e[1]-c;return t[0]=o*Math.cos(r)-a*Math.sin(r)+i,t[1]=o*Math.sin(r)+a*Math.cos(r)+c,t[2]=s[2],t}static angle(t,e){const s=t[0],r=t[1],i=t[2],c=e[0],o=e[1],a=e[2],f=Math.sqrt((s*s+r*r+i*i)*(c*c+o*o+a*a)),l=f&&O.dot(t,e)/f;return Math.acos(Math.min(Math.max(l,-1),1))}static zero(t){return t[0]=0,t[1]=0,t[2]=0,t}static str(t){return`Vec3(${t.join(", ")})`}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=e[0],o=e[1],a=e[2];return Math.abs(s-c)<=X*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-o)<=X*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=X*Math.max(1,Math.abs(i),Math.abs(a))}}O.prototype.sub=O.prototype.subtract;O.prototype.mul=O.prototype.multiply;O.prototype.div=O.prototype.divide;O.prototype.dist=O.prototype.distance;O.prototype.sqrDist=O.prototype.squaredDistance;O.sub=O.subtract;O.mul=O.multiply;O.div=O.divide;O.dist=O.distance;O.sqrDist=O.squaredDistance;O.sqrLen=O.squaredLength;O.mag=O.magnitude;O.length=O.magnitude;O.len=O.magnitude;const xn=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Y extends Float32Array{static BYTE_LENGTH=16*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 16:super(t);break;case 2:super(t[0],t[1],16);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e]):super(e,0,16);break;default:super(xn);break}}get str(){return Y.str(this)}copy(t){return this.set(t),this}identity(){return this.set(xn),this}multiply(t){return Y.multiply(this,this,t)}mul(t){return this}transpose(){return Y.transpose(this,this)}invert(){return Y.invert(this,this)}translate(t){return Y.translate(this,this,t)}rotate(t,e){return Y.rotate(this,this,t,e)}scale(t){return Y.scale(this,this,t)}rotateX(t){return Y.rotateX(this,this,t)}rotateY(t){return Y.rotateY(this,this,t)}rotateZ(t){return Y.rotateZ(this,this,t)}perspectiveNO(t,e,s,r){return Y.perspectiveNO(this,t,e,s,r)}perspectiveZO(t,e,s,r){return Y.perspectiveZO(this,t,e,s,r)}orthoNO(t,e,s,r,i,c){return Y.orthoNO(this,t,e,s,r,i,c)}orthoZO(t,e,s,r,i,c){return Y.orthoZO(this,t,e,s,r,i,c)}static create(){return new Y}static clone(t){return new Y(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static fromValues(...t){return new Y(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static transpose(t,e){if(t===e){const s=e[1],r=e[2],i=e[3],c=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=s,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=c,t[11]=e[14],t[12]=i,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],f=e[6],l=e[7],h=e[8],p=e[9],d=e[10],m=e[11],y=e[12],w=e[13],x=e[14],M=e[15],E=s*a-r*o,b=s*f-i*o,_=s*l-c*o,v=r*f-i*a,L=r*l-c*a,N=i*l-c*f,U=h*w-p*y,V=h*x-d*y,D=h*M-m*y,et=p*x-d*w,J=p*M-m*w,tt=d*M-m*x;let k=E*tt-b*J+_*et+v*D-L*V+N*U;return k?(k=1/k,t[0]=(a*tt-f*J+l*et)*k,t[1]=(i*J-r*tt-c*et)*k,t[2]=(w*N-x*L+M*v)*k,t[3]=(d*L-p*N-m*v)*k,t[4]=(f*D-o*tt-l*V)*k,t[5]=(s*tt-i*D+c*V)*k,t[6]=(x*_-y*N-M*b)*k,t[7]=(h*N-d*_+m*b)*k,t[8]=(o*J-a*D+l*U)*k,t[9]=(r*D-s*J-c*U)*k,t[10]=(y*L-w*_+M*E)*k,t[11]=(p*_-h*L-m*E)*k,t[12]=(a*V-o*et-f*U)*k,t[13]=(s*et-r*V+i*U)*k,t[14]=(w*b-y*v-x*E)*k,t[15]=(h*v-p*b+d*E)*k,t):null}static adjoint(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],f=e[6],l=e[7],h=e[8],p=e[9],d=e[10],m=e[11],y=e[12],w=e[13],x=e[14],M=e[15],E=s*a-r*o,b=s*f-i*o,_=s*l-c*o,v=r*f-i*a,L=r*l-c*a,N=i*l-c*f,U=h*w-p*y,V=h*x-d*y,D=h*M-m*y,et=p*x-d*w,J=p*M-m*w,tt=d*M-m*x;return t[0]=a*tt-f*J+l*et,t[1]=i*J-r*tt-c*et,t[2]=w*N-x*L+M*v,t[3]=d*L-p*N-m*v,t[4]=f*D-o*tt-l*V,t[5]=s*tt-i*D+c*V,t[6]=x*_-y*N-M*b,t[7]=h*N-d*_+m*b,t[8]=o*J-a*D+l*U,t[9]=r*D-s*J-c*U,t[10]=y*L-w*_+M*E,t[11]=p*_-h*L-m*E,t[12]=a*V-o*et-f*U,t[13]=s*et-r*V+i*U,t[14]=w*b-y*v-x*E,t[15]=h*v-p*b+d*E,t}static determinant(t){const e=t[0],s=t[1],r=t[2],i=t[3],c=t[4],o=t[5],a=t[6],f=t[7],l=t[8],h=t[9],p=t[10],d=t[11],m=t[12],y=t[13],w=t[14],x=t[15],M=e*o-s*c,E=e*a-r*c,b=s*a-r*o,_=l*y-h*m,v=l*w-p*m,L=h*w-p*y,N=e*L-s*v+r*_,U=c*L-o*v+a*_,V=l*b-h*E+p*M,D=m*b-y*E+w*M;return f*N-i*U+x*V-d*D}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],f=e[5],l=e[6],h=e[7],p=e[8],d=e[9],m=e[10],y=e[11],w=e[12],x=e[13],M=e[14],E=e[15];let b=s[0],_=s[1],v=s[2],L=s[3];return t[0]=b*r+_*a+v*p+L*w,t[1]=b*i+_*f+v*d+L*x,t[2]=b*c+_*l+v*m+L*M,t[3]=b*o+_*h+v*y+L*E,b=s[4],_=s[5],v=s[6],L=s[7],t[4]=b*r+_*a+v*p+L*w,t[5]=b*i+_*f+v*d+L*x,t[6]=b*c+_*l+v*m+L*M,t[7]=b*o+_*h+v*y+L*E,b=s[8],_=s[9],v=s[10],L=s[11],t[8]=b*r+_*a+v*p+L*w,t[9]=b*i+_*f+v*d+L*x,t[10]=b*c+_*l+v*m+L*M,t[11]=b*o+_*h+v*y+L*E,b=s[12],_=s[13],v=s[14],L=s[15],t[12]=b*r+_*a+v*p+L*w,t[13]=b*i+_*f+v*d+L*x,t[14]=b*c+_*l+v*m+L*M,t[15]=b*o+_*h+v*y+L*E,t}static mul(t,e,s){return t}static translate(t,e,s){const r=s[0],i=s[1],c=s[2];if(e===t)t[12]=e[0]*r+e[4]*i+e[8]*c+e[12],t[13]=e[1]*r+e[5]*i+e[9]*c+e[13],t[14]=e[2]*r+e[6]*i+e[10]*c+e[14],t[15]=e[3]*r+e[7]*i+e[11]*c+e[15];else{const o=e[0],a=e[1],f=e[2],l=e[3],h=e[4],p=e[5],d=e[6],m=e[7],y=e[8],w=e[9],x=e[10],M=e[11];t[0]=o,t[1]=a,t[2]=f,t[3]=l,t[4]=h,t[5]=p,t[6]=d,t[7]=m,t[8]=y,t[9]=w,t[10]=x,t[11]=M,t[12]=o*r+h*i+y*c+e[12],t[13]=a*r+p*i+w*c+e[13],t[14]=f*r+d*i+x*c+e[14],t[15]=l*r+m*i+M*c+e[15]}return t}static scale(t,e,s){const r=s[0],i=s[1],c=s[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*c,t[9]=e[9]*c,t[10]=e[10]*c,t[11]=e[11]*c,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static rotate(t,e,s,r){let i=r[0],c=r[1],o=r[2],a=Math.sqrt(i*i+c*c+o*o);if(a<X)return null;a=1/a,i*=a,c*=a,o*=a;const f=Math.sin(s),l=Math.cos(s),h=1-l,p=e[0],d=e[1],m=e[2],y=e[3],w=e[4],x=e[5],M=e[6],E=e[7],b=e[8],_=e[9],v=e[10],L=e[11],N=i*i*h+l,U=c*i*h+o*f,V=o*i*h-c*f,D=i*c*h-o*f,et=c*c*h+l,J=o*c*h+i*f,tt=i*o*h+c*f,k=c*o*h-i*f,it=o*o*h+l;return t[0]=p*N+w*U+b*V,t[1]=d*N+x*U+_*V,t[2]=m*N+M*U+v*V,t[3]=y*N+E*U+L*V,t[4]=p*D+w*et+b*J,t[5]=d*D+x*et+_*J,t[6]=m*D+M*et+v*J,t[7]=y*D+E*et+L*J,t[8]=p*tt+w*k+b*it,t[9]=d*tt+x*k+_*it,t[10]=m*tt+M*k+v*it,t[11]=y*tt+E*k+L*it,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t}static rotateX(t,e,s){let r=Math.sin(s),i=Math.cos(s),c=e[4],o=e[5],a=e[6],f=e[7],l=e[8],h=e[9],p=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=c*i+l*r,t[5]=o*i+h*r,t[6]=a*i+p*r,t[7]=f*i+d*r,t[8]=l*i-c*r,t[9]=h*i-o*r,t[10]=p*i-a*r,t[11]=d*i-f*r,t}static rotateY(t,e,s){let r=Math.sin(s),i=Math.cos(s),c=e[0],o=e[1],a=e[2],f=e[3],l=e[8],h=e[9],p=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*i-l*r,t[1]=o*i-h*r,t[2]=a*i-p*r,t[3]=f*i-d*r,t[8]=c*r+l*i,t[9]=o*r+h*i,t[10]=a*r+p*i,t[11]=f*r+d*i,t}static rotateZ(t,e,s){let r=Math.sin(s),i=Math.cos(s),c=e[0],o=e[1],a=e[2],f=e[3],l=e[4],h=e[5],p=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*i+l*r,t[1]=o*i+h*r,t[2]=a*i+p*r,t[3]=f*i+d*r,t[4]=l*i-c*r,t[5]=h*i-o*r,t[6]=p*i-a*r,t[7]=d*i-f*r,t}static fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromRotation(t,e,s){let r=s[0],i=s[1],c=s[2],o=Math.sqrt(r*r+i*i+c*c);if(o<X)return null;o=1/o,r*=o,i*=o,c*=o;const a=Math.sin(e),f=Math.cos(e),l=1-f;return t[0]=r*r*l+f,t[1]=i*r*l+c*a,t[2]=c*r*l-i*a,t[3]=0,t[4]=r*i*l-c*a,t[5]=i*i*l+f,t[6]=c*i*l+r*a,t[7]=0,t[8]=r*c*l+i*a,t[9]=i*c*l-r*a,t[10]=c*c*l+f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromXRotation(t,e){let s=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=s,t[7]=0,t[8]=0,t[9]=-s,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromYRotation(t,e){let s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-s,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=s,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromZRotation(t,e){const s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=s,t[2]=0,t[3]=0,t[4]=-s,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromRotationTranslation(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=r+r,f=i+i,l=c+c,h=r*a,p=r*f,d=r*l,m=i*f,y=i*l,w=c*l,x=o*a,M=o*f,E=o*l;return t[0]=1-(m+w),t[1]=p+E,t[2]=d-M,t[3]=0,t[4]=p-E,t[5]=1-(h+w),t[6]=y+x,t[7]=0,t[8]=d+M,t[9]=y-x,t[10]=1-(h+m),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}static fromQuat2(t,e){let s=new O;const r=-e[0],i=-e[1],c=-e[2],o=e[3],a=e[4],f=e[5],l=e[6],h=e[7];let p=r*r+i*i+c*c+o*o;return p>0?(s[0]=(a*o+h*r+f*c-l*i)*2/p,s[1]=(f*o+h*i+l*r-a*c)*2/p,s[2]=(l*o+h*c+a*i-f*r)*2/p):(s[0]=(a*o+h*r+f*c-l*i)*2,s[1]=(f*o+h*i+l*r-a*c)*2,s[2]=(l*o+h*c+a*i-f*r)*2),Y.fromRotationTranslation(t,e,s),t}static getTranslation(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}static getScaling(t,e){const s=e[0],r=e[1],i=e[2],c=e[4],o=e[5],a=e[6],f=e[8],l=e[9],h=e[10];return t[0]=Math.sqrt(s*s+r*r+i*i),t[1]=Math.sqrt(c*c+o*o+a*a),t[2]=Math.sqrt(f*f+l*l+h*h),t}static getRotation(t,e){Y.getScaling(Ke,e);const s=1/Ke[0],r=1/Ke[1],i=1/Ke[2],c=e[0]*s,o=e[1]*r,a=e[2]*i,f=e[4]*s,l=e[5]*r,h=e[6]*i,p=e[8]*s,d=e[9]*r,m=e[10]*i,y=c+l+m;let w=0;return y>0?(w=Math.sqrt(y+1)*2,t[3]=.25*w,t[0]=(h-d)/w,t[1]=(p-a)/w,t[2]=(o-f)/w):c>l&&c>m?(w=Math.sqrt(1+c-l-m)*2,t[3]=(h-d)/w,t[0]=.25*w,t[1]=(o+f)/w,t[2]=(p+a)/w):l>m?(w=Math.sqrt(1+l-c-m)*2,t[3]=(p-a)/w,t[0]=(o+f)/w,t[1]=.25*w,t[2]=(h+d)/w):(w=Math.sqrt(1+m-c-l)*2,t[3]=(o-f)/w,t[0]=(p+a)/w,t[1]=(h+d)/w,t[2]=.25*w),t}static decompose(t,e,s,r){e[0]=r[12],e[1]=r[13],e[2]=r[14];const i=r[0],c=r[1],o=r[2],a=r[4],f=r[5],l=r[6],h=r[8],p=r[9],d=r[10];s[0]=Math.sqrt(i*i+c*c+o*o),s[1]=Math.sqrt(a*a+f*f+l*l),s[2]=Math.sqrt(h*h+p*p+d*d);const m=1/s[0],y=1/s[1],w=1/s[2],x=i*m,M=c*y,E=o*w,b=a*m,_=f*y,v=l*w,L=h*m,N=p*y,U=d*w,V=x+_+U;let D=0;return V>0?(D=Math.sqrt(V+1)*2,t[3]=.25*D,t[0]=(v-N)/D,t[1]=(L-E)/D,t[2]=(M-b)/D):x>_&&x>U?(D=Math.sqrt(1+x-_-U)*2,t[3]=(v-N)/D,t[0]=.25*D,t[1]=(M+b)/D,t[2]=(L+E)/D):_>U?(D=Math.sqrt(1+_-x-U)*2,t[3]=(L-E)/D,t[0]=(M+b)/D,t[1]=.25*D,t[2]=(v+N)/D):(D=Math.sqrt(1+U-x-_)*2,t[3]=(M-b)/D,t[0]=(L+E)/D,t[1]=(v+N)/D,t[2]=.25*D),t}static fromRotationTranslationScale(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=e[3],f=i+i,l=c+c,h=o+o,p=i*f,d=i*l,m=i*h,y=c*l,w=c*h,x=o*h,M=a*f,E=a*l,b=a*h,_=r[0],v=r[1],L=r[2];return t[0]=(1-(y+x))*_,t[1]=(d+b)*_,t[2]=(m-E)*_,t[3]=0,t[4]=(d-b)*v,t[5]=(1-(p+x))*v,t[6]=(w+M)*v,t[7]=0,t[8]=(m+E)*L,t[9]=(w-M)*L,t[10]=(1-(p+y))*L,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}static fromRotationTranslationScaleOrigin(t,e,s,r,i){const c=e[0],o=e[1],a=e[2],f=e[3],l=c+c,h=o+o,p=a+a,d=c*l,m=c*h,y=c*p,w=o*h,x=o*p,M=a*p,E=f*l,b=f*h,_=f*p,v=r[0],L=r[1],N=r[2],U=i[0],V=i[1],D=i[2],et=(1-(w+M))*v,J=(m+_)*v,tt=(y-b)*v,k=(m-_)*L,it=(1-(d+M))*L,st=(x+E)*L,Z=(y+b)*N,vt=(x-E)*N,Ft=(1-(d+w))*N;return t[0]=et,t[1]=J,t[2]=tt,t[3]=0,t[4]=k,t[5]=it,t[6]=st,t[7]=0,t[8]=Z,t[9]=vt,t[10]=Ft,t[11]=0,t[12]=s[0]+U-(et*U+k*V+Z*D),t[13]=s[1]+V-(J*U+it*V+vt*D),t[14]=s[2]+D-(tt*U+st*V+Ft*D),t[15]=1,t}static fromQuat(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=s+s,a=r+r,f=i+i,l=s*o,h=r*o,p=r*a,d=i*o,m=i*a,y=i*f,w=c*o,x=c*a,M=c*f;return t[0]=1-p-y,t[1]=h+M,t[2]=d-x,t[3]=0,t[4]=h-M,t[5]=1-l-y,t[6]=m+w,t[7]=0,t[8]=d+x,t[9]=m-w,t[10]=1-l-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static frustum(t,e,s,r,i,c,o){const a=1/(s-e),f=1/(i-r),l=1/(c-o);return t[0]=c*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c*2*f,t[6]=0,t[7]=0,t[8]=(s+e)*a,t[9]=(i+r)*f,t[10]=(o+c)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*c*2*l,t[15]=0,t}static perspectiveNO(t,e,s,r,i){const c=1/Math.tan(e/2);if(t[0]=c/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const o=1/(r-i);t[10]=(i+r)*o,t[14]=2*i*r*o}else t[10]=-1,t[14]=-2*r;return t}static perspective(t,e,s,r,i){return t}static perspectiveZO(t,e,s,r,i){const c=1/Math.tan(e/2);if(t[0]=c/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const o=1/(r-i);t[10]=i*o,t[14]=i*r*o}else t[10]=-1,t[14]=-r;return t}static perspectiveFromFieldOfView(t,e,s,r){const i=Math.tan(e.upDegrees*Math.PI/180),c=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),f=2/(o+a),l=2/(i+c);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((o-a)*f*.5),t[9]=(i-c)*l*.5,t[10]=r/(s-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*s/(s-r),t[15]=0,t}static orthoNO(t,e,s,r,i,c,o){const a=1/(e-s),f=1/(r-i),l=1/(c-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+s)*a,t[13]=(i+r)*f,t[14]=(o+c)*l,t[15]=1,t}static ortho(t,e,s,r,i,c,o){return t}static orthoZO(t,e,s,r,i,c,o){const a=1/(e-s),f=1/(r-i),l=1/(c-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+s)*a,t[13]=(i+r)*f,t[14]=c*l,t[15]=1,t}static lookAt(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=r[0],f=r[1],l=r[2],h=s[0],p=s[1],d=s[2];if(Math.abs(i-h)<X&&Math.abs(c-p)<X&&Math.abs(o-d)<X)return Y.identity(t);let m=i-h,y=c-p,w=o-d,x=1/Math.sqrt(m*m+y*y+w*w);m*=x,y*=x,w*=x;let M=f*w-l*y,E=l*m-a*w,b=a*y-f*m;x=Math.sqrt(M*M+E*E+b*b),x?(x=1/x,M*=x,E*=x,b*=x):(M=0,E=0,b=0);let _=y*b-w*E,v=w*M-m*b,L=m*E-y*M;return x=Math.sqrt(_*_+v*v+L*L),x?(x=1/x,_*=x,v*=x,L*=x):(_=0,v=0,L=0),t[0]=M,t[1]=_,t[2]=m,t[3]=0,t[4]=E,t[5]=v,t[6]=y,t[7]=0,t[8]=b,t[9]=L,t[10]=w,t[11]=0,t[12]=-(M*i+E*c+b*o),t[13]=-(_*i+v*c+L*o),t[14]=-(m*i+y*c+w*o),t[15]=1,t}static targetTo(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=r[0],f=r[1],l=r[2];let h=i-s[0],p=c-s[1],d=o-s[2],m=h*h+p*p+d*d;m>0&&(m=1/Math.sqrt(m),h*=m,p*=m,d*=m);let y=f*d-l*p,w=l*h-a*d,x=a*p-f*h;return m=y*y+w*w+x*x,m>0&&(m=1/Math.sqrt(m),y*=m,w*=m,x*=m),t[0]=y,t[1]=w,t[2]=x,t[3]=0,t[4]=p*x-d*w,t[5]=d*y-h*x,t[6]=h*w-p*y,t[7]=0,t[8]=h,t[9]=p,t[10]=d,t[11]=0,t[12]=i,t[13]=c,t[14]=o,t[15]=1,t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8]+t[9]*t[9]+t[10]*t[10]+t[11]*t[11]+t[12]*t[12]+t[13]*t[13]+t[14]*t[14]+t[15]*t[15])}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}static sub(t,e,s){return t}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t}static multiplyScalarAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t[4]=e[4]+s[4]*r,t[5]=e[5]+s[5]*r,t[6]=e[6]+s[6]*r,t[7]=e[7]+s[7]*r,t[8]=e[8]+s[8]*r,t[9]=e[9]+s[9]*r,t[10]=e[10]+s[10]*r,t[11]=e[11]+s[11]*r,t[12]=e[12]+s[12]*r,t[13]=e[13]+s[13]*r,t[14]=e[14]+s[14]*r,t[15]=e[15]+s[15]*r,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=t[4],a=t[5],f=t[6],l=t[7],h=t[8],p=t[9],d=t[10],m=t[11],y=t[12],w=t[13],x=t[14],M=t[15],E=e[0],b=e[1],_=e[2],v=e[3],L=e[4],N=e[5],U=e[6],V=e[7],D=e[8],et=e[9],J=e[10],tt=e[11],k=e[12],it=e[13],st=e[14],Z=e[15];return Math.abs(s-E)<=X*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(r-b)<=X*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=X*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(c-v)<=X*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(o-L)<=X*Math.max(1,Math.abs(o),Math.abs(L))&&Math.abs(a-N)<=X*Math.max(1,Math.abs(a),Math.abs(N))&&Math.abs(f-U)<=X*Math.max(1,Math.abs(f),Math.abs(U))&&Math.abs(l-V)<=X*Math.max(1,Math.abs(l),Math.abs(V))&&Math.abs(h-D)<=X*Math.max(1,Math.abs(h),Math.abs(D))&&Math.abs(p-et)<=X*Math.max(1,Math.abs(p),Math.abs(et))&&Math.abs(d-J)<=X*Math.max(1,Math.abs(d),Math.abs(J))&&Math.abs(m-tt)<=X*Math.max(1,Math.abs(m),Math.abs(tt))&&Math.abs(y-k)<=X*Math.max(1,Math.abs(y),Math.abs(k))&&Math.abs(w-it)<=X*Math.max(1,Math.abs(w),Math.abs(it))&&Math.abs(x-st)<=X*Math.max(1,Math.abs(x),Math.abs(st))&&Math.abs(M-Z)<=X*Math.max(1,Math.abs(M),Math.abs(Z))}static str(t){return`Mat4(${t.join(", ")})`}}const Ke=new O;Y.prototype.mul=Y.prototype.multiply;Y.sub=Y.subtract;Y.mul=Y.multiply;Y.perspective=Y.perspectiveNO;Y.ortho=Y.orthoNO;class G extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get a(){return this[3]}set a(t){this[3]=t}get magnitude(){const t=this[0],e=this[1],s=this[2],r=this[3];return Math.sqrt(t*t+e*e+s*s+r*r)}get mag(){return this.magnitude}get str(){return G.str(this)}copy(t){return super.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this[3]+=t[3],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this[3]-=t[3],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this[3]*=t[3],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this[2]/=t[2],this[3]/=t[3],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this[2]+=t[2]*e,this[3]+=t[3]*e,this}distance(t){return G.distance(this,t)}dist(t){return 0}squaredDistance(t){return G.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this[3]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this[3]=1/this[3],this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]+this[3]*t[3]}normalize(){return G.normalize(this,this)}static create(){return new G}static clone(t){return new G(t)}static fromValues(t,e,s,r){return new G(t,e,s,r)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static set(t,e,s,r,i){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t}static sub(t,e,s){return t}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t[3]=e[3]*s[3],t}static mul(t,e,s){return t}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t[3]=e[3]/s[3],t}static div(t,e,s){return t}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math.min(e[2],s[2]),t[3]=Math.min(e[3],s[3]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math.max(e[2],s[2]),t[3]=Math.max(e[3],s[3]),t}static round(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static scaleAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t}static distance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],c=e[3]-t[3];return Math.hypot(s,r,i,c)}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],c=e[3]-t[3];return s*s+r*r+i*i+c*c}static sqrDist(t,e){return 0}static magnitude(t){const e=t[0],s=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+s*s+r*r+i*i)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){const e=t[0],s=t[1],r=t[2],i=t[3];return e*e+s*s+r*r+i*i}static sqrLen(t){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}static normalize(t,e){const s=e[0],r=e[1],i=e[2],c=e[3];let o=s*s+r*r+i*i+c*c;return o>0&&(o=1/Math.sqrt(o)),t[0]=s*o,t[1]=r*o,t[2]=i*o,t[3]=c*o,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static cross(t,e,s,r){const i=s[0]*r[1]-s[1]*r[0],c=s[0]*r[2]-s[2]*r[0],o=s[0]*r[3]-s[3]*r[0],a=s[1]*r[2]-s[2]*r[1],f=s[1]*r[3]-s[3]*r[1],l=s[2]*r[3]-s[3]*r[2],h=e[0],p=e[1],d=e[2],m=e[3];return t[0]=p*l-d*f+m*a,t[1]=-(h*l)+d*o-m*c,t[2]=h*f-p*o+m*i,t[3]=-(h*a)+p*c-d*i,t}static lerp(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=e[3];return t[0]=i+r*(s[0]-i),t[1]=c+r*(s[1]-c),t[2]=o+r*(s[2]-o),t[3]=a+r*(s[3]-a),t}static transformMat4(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3];return t[0]=s[0]*r+s[4]*i+s[8]*c+s[12]*o,t[1]=s[1]*r+s[5]*i+s[9]*c+s[13]*o,t[2]=s[2]*r+s[6]*i+s[10]*c+s[14]*o,t[3]=s[3]*r+s[7]*i+s[11]*c+s[15]*o,t}static transformQuat(t,e,s){const r=e[0],i=e[1],c=e[2],o=s[0],a=s[1],f=s[2],l=s[3],h=l*r+a*c-f*i,p=l*i+f*r-o*c,d=l*c+o*i-a*r,m=-o*r-a*i-f*c;return t[0]=h*l+m*-o+p*-f-d*-a,t[1]=p*l+m*-a+d*-o-h*-f,t[2]=d*l+m*-f+h*-a-p*-o,t[3]=e[3],t}static zero(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}static str(t){return`Vec4(${t.join(", ")})`}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=e[0],a=e[1],f=e[2],l=e[3];return Math.abs(s-o)<=X*Math.max(1,Math.abs(s),Math.abs(o))&&Math.abs(r-a)<=X*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-f)<=X*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(c-l)<=X*Math.max(1,Math.abs(c),Math.abs(l))}}G.prototype.sub=G.prototype.subtract;G.prototype.mul=G.prototype.multiply;G.prototype.div=G.prototype.divide;G.prototype.dist=G.prototype.distance;G.prototype.sqrDist=G.prototype.squaredDistance;G.sub=G.subtract;G.mul=G.multiply;G.div=G.divide;G.dist=G.distance;G.sqrDist=G.squaredDistance;G.sqrLen=G.squaredLength;G.mag=G.magnitude;G.length=G.magnitude;G.len=G.magnitude;class j extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4),this[3]=1;break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}get magnitude(){const t=this[0],e=this[1],s=this[2],r=this[3];return Math.sqrt(t*t+e*e+s*s+r*r)}get mag(){return this.magnitude}get str(){return j.str(this)}copy(t){return super.set(t),this}identity(){return this[0]=0,this[1]=0,this[2]=0,this[3]=1,this}multiply(t){return j.multiply(this,this,t)}mul(t){return this}rotateX(t){return j.rotateX(this,this,t)}rotateY(t){return j.rotateY(this,this,t)}rotateZ(t){return j.rotateZ(this,this,t)}invert(){return j.invert(this,this)}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this}dot(t){return j.dot(this,t)}static create(){return new j}static identity(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}static setAxisAngle(t,e,s){s=s*.5;const r=Math.sin(s);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(s),t}static getAxisAngle(t,e){const s=Math.acos(e[3])*2,r=Math.sin(s/2);return r>X?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),s}static getAngle(t,e){const s=j.dot(t,e);return Math.acos(2*s*s-1)}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=s[0],f=s[1],l=s[2],h=s[3];return t[0]=r*h+o*a+i*l-c*f,t[1]=i*h+o*f+c*a-r*l,t[2]=c*h+o*l+r*f-i*a,t[3]=o*h-r*a-i*f-c*l,t}static rotateX(t,e,s){s*=.5;const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),f=Math.cos(s);return t[0]=r*f+o*a,t[1]=i*f+c*a,t[2]=c*f-i*a,t[3]=o*f-r*a,t}static rotateY(t,e,s){s*=.5;const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),f=Math.cos(s);return t[0]=r*f-c*a,t[1]=i*f+o*a,t[2]=c*f+r*a,t[3]=o*f-i*a,t}static rotateZ(t,e,s){s*=.5;const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),f=Math.cos(s);return t[0]=r*f+i*a,t[1]=i*f-r*a,t[2]=c*f+o*a,t[3]=o*f-c*a,t}static calculateW(t,e){const s=e[0],r=e[1],i=e[2];return t[0]=s,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-s*s-r*r-i*i)),t}static exp(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=Math.sqrt(s*s+r*r+i*i),a=Math.exp(c),f=o>0?a*Math.sin(o)/o:0;return t[0]=s*f,t[1]=r*f,t[2]=i*f,t[3]=a*Math.cos(o),t}static ln(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=Math.sqrt(s*s+r*r+i*i),a=o>0?Math.atan2(o,c)/o:0;return t[0]=s*a,t[1]=r*a,t[2]=i*a,t[3]=.5*Math.log(s*s+r*r+i*i+c*c),t}static pow(t,e,s){return j.ln(t,e),j.scale(t,t,s),j.exp(t,t),t}static slerp(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=e[3];let f=s[0],l=s[1],h=s[2],p=s[3],d,m,y=i*f+c*l+o*h+a*p;if(y<0&&(y=-y,f=-f,l=-l,h=-h,p=-p),1-y>X){const w=Math.acos(y),x=Math.sin(w);d=Math.sin((1-r)*w)/x,m=Math.sin(r*w)/x}else d=1-r,m=r;return t[0]=d*i+m*f,t[1]=d*c+m*l,t[2]=d*o+m*h,t[3]=d*a+m*p,t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=s*s+r*r+i*i+c*c,a=o?1/o:0;return t[0]=-s*a,t[1]=-r*a,t[2]=-i*a,t[3]=c*a,t}static conjugate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}static fromMat3(t,e){const s=e[0]+e[4]+e[8];let r;if(s>0)r=Math.sqrt(s+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let c=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[c*3+c]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[c*3+o]-e[o*3+c])*r,t[c]=(e[c*3+i]+e[i*3+c])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}static fromEuler(t,e,s,r){let i=.5*Math.PI/180;e*=i,s*=i,r*=i;let c=Math.sin(e),o=Math.cos(e),a=Math.sin(s),f=Math.cos(s),l=Math.sin(r),h=Math.cos(r);return t[0]=c*f*h-o*a*l,t[1]=o*a*h+c*f*l,t[2]=o*f*l-c*a*h,t[3]=o*f*h+c*a*l,t}static str(t){return`Quat(${t.join(", ")})`}static clone(t){return new j(t)}static fromValues(t,e,s,r){return new j(t,e,s,r)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static set(t,e,s,r,i){return t}static add(t,e,s){return t}static mul(t,e,s){return t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static lerp(t,e,s,r){return t}static magnitude(t){return 0}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){return 0}static sqrLen(t){return 0}static normalize(t,e){return t}static exactEquals(t,e){return!1}static equals(t,e){return!1}static rotationTo(t,e,s){let r=O.dot(e,s);return r<-.999999?(O.cross(Dt,ci,e),O.len(Dt)<1e-6&&O.cross(Dt,oi,e),O.normalize(Dt,Dt),j.setAxisAngle(t,Dt,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(O.cross(Dt,e,s),t[0]=Dt[0],t[1]=Dt[1],t[2]=Dt[2],t[3]=1+r,j.normalize(t,t))}static sqlerp(t,e,s,r,i,c){return j.slerp(bn,e,i,c),j.slerp(Mn,s,r,c),j.slerp(t,bn,Mn,2*c*(1-c)),t}static setAxes(t,e,s,r){return Ut[0]=s[0],Ut[3]=s[1],Ut[6]=s[2],Ut[1]=r[0],Ut[4]=r[1],Ut[7]=r[2],Ut[2]=-e[0],Ut[5]=-e[1],Ut[8]=-e[2],j.normalize(t,j.fromMat3(t,Ut))}}const bn=new j,Mn=new j,Ut=new pt,Dt=new O,ci=new O(1,0,0),oi=new O(0,1,0);j.set=G.set;j.add=G.add;j.lerp=G.lerp;j.normalize=G.normalize;j.squaredLength=G.squaredLength;j.sqrLen=G.squaredLength;j.exactEquals=G.exactEquals;j.equals=G.equals;j.magnitude=G.magnitude;j.prototype.mul=j.prototype.multiply;j.mul=j.multiply;j.mag=j.magnitude;j.length=j.magnitude;j.len=j.magnitude;class os{fov;aspect;near;far;active=!0;constructor(t=90,e=1,s=.1,r=1e3){this.fov=t,this.aspect=e,this.near=s,this.far=r}getProjectionMatrix(t){let e=new Y;const s=t??this.aspect,r=2*Math.atan(Math.tan(this.fov*Math.PI/360)/s)*180/Math.PI;return Y.perspectiveNO(e,r*Math.PI/180,s,this.near,this.far),e}setActive(t){this.active=t}}class se{static cache=new Map;static async fetchArrayBuffer(t,e){const s=await fetch(t,e);if(!s.ok)throw new Error(`Failed to fetch ${t}: ${s.status} ${s.statusText}`);return await s.arrayBuffer()}static async fetchText(t,e){const s=await fetch(t,e);if(!s.ok)throw new Error(`Failed to fetch ${t}: ${s.status} ${s.statusText}`);return await s.text()}static loadImage(t,e="anonymous"){return new Promise((s,r)=>{const i=new Image;e&&(i.crossOrigin=e),i.onload=()=>s(i),i.onerror=()=>r(new Error(`Failed to load image: ${t}`)),i.src=t})}static async loadResource(t,e){const s=this.cache.get(t);if(s)return s;const r=this._getExtension(t).toLowerCase(),i=e||this._mimeFromExtension(r)||void 0;let c;try{i&&i.startsWith("image/")?c={type:"image",data:await this.loadImage(t),mime:i}:r==="obj"||r==="mtl"||r==="gltf"||r==="glsl"||r==="vs"||r==="fs"||r==="txt"||r==="json"?c={type:"text",data:await this.fetchText(t),mime:i}:r==="glb"||r==="bin"||r==="fbx"||r==="dae"||r==="stl"?c={type:"arraybuffer",data:await this.fetchArrayBuffer(t),mime:i}:c={type:"arraybuffer",data:await this.fetchArrayBuffer(t),mime:i}}catch(o){return console.error(`Failed to load resource ${t}: ${o.message}`),null}return this.cache.set(t,c),c}static loadedResourceToText(t=null){return t?t.type==="text"?t.data:t.type==="arraybuffer"?new TextDecoder().decode(t.data):(t.type==="image"&&console.error("Cannot convert image resource to text"),""):null}static getCached(t){return this.cache.get(t)}static clearCache(){this.cache.clear()}static _getExtension(t){try{const s=new URL(t,location.href).pathname,r=s.lastIndexOf(".");return r>=0?s.substring(r+1):""}catch{const s=t.lastIndexOf(".");return s>=0?t.substring(s+1):""}}static _mimeFromExtension(t){switch(t){case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"gif":return"image/gif";case"webp":return"image/webp";case"bmp":return"image/bmp";case"obj":return"text/plain";case"gltf":return"application/json";case"glb":return"model/gltf-binary";case"bin":return"application/octet-stream";case"fbx":return"application/octet-stream";case"stl":return"application/sla";case"vs":case"fs":case"glsl":return"text/plain";case"json":return"application/json";case"txt":return"text/plain";default:return null}}}class ai{static cache=new Map;static async loadTexture(t,e,s=!0,r=!0){if(this.cache.has(e))return this.cache.get(e);const i=await se.loadResource(e);if(!i)return console.error(`Failed to load texture: ${e}`),null;let c=null;if(i.type==="image")c=i.data;else if(i.type==="arraybuffer"){const a=new Blob([i.data]),f=URL.createObjectURL(a);try{c=await se.loadImage(f)}finally{URL.revokeObjectURL(f)}}else if(i.type==="text"){const a=new Blob([i.data]),f=URL.createObjectURL(a);try{c=await se.loadImage(f)}finally{URL.revokeObjectURL(f)}}if(!c)throw new Error(`Failed to load image resource: ${e}`);const o=t.createTexture();if(!o)throw new Error("Impossible de créer la texture WebGL");return t.bindTexture(t.TEXTURE_2D,o),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s?1:0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,c),wn(c.width)&&wn(c.height)&&r?(t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.bindTexture(t.TEXTURE_2D,null),this.cache.set(e,o),o}static getCached(t){return this.cache.get(t)}static deleteTexture(t,e){const s=this.cache.get(e);s&&(t.deleteTexture(s),this.cache.delete(e))}static clearCache(t){if(t)for(const e of this.cache.values())t.deleteTexture(e);this.cache.clear()}}function wn(n){return(n&n-1)===0}class Tn{vertexShader;fragmentShader;geometryShader;tessControlShader;tessEvalShader;constructor(t,e,s,r,i){this.vertexShader=t,this.fragmentShader=e,this.geometryShader=s,this.tessControlShader=r,this.tessEvalShader=i}}class li{static async LoadShaderFile(t){const e=await fetch(t);if(!e.ok)throw new Error(`Erreur lors du chargement du shader: ${t}`);return await e.text()}static async LoadShaderFolder(t){t.endsWith("/")||(t+="/"),console.log("Try to load shaders from folder",t);const s=(t.endsWith("/")?t:t+"/").split("/").filter(Boolean),r=s[s.length-1],i=[{ext:".vs",key:"vertexShader"},{ext:".fs",key:"fragmentShader"},{ext:".gs",key:"geometryShader"},{ext:".ts",key:"tessControlShader"},{ext:".tes",key:"tessEvalShader"}];let c="",o="",a,f,l;if(await Promise.all(i.map(async({ext:h,key:p})=>{const d=t+r+h;try{const m=await fetch(d);if(m.ok){const y=await m.text();switch(p){case"vertexShader":c=y;break;case"fragmentShader":o=y;break;case"geometryShader":a=y;break;case"tessControlShader":f=y;break;case"tessEvalShader":l=y;break}}}catch{}})),!c||!o)throw new Error("Le dossier ne contient pas de vertexShader (.vs) ou fragmentShader (.fs)");return console.log("Loaded shaders from folder",t),new Tn(c,o,a,f,l)}static testShader(){const t=`#version 300 es
        precision highp float;

        in vec3 a_position;

        uniform mat4 u_proj;
        uniform mat4 u_view;
        uniform mat4 u_model;


        void main() {
            vec4 worldPos = u_model * vec4(a_position, 1.0);
            gl_Position = u_proj * u_view * worldPos;
        }
        `,e=`#version 300 es
        precision highp float;
        out vec4 outColor;
        void main() {
            outColor = vec4(1.0,0.0,0.0, 1.0);
        }
        `;return new Tn(t,e)}}class fi{gl;program;uniformLocations=new Map;pendingUniforms=new Map;dirtyUniforms=new Set;uniformCache=new Map;attribBindings=new Map;constructor(t,e){this.gl=t;const s=this.compile(t.VERTEX_SHADER,e.vertexShader),r=this.compile(t.FRAGMENT_SHADER,e.fragmentShader),i=t.createProgram();if(!i)throw new Error("Impossible de créer le programme WebGL.");t.attachShader(i,s),t.attachShader(i,r);for(const[c,o]of this.attribBindings.entries())t.bindAttribLocation(i,o,c);if(t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS)){const c=t.getProgramInfoLog(i);throw new Error("Erreur de linkage du shader: "+c)}t.deleteShader(s),t.deleteShader(r),this.program=i}bindAttrib(t,e){this.attribBindings.set(t,e)}use(){this.gl.useProgram(this.program);for(const t of Array.from(this.dirtyUniforms)){const e=this.pendingUniforms.get(t);e!==void 0&&(this.applyUniform(t,e),this.pendingUniforms.delete(t)),this.dirtyUniforms.delete(t)}}getUniformLocation(t){if(this.uniformLocations.has(t))return this.uniformLocations.get(t);const e=this.gl.getUniformLocation(this.program,t);return e?(this.uniformLocations.set(t,e),e):(this.uniformLocations.set(t,null),null)}set(t,e){this.pendingUniforms.set(t,e),this.dirtyUniforms.add(t)}setUniform(t,e){this.applyUniform(t,e)}applyUniform(t,e){const s=this.getUniformLocation(t);if(!s)return;const r=this.uniformCache.get(t);if(r!==void 0){if(typeof r=="number"||typeof r=="boolean"){if(r===e)return}else if(Array.isArray(r)||r instanceof Float32Array||r instanceof Int32Array){const c=r.length;if((Array.isArray(e)||e instanceof Float32Array||e instanceof Int32Array)&&e.length===c){let o=!0;for(let a=0;a<c;a++)if(r[a]!==e[a]){o=!1;break}if(o)return}}}if(typeof e=="number"){this.gl.uniform1f(s,e),this.uniformCache.set(t,e);return}if(typeof e=="boolean"){this.gl.uniform1i(s,e?1:0),this.uniformCache.set(t,e);return}if(e instanceof Int32Array)switch(e.length){case 1:this.gl.uniform1iv(s,e),this.uniformCache.set(t,new Int32Array(e));return;case 2:this.gl.uniform2iv(s,e),this.uniformCache.set(t,new Int32Array(e));return;case 3:this.gl.uniform3iv(s,e),this.uniformCache.set(t,new Int32Array(e));return;case 4:this.gl.uniform4iv(s,e),this.uniformCache.set(t,new Int32Array(e));return}const i=Array.isArray(e)||e instanceof Float32Array?e.length:0;if(i>0&&(e instanceof Float32Array||Array.isArray(e)))switch(i){case 1:this.gl.uniform1fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 2:this.gl.uniform2fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 3:this.gl.uniform3fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 4:this.gl.uniform4fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 9:this.gl.uniformMatrix3fv(s,!1,e),this.uniformCache.set(t,new Float32Array(e));return;case 16:this.gl.uniformMatrix4fv(s,!1,e),this.uniformCache.set(t,new Float32Array(e));return;default:this.gl.uniform1fv(s,new Float32Array(e)),this.uniformCache.set(t,new Float32Array(e));return}console.warn(`Cannot set uniform '${t}' with value:`,e)}compile(t,e){const s=this.gl.createShader(t);if(!s)throw new Error("Cannot create shader.");if(this.gl.shaderSource(s,e),this.gl.compileShader(s),!this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)){const r=this.gl.getShaderInfoLog(s);throw new Error("Shader compilation error: "+r)}return s}delete(){this.gl.deleteProgram(this.program),this.uniformCache.clear(),this.uniformLocations.clear()}clearUniformCache(){this.uniformCache.clear()}getProgram(){return this.program}}class ht{static currentGLContext=null;canvas;gl;constructor(t){this.canvas=t;const e=t.getContext("webgl2");if(e)console.log("WebGL2 context initialized",e);else throw new Error("WebGL2 non supporté par ce navigateur");this.gl=e,this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK),this.gl.enable(this.gl.DEPTH_TEST),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas.bind(this))}clear(t=0,e=0,s=0,r=1){this.gl.clearColor(t,e,s,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}setViewport(t,e){console.log("Set viewport",t,e),this.gl.viewport(0,0,t,e)}enableDepthTest(){this.gl.enable(this.gl.DEPTH_TEST)}resizeCanvas(){console.log("Resizing canvas to",window.innerWidth,window.innerHeight),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.setViewport(this.canvas.width,this.canvas.height)}getAspectRatio(){return this.canvas.width/this.canvas.height}static getGL(t){if(t)return t instanceof ht?t.gl:t;if(ht.currentGLContext)return ht.currentGLContext.gl;throw new Error("No WebGL context available")}}class Le{static texturePromises=new Map;static textureCache=new Map;static colorLastUsed=new Map;static colorCleanupIntervalId=null;static shaderCache=new Map;static async loadTexture(t,e){if(e=ht.getGL(e),!e)throw new Error("No WebGL context available");if(this.textureCache.has(t))return this.textureCache.get(t);if(this.texturePromises.has(t))return this.texturePromises.get(t);const s=ai.loadTexture(e,t).then(r=>(r&&this.textureCache.set(t,r),this.texturePromises.delete(t),r));return this.texturePromises.set(t,s),s}static getTexture(t){return this.textureCache.get(t)}static loadTextureHandle(t,e){e=ht.getGL(e);const s={state:"loading"},r=this.loadTexture(t,e).then(c=>(s.state="ready",s.texture=c??null,c)).catch(c=>{throw s.state="error",s.error=c,c}),i={ready:[],error:[]};return r.then(c=>{for(const o of i.ready)o(c??null)}).catch(c=>{for(const o of i.error)o(c)}),{stateObj:s,promise:r,onReady:c=>{i.ready.push(c),s.state==="ready"&&c(s.texture??null)},onError:c=>{i.error.push(c),s.state==="error"&&s.error&&c(s.error)}}}static async loadShaderProgram(t,e){if(e=ht.getGL(e),this.shaderCache.has(t))return this.shaderCache.get(t);const s=await li.LoadShaderFolder(t),r=new fi(e,s);return this.shaderCache.set(t,r),r}static getShaderProgram(t){return this.shaderCache.get(t)}static loadShaderProgramHandle(t,e){e=ht.getGL(e);const s={state:"loading"},r=this.loadShaderProgram(t,e).then(c=>(s.state="ready",s.program=c,c)).catch(c=>{throw s.state="error",s.error=c,c}),i={ready:[],error:[]};return r.then(c=>{for(const o of i.ready)o(c)}).catch(c=>{for(const o of i.error)o(c)}),{stateObj:s,promise:r,onReady:c=>{i.ready.push(c),s.state==="ready"&&s.program&&c(s.program)},onError:c=>{i.error.push(c),s.state==="error"&&s.error&&c(s.error)}}}static clearTextures(){this.texturePromises.clear(),this.textureCache.clear()}static clearTexturesGL(t){t=ht.getGL(t);for(const e of this.textureCache.values())t.deleteTexture(e);this.clearTextures()}static deleteTexture(t,e){e=ht.getGL(e);const s=this.textureCache.get(t);s&&(e.deleteTexture(s),this.textureCache.delete(t))}static deleteShaderProgram(t){const e=this.shaderCache.get(t);e&&(e.delete(),this.shaderCache.delete(t))}static getOrCreateColorTexture(t,e){e=ht.getGL(e);const s=this.colorKey(t);if(this.textureCache.has(s))return this.textureCache.get(s);const r=e.createTexture();if(!r)throw new Error("Failed to create WebGL texture");e.bindTexture(e.TEXTURE_2D,r);const i=Math.round(t[0]*255),c=Math.round(t[1]*255),o=Math.round(t[2]*255),a=Math.round(t[3]*255),f=new Uint8Array([i,c,o,a]);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,f),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.textureCache.set(s,r),this.colorLastUsed.set(s,Date.now()),r}static colorKey(t){return`__color_${t.map(e=>Math.round(e*255)).join("_")}`}static deleteColorTexture(t,e){e=ht.getGL(e);const s=this.colorKey(t),r=this.textureCache.get(s);r&&(e.deleteTexture(r),this.textureCache.delete(s),this.colorLastUsed.delete(s))}static clearColorTextures(t){t=ht.getGL(t);for(const e of Array.from(this.textureCache.keys()))if(e.startsWith("__color_")){const s=this.textureCache.get(e);t.deleteTexture(s),this.textureCache.delete(e),this.colorLastUsed.delete(e)}}static enableColorTextureAutoCleanup(t,e=6e4,s=3e4){if(t){if(this.colorCleanupIntervalId!==null)return;this.colorCleanupIntervalId=setInterval(()=>{const r=Date.now();for(const[i,c]of Array.from(this.colorLastUsed.entries()))if(r-c>e){const o=this.textureCache.get(i);if(o)try{ht.getGL().deleteTexture(o)}catch{}this.textureCache.delete(i),this.colorLastUsed.delete(i)}},s)}else this.colorCleanupIntervalId!==null&&(clearInterval(this.colorCleanupIntervalId),this.colorCleanupIntervalId=null)}}class Fe{shader;uniforms={};textures={};fallbackColors={};fallbackByType={};constructor(t){this.shader=t}setUniform(t,e){this.uniforms[t]=e}setTextureUniform(t,e){this.textures[t]=e}setFallbackTexture(t,e){this.fallbackColors[t]=e}setFallbackByType(t,e){this.fallbackByType[t]=e}inferTypeFromName(t){let e=t.toLowerCase();return e.startsWith("u_")&&(e=e.substring(2)),e.endsWith("_map")&&(e=e.substring(0,e.length-4)),e.includes("albedo")||e.includes("diffuse")?"albedo":e.includes("normal")?"normal":e.includes("metallic")?"metallic":e.includes("roughness")?"roughness":e.includes("ao")?"ao":null}applyTo(t){t=ht.getGL(t);for(const[s,r]of Object.entries(this.uniforms))this.shader.setUniform(s,r);let e=0;for(const[s,r]of Object.entries(this.textures)){const i=Le.getTexture(r);if(i)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,i),this.shader.setUniform(s,e),e++;else{Le.loadTexture(r,t).catch(o=>console.warn("Texture load failed",r,o));const c=this.fallbackColors[s]??(()=>{const o=this.inferTypeFromName(s);return o?this.fallbackByType[o]:void 0})();if(c)try{const o=Le.getOrCreateColorTexture(c,t);t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,o),this.shader.setUniform(s,e),e++}catch(o){console.warn("Failed to create fallback color texture",o)}}}}}class hi{static getSignature(t){const e=t.shader?.getProgram?t.shader.getProgram().toString():"shader",s=Object.keys(t.uniforms).sort().join(","),r=Object.keys(t.textures).sort().join(",");return`${e}|u:${s}|t:${r}`}}class Qn{modelGL;constructor(t){this.modelGL=t}getVAO(){return this.modelGL.vao}getVertexCount(){return this.modelGL.vertexCount}getIndexType(){return this.modelGL.indexType||0}dispose(t){try{this.modelGL&&typeof this.modelGL.delete=="function"&&this.modelGL.delete(t)}catch(e){console.warn("Error disposing ModelGL",e)}}}class kt{position=new O(0,0,0);rotation=new j(0,0,0,1);scale=new O(1,1,1);constructor(){}setPosition(t){this.position=t}setRotationQuat(t){this.rotation=t}setRotationEuler(t){j.fromEuler(this.rotation,t.x,t.y,t.z)}setScale(t){this.scale=t}getPosition(){return this.position}getRotation(){return this.rotation}getRotationEuler(){return this.toEulerXYZ(this.rotation)}toEulerXYZ(t){const e=t.w*t.x,s=t.w*t.y,r=t.w*t.z,i=t.x*t.x,c=t.x*t.y,o=t.x*t.z,a=t.y*t.y,f=t.y*t.z,l=t.z*t.z;return new O(-Math.atan2(2*(f-e),1-2*(i+a))*180/Math.PI,Math.asin(2*(o+s))*180/Math.PI,-Math.atan2(2*(c-r),1-2*(a+l))*180/Math.PI)}getScale(){return this.scale}lookAt(t,e=new O(0,1,0)){const s=new O;O.subtract(s,t,this.position),O.normalize(s,s);const r=new Y;Y.targetTo(r,this.position,t,e);const i=new j;Y.getRotation(i,r),this.rotation=i}getLocalMatrix(){const t=new Y;return Y.fromRotationTranslationScale(t,this.rotation,this.position,this.scale),t}getViewMatrix(){const t=new Y,e=new j;j.invert(e,this.rotation);const s=new O;return O.negate(s,this.position),O.transformQuat(s,s,e),Y.fromRotationTranslation(t,e,s),t}rotate(t,e){e==="x"&&(e=new O(1,0,0)),e==="y"&&(e=new O(0,1,0)),e==="z"&&(e=new O(0,0,1));const s=new j;j.setAxisAngle(s,e,t),j.multiply(this.rotation,s,this.rotation)}rotateX(t){this.rotate(t,new O(1,0,0))}rotateY(t){this.rotate(t,new O(0,1,0))}rotateZ(t){this.rotate(t,new O(0,0,1))}}class ks{}class di extends ks{fn;constructor(t){super(),this.fn=t}update(t,e){this.fn(t,e)}}class pi{systems=[];add(t){typeof t=="function"?this.systems.push(new di(t)):this.systems.push(t)}update(t,e){for(const s of this.systems)s.update(t,e)}}class ui extends ks{engine;constructor(t){super(),this.engine=t}update(t,e){if(!this.engine.scene)return;const s=this.engine.scene.getActiveCamera();if(!s)throw new Error("No active camera in the scene");this.engine.glContext.clear(58/255,22/255,81/255,1);const r=e.get(s,os),i=e.get(s,kt),c=e.getAllOfType(Qn),o=i.getViewMatrix(),a=r.getProjectionMatrix(this.engine.glContext.getAspectRatio()),f=new Map;for(const[h,p]of c){const d=e.get(h,kt),m=e.get(h,Fe);if(!d||!m)continue;const y=hi.getSignature(m);f.has(y)||f.set(y,[]),f.get(y).push([h,p])}const l=this.engine.glContext.gl;for(const[h,p]of f.entries()){const d=p[0][0],y=e.get(d,Fe).shader;y.use(),y.setUniform("u_proj",a),y.setUniform("u_view",o),y.setUniform("u_cameraPos",i.getPosition());for(const[w,x]of p){const M=e.get(w,kt),E=e.get(w,Fe);if(y.setUniform("u_model",M.getLocalMatrix()),E.applyTo(l),x.getVAO()){l.bindVertexArray(x.getVAO());const b=x.getIndexType()||l.UNSIGNED_SHORT;l.drawElements(l.TRIANGLES,x.getVertexCount(),b,0),l.bindVertexArray(null)}}}}}class Vs{glContext;scene=null;constructor(t){this.glContext=new ht(t),ht.currentGLContext=this.glContext}start(){let t=performance.now();const e=s=>{const r=(s-t)/1e3;t=s,this.scene&&this.scene.update(r),requestAnimationFrame(e)};requestAnimationFrame(e)}setScene(t){this.scene=t}static async StartEngine(t,e){console.log("Initializing Engine...");const s=new Vs(t);return console.log("Initializing Scene..."),await e.initialize(),e.addSystem(new ui(s)),console.log("Scene initialized..."),s.setScene(e),console.log("Start engine..."),s.start(),console.log("Engine started."),s}}class mi{components=new Map;add(t,e){const s=e.constructor.name;this.components.has(s)||this.components.set(s,new Map),this.components.get(s).set(t,e)}remove(t,e){this.components.get(e.name)?.delete(t)}get(t,e){return this.components.get(e.name)?.get(t)}getAllOfType(t){const e=this.components.get(t.name);return e?Array.from(e.entries()):[]}getComponentsForEntity(t){const e=[];for(const[s,r]of this.components.entries()){const i=r.get(t);i&&e.push([s,i])}return e}removeAllComponents(t){for(const e of this.components.values())e.delete(t)}}class tr{type;color;intensity;constructor(t="point",e=new O(1,1,1),s=1){this.type=t,this.color=e,this.intensity=s}}class gi{nextId=0;entities=new Set;constructor(){}create(){const t=this.nextId++;return this.entities.add(t),t}destroy(t){this.entities.delete(t)}getAll(){return Array.from(this.entities)}}class yi{entities;components;systems;constructor(){this.entities=new gi,this.components=new mi,this.systems=new pi}createEntity(){const t=this.entities.create();return this.components.add(t,new kt),t}createCamera(){const t=this.createEntity();return this.components.add(t,new os),t}createLight(t){const e=this.createEntity();return this.components.add(e,new tr(t)),e}createMesh(t,e=null){const s=this.createEntity();return this.components.add(s,new Qn(t)),e!=null&&this.components.add(s,e),s}}class Ht{vao;vertexCount;indexType;constructor(t,e,s=0){this.vao=t,this.vertexCount=e,this.indexType=s}delete(t){t=ht.getGL(t),t&&this.vao&&t.deleteVertexArray(this.vao)}static generate(t,e,s,r,i){i=ht.getGL(i);const c=i.createVertexArray();i.bindVertexArray(c);const o=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,o),i.bufferData(i.ARRAY_BUFFER,new Float32Array(t),i.STATIC_DRAW);const a=0;i.enableVertexAttribArray(a),i.vertexAttribPointer(a,3,i.FLOAT,!1,0,0);let f=null;if(s&&s.length>0){f=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,new Float32Array(s),i.STATIC_DRAW);const d=1;i.enableVertexAttribArray(d),i.vertexAttribPointer(d,3,i.FLOAT,!1,0,0)}let l=null;if(r&&r.length>0){l=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,l),i.bufferData(i.ARRAY_BUFFER,new Float32Array(r),i.STATIC_DRAW);const d=2;i.enableVertexAttribArray(d),i.vertexAttribPointer(d,2,i.FLOAT,!1,0,0)}const h=i.createBuffer();i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,h);let p=i.UNSIGNED_SHORT;return e.length>65535?(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint32Array(e),i.STATIC_DRAW),p=i.UNSIGNED_INT):(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),i.STATIC_DRAW),p=i.UNSIGNED_SHORT),i.bindVertexArray(null),new Ht(c,e.length,p)}static createFromProgram(t,e,s,r,i,c){c=ht.getGL(c);const o=c.createVertexArray();c.bindVertexArray(o);const a=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a),c.bufferData(c.ARRAY_BUFFER,new Float32Array(e),c.STATIC_DRAW);const f=c.getAttribLocation(t,"a_position");if(f>=0&&(c.enableVertexAttribArray(f),c.vertexAttribPointer(f,3,c.FLOAT,!1,0,0)),r&&r.length>0){const p=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p),c.bufferData(c.ARRAY_BUFFER,new Float32Array(r),c.STATIC_DRAW);const d=c.getAttribLocation(t,"a_normal");d>=0&&(c.enableVertexAttribArray(d),c.vertexAttribPointer(d,3,c.FLOAT,!1,0,0))}if(i&&i.length>0){const p=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p),c.bufferData(c.ARRAY_BUFFER,new Float32Array(i),c.STATIC_DRAW);const d=c.getAttribLocation(t,"a_uv");d>=0&&(c.enableVertexAttribArray(d),c.vertexAttribPointer(d,2,c.FLOAT,!1,0,0))}const l=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l);let h=c.UNSIGNED_SHORT;return s.length>65535?(c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint32Array(s),c.STATIC_DRAW),h=c.UNSIGNED_INT):(c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),c.STATIC_DRAW),h=c.UNSIGNED_SHORT),c.bindVertexArray(null),new Ht(o,s.length,h)}}class xi{static generateCube(t,e){const s=t/2,r=[-s,-s,-s,s,-s,-s,s,s,-s,-s,s,-s,-s,-s,s,s,-s,s,s,s,s,-s,s,s],i=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],c=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],o=[0,2,1,0,3,2,4,5,6,4,6,7,4,3,0,4,7,3,1,6,5,1,2,6,3,6,2,3,7,6,4,1,5,4,0,1];return Ht.generate(r,o,i,c,e)}static generateCubeForProgram(t,e,s){const r=e/2,i=[-r,-r,-r,r,-r,-r,r,r,-r,-r,r,-r,-r,-r,r,r,-r,r,r,r,r,-r,r,r],c=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],o=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],a=[0,2,1,0,3,2,4,5,6,4,6,7,4,3,0,4,7,3,1,6,5,1,2,6,3,6,2,3,7,6,4,1,5,4,0,1];return Ht.createFromProgram(t,i,a,c,o,s)}static generateCube24Vertex(t,e){const s=t/2,r=[-s,-s,s,s,-s,s,s,s,s,-s,s,s,-s,-s,-s,-s,s,-s,s,s,-s,s,-s,-s,-s,-s,-s,-s,-s,s,-s,s,s,-s,s,-s,s,-s,-s,s,s,-s,s,s,s,s,-s,s,-s,s,-s,-s,s,s,s,s,s,s,s,-s,-s,-s,-s,s,-s,-s,s,-s,s,-s,-s,s],i=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],c=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],o=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];return Ht.generate(r,o,i,c,e)}static generateTriangle(t){const e=[-.5,.5,0,-.5,-.5,0,.5,-.5,0],s=[0,0,1,0,0,1,0,0,1],r=[0,1,0,0,1,0],i=[0,1,2];return Ht.generate(e,i,s,r,t)}}class bi{static async LoadFromURL(t,e=!0,s){const r=t.split(".").pop()?.toLowerCase();if(r!="obj"&&r!="gltf"&&r!="glb")return console.error("Unsupported model format for URL: "+t),null;let i=null;const c=await se.loadResource(t);if(!c)return console.error("Failed to load model from URL: "+t),null;switch(r){case"obj":i=await this.LoadOBJ(se.loadedResourceToText(c),t,s);break;case"gltf":i=this.loadGLTF(se.loadedResourceToText(c),s);break;case"glb":break;default:console.error("Loading not implemented for URL: "+t)}return i}static async LoadOBJ(t,e,s){let r=null,i=null;e&&(r=se.loadedResourceToText(await se.loadResource(e.replace(".obj",".mtl"))));const c=t.split(/\r?\n/),o=[],a=[],f=[],l=[],h=[],p=[],d=[],m=new Map;function y(x,M){const E=parseInt(x,10);return isNaN(E)?-1:E<0?M+E:E-1}for(let x of c){const M=x.trim();if(!M||M.startsWith("#"))continue;const E=M.split(/\s+/),b=E[0];if(b==="v")E.length>=4&&o.push(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));else if(b==="vn")E.length>=4&&a.push(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));else if(b==="vt")E.length>=3&&f.push(parseFloat(E[1]),parseFloat(E[2]));else if(b==="f"){const _=E.slice(1);if(_.length<3)continue;const v=[];for(const L of _){const N=L.split("/"),U=y(N[0],o.length/3),V=N.length>1&&N[1]!==""?y(N[1],f.length/2):null,D=N.length>2&&N[2]!==""?y(N[2],a.length/3):null;v.push({v:U,vt:V,vn:D})}for(let L=1;L<v.length-1;L++){const N=[v[0],v[L],v[L+1]];for(const U of N){const V=`${U.v}/${U.vt!==null?U.vt:""}/${U.vn!==null?U.vn:""}`;let D=m.get(V);D===void 0&&(D=l.length/3,m.set(V,D),U.v>=0&&U.v*3+2<o.length?l.push(o[U.v*3+0],o[U.v*3+1],o[U.v*3+2]):l.push(0,0,0),U.vt!==null&&U.vt>=0&&U.vt*2+1<f.length?p.push(f[U.vt*2+0],f[U.vt*2+1]):p.push(0,0),U.vn!==null&&U.vn>=0&&U.vn*3+2<a.length?h.push(a[U.vn*3+0],a[U.vn*3+1],a[U.vn*3+2]):h.push(0,0,0)),d.push(D)}}}}if(a.length===0&&(h.length=0),f.length===0&&(p.length=0),r){const x=r.split(/\r?\n/);let M=null;for(let E of x){const b=E.trim();if(!b||b.startsWith("#"))continue;const _=b.split(/\s+/),v=_[0];if(v==="newmtl"){if(M)break;M={name:_[1]}}else v==="Kd"&&M?M.Kd=[parseFloat(_[1])||0,parseFloat(_[2])||0,parseFloat(_[3])||0]:(v==="map_Kd"||v==="map_kd")&&M&&(M.map_Kd=_.slice(1).join(" "))}M&&console.info("MTL parsed (first material):",M)}if(a.length===0){const x=l.length/3,M=new Array(x*3).fill(0);for(let E=0;E<d.length;E+=3){const b=d[E+0],_=d[E+1],v=d[E+2],L=l[b*3+0],N=l[b*3+1],U=l[b*3+2],V=l[_*3+0],D=l[_*3+1],et=l[_*3+2],J=l[v*3+0],tt=l[v*3+1],k=l[v*3+2],it=V-L,st=D-N,Z=et-U,vt=J-L,Ft=tt-N,It=k-U,wt=st*It-Z*Ft,ue=Z*vt-it*It,Ee=it*Ft-st*vt;M[b*3+0]+=wt,M[b*3+1]+=ue,M[b*3+2]+=Ee,M[_*3+0]+=wt,M[_*3+1]+=ue,M[_*3+2]+=Ee,M[v*3+0]+=wt,M[v*3+1]+=ue,M[v*3+2]+=Ee}for(let E=0;E<l.length;E+=3){const b=M[E+0],_=M[E+1],v=M[E+2],L=Math.sqrt(b*b+_*_+v*v)||1;h[E+0]=b/L,h[E+1]=_/L,h[E+2]=v/L}}let w=null;if(r){const x=r.split(/\r?\n/);let M=null;for(let E of x){const b=E.trim();if(!b||b.startsWith("#"))continue;const _=b.split(/\s+/),v=_[0];if(v==="newmtl"){if(M)break;M={name:_[1]}}else v==="Kd"&&M?M.Kd=[parseFloat(_[1])||0,parseFloat(_[2])||0,parseFloat(_[3])||0]:(v==="map_Kd"||v==="map_kd")&&M&&(M.map_Kd=_.slice(1).join(" "))}w=M}try{const x=Ht.generate(l,d,h.length>0?h:void 0,p.length>0?p:void 0,s);if(w&&e)try{const M=await Le.loadShaderProgram("/assets/shaders/pbr",ht.getGL(s)),E=new Fe(M);if(w.Kd&&(M.set("u_albedo",new Float32Array(w.Kd)),M.set("u_useAlbedoMap",0),E.setUniform("u_albedo",new Float32Array(w.Kd))),w.map_Kd){let b=w.map_Kd;try{const _=new URL(e,window.location.href);b=new URL(b,_).toString()}catch{}E.setTextureUniform("u_albedoMap",b),E.setUniform("u_useAlbedoMap",1)}i=E}catch(M){console.warn("Failed to create Material from MTL",M)}return{model:x,material:i}}catch(x){return console.error("Failed to create ModelGL from OBJ data",x),null}}static loadGLTF(t,e){let s=null;const r=[],i=[],c=[],o=[];return{model:Ht.generate(r,o,i,c,e),material:s}}}class Mi{ecs;name;active;activeCamera=null;constructor(t="Untitled"){this.name=t,this.active=!0,this.ecs=new yi}runtimeInitializer=null;async onInitialize(){}async initialize(){this.active&&(this.runtimeInitializer&&await this.runtimeInitializer(this),await this.onInitialize())}setInitializer(t){this.runtimeInitializer=t}update(t){this.active&&this.ecs.systems.update(t,this.ecs.components)}createCamera(){const t=this.ecs.createCamera();return this.activeCamera===null&&(this.activeCamera=t),t}setActiveCamera(t){if(!this.ecs.components.get(t,os))throw new Error("L'entité donnée n'a pas de composant Camera");this.activeCamera=t}getActiveCamera(){return this.activeCamera}createEntity(){return this.ecs.createEntity()}createLight(t){return this.ecs.createLight(t)}createMesh(t,e=null){let s;return t instanceof Ht?s=t:(s=t.model,!e&&t.material&&(e=t.material)),this.ecs.createMesh(s,e)}async createMeshFromURL(t,e){console.log("Loading model from URL:",t);const s=await bi.LoadFromURL(t,!e);return console.log("Model exist :",s!=null),s==null?null:this.createMesh(s,e)}destroyEntity(t,e){t===this.activeCamera&&(this.activeCamera=null),this.ecs.components.getAllOfType(Object);try{for(const[s,r]of this.ecs.components.components.entries()){const i=r.get(t);if(i&&typeof i.dispose=="function")try{i.dispose(e?.glContext?.gl)}catch(c){console.warn("dispose failed for",s,c)}}}catch{}this.ecs.components.removeAllComponents(t),this.ecs.entities.destroy(t)}getComponent(t,e){return this.ecs.components.get(t,e)}getAllComponentOfType(t){return this.ecs.components.getAllOfType(t)}addSystem(t){this.ecs.systems.add(t)}}class wi extends ks{mainEntity;targetEntity;radius;azimuth;elevation;speed;constructor(t,e,s=5,r=0,i=0,c=30){super(),this.mainEntity=t,this.targetEntity=e,this.radius=s,this.azimuth=r,this.elevation=i,this.speed=c}update(t,e){this.azimuth+=this.speed*t,this.azimuth>360&&(this.azimuth-=360),this.azimuth<0&&(this.azimuth+=360);const s=e.get(this.mainEntity,kt),r=e.get(this.targetEntity,kt);if(!s||!r)return;const i=r.getPosition(),c=this.azimuth*Math.PI/180,o=this.elevation*Math.PI/180,a=i.x+this.radius*Math.cos(o)*Math.cos(c),f=i.y+this.radius*Math.sin(o),l=i.z+this.radius*Math.cos(o)*Math.sin(c);s.setPosition(new O(a,f,l)),s.lookAt(i)}}class Ti extends Mi{async onInitialize(){const t=await Le.loadShaderProgram("/assets/shaders/pbr"),e=await this.createMeshFromURL("/assets/models/backpack/backpack.obj");this.getComponent(e,kt).setPosition(new O(0,0,0));const r=this.createMesh(xi.generateCubeForProgram(t.getProgram(),1.5),new Fe(t));this.getComponent(r,kt).setPosition(new O(0,-4,0));const c=this.createCamera();this.setActiveCamera(c);const o=this.getComponent(c,kt);o.setPosition(new O(2,2,2)),o.lookAt(new O(0,0,0)),this.addSystem(new wi(c,e,10,5,2,20))}}function $(n,t,e){const s=document.createElement(n);return t&&(s.className=t),e&&(s.innerHTML=e),s}class Ei{engine;root;constructor(t){this.engine=t,this.root=document.createElement("div"),this.root.id="inspector-root",document.body.appendChild(this.root),this.root.innerHTML=`
      <div id="inspector-panel">
        <div id="inspector-header">Inspector <span id="inspector-controls"></span></div>
        <div id="inspector-entities"></div>
      </div>
    `;const e=this.root.querySelector("#inspector-controls"),s=document.createElement("button");s.id="inspector-refresh",s.textContent="Refresh";const r=document.createElement("button");r.id="inspector-toggle",r.textContent="▾",e.appendChild(s),e.appendChild(r),s.addEventListener("click",()=>this.refresh());const i=this.root.querySelector("#inspector-panel");r.textContent="▾",r.addEventListener("click",()=>{i.classList.toggle("collapsed"),r.textContent=i.classList.contains("collapsed")?"▸":"▾"}),this.refresh()}refresh(){const t=this.root.querySelector("#inspector-entities");t.innerHTML="";const e=this.engine.scene?.ecs;if(!e){t.appendChild($("div","inspector-note","No ECS available"));return}const s=e.entities.getAll();for(const r of s){const i=$("div","inspector-entity"),c=$("div","inspector-entity-title collapsible");c.innerText=`Entity ${r}`;const o=$("div","inspector-entity-body");c.addEventListener("click",()=>{i.classList.toggle("collapsed")}),i.appendChild(c),i.appendChild(o);const a=e.components.getComponentsForEntity(r);for(const[h,p]of a){const d=$("div","inspector-component"),m=$("div","inspector-component-header collapsible");m.innerText=h;const y=$("div","inspector-component-body");if(m.addEventListener("click",()=>{d.classList.toggle("collapsed")}),d.appendChild(m),d.appendChild(y),p instanceof kt)this.renderTransformControls(d,r,p);else if(p instanceof os)this.renderCameraControls(d,r,p);else if(p instanceof tr)this.renderLightControls(d,r,p);else if(p&&p.shader)this.renderMaterialControls(d,r,p);else{const w=$("pre","inspector-json",JSON.stringify(p,null,2));d.appendChild(w)}i.querySelector(".inspector-entity-body").appendChild(d)}const f=$("div","inspector-entity-actions"),l=$("button","inspector-btn","Delete");l.addEventListener("click",()=>{e.removeAllComponents(r),e.entities.destroy(r),this.refresh()}),f.appendChild(l),i.querySelector(".inspector-entity-body").appendChild(f),t.appendChild(i)}}renderTransformControls(t,e,s){const r=s.getPosition(),i=s.getRotationEuler(),c=s.getScale(),o=(a,f,l)=>{const h=$("div","inspector-row");h.appendChild($("div","inspector-label",a));const p=$("input");p.value=String(f.x),p.type="number";const d=$("input");d.value=String(f.y),d.type="number";const m=$("input");m.value=String(f.z),m.type="number",h.appendChild(p),h.appendChild(d),h.appendChild(m);const y=$("button","inspector-small-btn","Apply");return y.addEventListener("click",()=>{const w={x:parseFloat(p.value),y:parseFloat(d.value),z:parseFloat(m.value)};l(w),this.refresh()}),h.appendChild(y),h};t.appendChild(o("Position",r,a=>s.setPosition(a))),t.appendChild(o("Rotation (deg)",i,a=>s.setRotationEuler(a))),t.appendChild(o("Scale",c,a=>s.setScale(a)))}renderCameraControls(t,e,s){const r=$("div");r.appendChild($("label","inspector-label","FOV"));const i=$("input");i.type="number",i.value=String(s.fov),r.appendChild(i),r.appendChild($("label","inspector-label","Near"));const c=$("input");c.type="number",c.value=String(s.near),r.appendChild(c),r.appendChild($("label","inspector-label","Far"));const o=$("input");o.type="number",o.value=String(s.far),r.appendChild(o);const a=$("button","inspector-small-btn","Apply");a.addEventListener("click",()=>{s.fov=parseFloat(i.value),s.near=parseFloat(c.value),s.far=parseFloat(o.value),this.refresh()}),r.appendChild(a),t.appendChild(r)}renderLightControls(t,e,s){const r=$("div");r.appendChild($("label","inspector-label","Color"));const i=$("input");i.type="number",i.value=String(s.color.x);const c=$("input");c.type="number",c.value=String(s.color.y);const o=$("input");o.type="number",o.value=String(s.color.z),r.appendChild(i),r.appendChild(c),r.appendChild(o),r.appendChild($("label","inspector-label","Intensity"));const a=$("input");a.type="number",a.value=String(s.intensity),r.appendChild(a);const f=$("button","inspector-small-btn","Apply");f.addEventListener("click",()=>{s.color.x=parseFloat(i.value),s.color.y=parseFloat(c.value),s.color.z=parseFloat(o.value),s.intensity=parseFloat(a.value),this.refresh()}),r.appendChild(f),t.appendChild(r)}renderMaterialControls(t,e,s){const r=$("div"),i=$("div","inspector-subsection","Uniforms");for(const[f,l]of Object.entries(s.uniforms)){const h=$("div","inspector-row");h.appendChild($("div","inspector-label",f));const p=$("input");p.value=String(l),h.appendChild(p);const d=$("button","inspector-small-btn","Set");d.addEventListener("click",()=>{s.setUniform(f,this.parseValue(p.value)),this.refresh()}),h.appendChild(d),i.appendChild(h)}r.appendChild(i);const c=$("div","inspector-subsection","Textures / Fallbacks");for(const[f,l]of Object.entries(s.textures)){const h=$("div","inspector-row");h.appendChild($("div","inspector-label",f));const p=$("input");p.value=l,h.appendChild(p);const d=$("button","inspector-small-btn","Set URL");d.addEventListener("click",()=>{s.setTextureUniform(f,p.value),this.refresh()}),h.appendChild(d);const m=s.fallbackColors[f]??void 0,y=$("input");y.type="color",m&&(y.value=this.vec4ToHex(m));const w=$("button","inspector-small-btn","Set Fallback");w.addEventListener("click",()=>{const x=this.hexToVec4(y.value);s.setFallbackTexture(f,x),this.refresh()}),h.appendChild(y),h.appendChild(w),c.appendChild(h)}r.appendChild(c);const o=$("div","inspector-subsection","Type fallbacks"),a=["albedo","normal","metallic","roughness","ao"];for(const f of a){const l=$("div","inspector-row");l.appendChild($("div","inspector-label",f));const h=$("input");h.type="color";const p=s.fallbackByType[f];p&&(h.value=this.vec4ToHex(p)),l.appendChild(h);const d=$("button","inspector-small-btn","Set");d.addEventListener("click",()=>{s.setFallbackByType(f,this.hexToVec4(h.value)),this.refresh()}),l.appendChild(d),o.appendChild(l)}r.appendChild(o),t.appendChild(r)}parseValue(t){const e=parseFloat(t);if(!isNaN(e)&&t.trim()!=="")return e;try{return JSON.parse(t)}catch{}return t}vec4ToHex(t){const e=Math.round(t[0]*255).toString(16).padStart(2,"0"),s=Math.round(t[1]*255).toString(16).padStart(2,"0"),r=Math.round(t[2]*255).toString(16).padStart(2,"0");return`#${e}${s}${r}`}hexToVec4(t){const e=t.replace("#",""),s=parseInt(e.substring(0,2),16)/255,r=parseInt(e.substring(2,4),16)/255,i=parseInt(e.substring(4,6),16)/255;return[s,r,i,1]}}async function _i(n=!0){let t=document.querySelector("#glCanvas");const e=await Vs.StartEngine(t,new Ti);if(n){const s=document.createElement("link");s.rel="stylesheet",s.href="/inspector.css",document.head.appendChild(s),new Ei(e)}}_i();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qs(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const lt={},xe=[],Vt=()=>{},er=()=>!1,as=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Gs=n=>n.startsWith("onUpdate:"),gt=Object.assign,Ws=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},vi=Object.prototype.hasOwnProperty,rt=(n,t)=>vi.call(n,t),W=Array.isArray,be=n=>ls(n)==="[object Map]",sr=n=>ls(n)==="[object Set]",K=n=>typeof n=="function",dt=n=>typeof n=="string",oe=n=>typeof n=="symbol",ft=n=>n!==null&&typeof n=="object",nr=n=>(ft(n)||K(n))&&K(n.then)&&K(n.catch),rr=Object.prototype.toString,ls=n=>rr.call(n),Ci=n=>ls(n).slice(8,-1),ir=n=>ls(n)==="[object Object]",Ks=n=>dt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ie=qs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fs=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},Si=/-\w/g,ie=fs(n=>n.replace(Si,t=>t.slice(1).toUpperCase())),Ai=/\B([A-Z])/g,pe=fs(n=>n.replace(Ai,"-$1").toLowerCase()),cr=fs(n=>n.charAt(0).toUpperCase()+n.slice(1)),ys=fs(n=>n?`on${cr(n)}`:""),re=(n,t)=>!Object.is(n,t),xs=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},or=(n,t,e,s=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:s,value:e})},Ri=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let En;const hs=()=>En||(En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ys(n){if(W(n)){const t={};for(let e=0;e<n.length;e++){const s=n[e],r=dt(s)?Pi(s):Ys(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(dt(n)||ft(n))return n}const Li=/;(?![^(]*\))/g,Fi=/:([^]+)/,Ii=/\/\*[^]*?\*\//g;function Pi(n){const t={};return n.replace(Ii,"").split(Li).forEach(e=>{if(e){const s=e.split(Fi);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Xs(n){let t="";if(dt(n))t=n;else if(W(n))for(let e=0;e<n.length;e++){const s=Xs(n[e]);s&&(t+=s+" ")}else if(ft(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const Oi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zi=qs(Oi);function ar(n){return!!n||n===""}const lr=n=>!!(n&&n.__v_isRef===!0),Rs=n=>dt(n)?n:n==null?"":W(n)||ft(n)&&(n.toString===rr||!K(n.toString))?lr(n)?Rs(n.value):JSON.stringify(n,fr,2):String(n),fr=(n,t)=>lr(t)?fr(n,t.value):be(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,r],i)=>(e[bs(s,i)+" =>"]=r,e),{})}:sr(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>bs(e))}:oe(t)?bs(t):ft(t)&&!W(t)&&!ir(t)?String(t):t,bs=(n,t="")=>{var e;return oe(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class Ui{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!t&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=_t;try{return _t=this,t()}finally{_t=e}}}on(){++this._on===1&&(this.prevScope=_t,_t=this)}off(){this._on>0&&--this._on===0&&(_t=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(this.effects.length=0,e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Di(){return _t}let at;const Ms=new WeakSet;class hr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ms.has(this)&&(Ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_n(this),ur(this);const t=at,e=Rt;at=this,Rt=!0;try{return this.fn()}finally{mr(this),at=t,Rt=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qs(t);this.deps=this.depsTail=void 0,_n(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ls(this)&&this.run()}get dirty(){return Ls(this)}}let dr=0,Pe,Oe;function pr(n,t=!1){if(n.flags|=8,t){n.next=Oe,Oe=n;return}n.next=Pe,Pe=n}function Zs(){dr++}function Js(){if(--dr>0)return;if(Oe){let t=Oe;for(Oe=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Pe;){let t=Pe;for(Pe=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){n||(n=s)}t=e}}if(n)throw n}function ur(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function mr(n){let t,e=n.depsTail,s=e;for(;s;){const r=s.prevDep;s.version===-1?(s===e&&(e=r),Qs(s),Ni(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}n.deps=t,n.depsTail=e}function Ls(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function gr(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===je)||(n.globalVersion=je,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Ls(n))))return;n.flags|=2;const t=n.dep,e=at,s=Rt;at=n,Rt=!0;try{ur(n);const r=n.fn(n._value);(t.version===0||re(r,n._value))&&(n.flags|=128,n._value=r,t.version++)}catch(r){throw t.version++,r}finally{at=e,Rt=s,mr(n),n.flags&=-3}}function Qs(n,t=!1){const{dep:e,prevSub:s,nextSub:r}=n;if(s&&(s.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=s,n.nextSub=void 0),e.subs===n&&(e.subs=s,!s&&e.computed)){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)Qs(i,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function Ni(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let Rt=!0;const yr=[];function Zt(){yr.push(Rt),Rt=!1}function Jt(){const n=yr.pop();Rt=n===void 0?!0:n}function _n(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=at;at=void 0;try{t()}finally{at=e}}}let je=0;class Bi{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class tn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!at||!Rt||at===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==at)e=this.activeLink=new Bi(at,this),at.deps?(e.prevDep=at.depsTail,at.depsTail.nextDep=e,at.depsTail=e):at.deps=at.depsTail=e,xr(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const s=e.nextDep;s.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=s),e.prevDep=at.depsTail,e.nextDep=void 0,at.depsTail.nextDep=e,at.depsTail=e,at.deps===e&&(at.deps=s)}return e}trigger(t){this.version++,je++,this.notify(t)}notify(t){Zs();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Js()}}}function xr(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)xr(s)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Fs=new WeakMap,he=Symbol(""),Is=Symbol(""),He=Symbol("");function ut(n,t,e){if(Rt&&at){let s=Fs.get(n);s||Fs.set(n,s=new Map);let r=s.get(e);r||(s.set(e,r=new tn),r.map=s,r.key=e),r.track()}}function Yt(n,t,e,s,r,i){const c=Fs.get(n);if(!c){je++;return}const o=a=>{a&&a.trigger()};if(Zs(),t==="clear")c.forEach(o);else{const a=W(n),f=a&&Ks(e);if(a&&e==="length"){const l=Number(s);c.forEach((h,p)=>{(p==="length"||p===He||!oe(p)&&p>=l)&&o(h)})}else switch((e!==void 0||c.has(void 0))&&o(c.get(e)),f&&o(c.get(He)),t){case"add":a?f&&o(c.get("length")):(o(c.get(he)),be(n)&&o(c.get(Is)));break;case"delete":a||(o(c.get(he)),be(n)&&o(c.get(Is)));break;case"set":be(n)&&o(c.get(he));break}}Js()}function me(n){const t=nt(n);return t===n?t:(ut(t,"iterate",He),Lt(n)?t:t.map(xt))}function en(n){return ut(n=nt(n),"iterate",He),n}const ji={__proto__:null,[Symbol.iterator](){return ws(this,Symbol.iterator,xt)},concat(...n){return me(this).concat(...n.map(t=>W(t)?me(t):t))},entries(){return ws(this,"entries",n=>(n[1]=xt(n[1]),n))},every(n,t){return Gt(this,"every",n,t,void 0,arguments)},filter(n,t){return Gt(this,"filter",n,t,e=>e.map(xt),arguments)},find(n,t){return Gt(this,"find",n,t,xt,arguments)},findIndex(n,t){return Gt(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return Gt(this,"findLast",n,t,xt,arguments)},findLastIndex(n,t){return Gt(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return Gt(this,"forEach",n,t,void 0,arguments)},includes(...n){return Ts(this,"includes",n)},indexOf(...n){return Ts(this,"indexOf",n)},join(n){return me(this).join(n)},lastIndexOf(...n){return Ts(this,"lastIndexOf",n)},map(n,t){return Gt(this,"map",n,t,void 0,arguments)},pop(){return Se(this,"pop")},push(...n){return Se(this,"push",n)},reduce(n,...t){return vn(this,"reduce",n,t)},reduceRight(n,...t){return vn(this,"reduceRight",n,t)},shift(){return Se(this,"shift")},some(n,t){return Gt(this,"some",n,t,void 0,arguments)},splice(...n){return Se(this,"splice",n)},toReversed(){return me(this).toReversed()},toSorted(n){return me(this).toSorted(n)},toSpliced(...n){return me(this).toSpliced(...n)},unshift(...n){return Se(this,"unshift",n)},values(){return ws(this,"values",xt)}};function ws(n,t,e){const s=en(n),r=s[t]();return s!==n&&!Lt(n)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=e(i.value)),i}),r}const Hi=Array.prototype;function Gt(n,t,e,s,r,i){const c=en(n),o=c!==n&&!Lt(n),a=c[t];if(a!==Hi[t]){const h=a.apply(n,i);return o?xt(h):h}let f=e;c!==n&&(o?f=function(h,p){return e.call(this,xt(h),p,n)}:e.length>2&&(f=function(h,p){return e.call(this,h,p,n)}));const l=a.call(c,f,s);return o&&r?r(l):l}function vn(n,t,e,s){const r=en(n);let i=e;return r!==n&&(Lt(n)?e.length>3&&(i=function(c,o,a){return e.call(this,c,o,a,n)}):i=function(c,o,a){return e.call(this,c,xt(o),a,n)}),r[t](i,...s)}function Ts(n,t,e){const s=nt(n);ut(s,"iterate",He);const r=s[t](...e);return(r===-1||r===!1)&&cn(e[0])?(e[0]=nt(e[0]),s[t](...e)):r}function Se(n,t,e=[]){Zt(),Zs();const s=nt(n)[t].apply(n,e);return Js(),Jt(),s}const $i=qs("__proto__,__v_isRef,__isVue"),br=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(oe));function ki(n){oe(n)||(n=String(n));const t=nt(this);return ut(t,"has",n),t.hasOwnProperty(n)}class Mr{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){if(e==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(e==="__v_isReactive")return!r;if(e==="__v_isReadonly")return r;if(e==="__v_isShallow")return i;if(e==="__v_raw")return s===(r?i?Qi:_r:i?Er:Tr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const c=W(t);if(!r){let a;if(c&&(a=ji[e]))return a;if(e==="hasOwnProperty")return ki}const o=Reflect.get(t,e,mt(t)?t:s);if((oe(e)?br.has(e):$i(e))||(r||ut(t,"get",e),i))return o;if(mt(o)){const a=c&&Ks(e)?o:o.value;return r&&ft(a)?Os(a):a}return ft(o)?r?Os(o):nn(o):o}}class wr extends Mr{constructor(t=!1){super(!1,t)}set(t,e,s,r){let i=t[e];if(!this._isShallow){const a=de(i);if(!Lt(s)&&!de(s)&&(i=nt(i),s=nt(s)),!W(t)&&mt(i)&&!mt(s))return a||(i.value=s),!0}const c=W(t)&&Ks(e)?Number(e)<t.length:rt(t,e),o=Reflect.set(t,e,s,mt(t)?t:r);return t===nt(r)&&(c?re(s,i)&&Yt(t,"set",e,s):Yt(t,"add",e,s)),o}deleteProperty(t,e){const s=rt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&s&&Yt(t,"delete",e,void 0),r}has(t,e){const s=Reflect.has(t,e);return(!oe(e)||!br.has(e))&&ut(t,"has",e),s}ownKeys(t){return ut(t,"iterate",W(t)?"length":he),Reflect.ownKeys(t)}}class Vi extends Mr{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const qi=new wr,Gi=new Vi,Wi=new wr(!0);const Ps=n=>n,Ye=n=>Reflect.getPrototypeOf(n);function Ki(n,t,e){return function(...s){const r=this.__v_raw,i=nt(r),c=be(i),o=n==="entries"||n===Symbol.iterator&&c,a=n==="keys"&&c,f=r[n](...s),l=e?Ps:t?zs:xt;return!t&&ut(i,"iterate",a?Is:he),{next(){const{value:h,done:p}=f.next();return p?{value:h,done:p}:{value:o?[l(h[0]),l(h[1])]:l(h),done:p}},[Symbol.iterator](){return this}}}}function Xe(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Yi(n,t){const e={get(r){const i=this.__v_raw,c=nt(i),o=nt(r);n||(re(r,o)&&ut(c,"get",r),ut(c,"get",o));const{has:a}=Ye(c),f=t?Ps:n?zs:xt;if(a.call(c,r))return f(i.get(r));if(a.call(c,o))return f(i.get(o));i!==c&&i.get(r)},get size(){const r=this.__v_raw;return!n&&ut(nt(r),"iterate",he),r.size},has(r){const i=this.__v_raw,c=nt(i),o=nt(r);return n||(re(r,o)&&ut(c,"has",r),ut(c,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const c=this,o=c.__v_raw,a=nt(o),f=t?Ps:n?zs:xt;return!n&&ut(a,"iterate",he),o.forEach((l,h)=>r.call(i,f(l),f(h),c))}};return gt(e,n?{add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear")}:{add(r){!t&&!Lt(r)&&!de(r)&&(r=nt(r));const i=nt(this);return Ye(i).has.call(i,r)||(i.add(r),Yt(i,"add",r,r)),this},set(r,i){!t&&!Lt(i)&&!de(i)&&(i=nt(i));const c=nt(this),{has:o,get:a}=Ye(c);let f=o.call(c,r);f||(r=nt(r),f=o.call(c,r));const l=a.call(c,r);return c.set(r,i),f?re(i,l)&&Yt(c,"set",r,i):Yt(c,"add",r,i),this},delete(r){const i=nt(this),{has:c,get:o}=Ye(i);let a=c.call(i,r);a||(r=nt(r),a=c.call(i,r)),o&&o.call(i,r);const f=i.delete(r);return a&&Yt(i,"delete",r,void 0),f},clear(){const r=nt(this),i=r.size!==0,c=r.clear();return i&&Yt(r,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ki(r,n,t)}),e}function sn(n,t){const e=Yi(n,t);return(s,r,i)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?s:Reflect.get(rt(e,r)&&r in s?e:s,r,i)}const Xi={get:sn(!1,!1)},Zi={get:sn(!1,!0)},Ji={get:sn(!0,!1)};const Tr=new WeakMap,Er=new WeakMap,_r=new WeakMap,Qi=new WeakMap;function tc(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ec(n){return n.__v_skip||!Object.isExtensible(n)?0:tc(Ci(n))}function nn(n){return de(n)?n:rn(n,!1,qi,Xi,Tr)}function sc(n){return rn(n,!1,Wi,Zi,Er)}function Os(n){return rn(n,!0,Gi,Ji,_r)}function rn(n,t,e,s,r){if(!ft(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=ec(n);if(i===0)return n;const c=r.get(n);if(c)return c;const o=new Proxy(n,i===2?s:e);return r.set(n,o),o}function ze(n){return de(n)?ze(n.__v_raw):!!(n&&n.__v_isReactive)}function de(n){return!!(n&&n.__v_isReadonly)}function Lt(n){return!!(n&&n.__v_isShallow)}function cn(n){return n?!!n.__v_raw:!1}function nt(n){const t=n&&n.__v_raw;return t?nt(t):n}function nc(n){return!rt(n,"__v_skip")&&Object.isExtensible(n)&&or(n,"__v_skip",!0),n}const xt=n=>ft(n)?nn(n):n,zs=n=>ft(n)?Os(n):n;function mt(n){return n?n.__v_isRef===!0:!1}function Cn(n){return rc(n,!1)}function rc(n,t){return mt(n)?n:new ic(n,t)}class ic{constructor(t,e){this.dep=new tn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:nt(t),this._value=e?t:xt(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,s=this.__v_isShallow||Lt(t)||de(t);t=s?t:nt(t),re(t,e)&&(this._rawValue=t,this._value=s?t:xt(t),this.dep.trigger())}}function cc(n){return mt(n)?n.value:n}const oc={get:(n,t,e)=>t==="__v_raw"?n:cc(Reflect.get(n,t,e)),set:(n,t,e,s)=>{const r=n[t];return mt(r)&&!mt(e)?(r.value=e,!0):Reflect.set(n,t,e,s)}};function vr(n){return ze(n)?n:new Proxy(n,oc)}class ac{constructor(t,e,s){this.fn=t,this.setter=e,this._value=void 0,this.dep=new tn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=je-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return pr(this,!0),!0}get value(){const t=this.dep.track();return gr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function lc(n,t,e=!1){let s,r;return K(n)?s=n:(s=n.get,r=n.set),new ac(s,r,e)}const Ze={},es=new WeakMap;let fe;function fc(n,t=!1,e=fe){if(e){let s=es.get(e);s||es.set(e,s=[]),s.push(n)}}function hc(n,t,e=lt){const{immediate:s,deep:r,once:i,scheduler:c,augmentJob:o,call:a}=e,f=b=>r?b:Lt(b)||r===!1||r===0?ne(b,1):ne(b);let l,h,p,d,m=!1,y=!1;if(mt(n)?(h=()=>n.value,m=Lt(n)):ze(n)?(h=()=>f(n),m=!0):W(n)?(y=!0,m=n.some(b=>ze(b)||Lt(b)),h=()=>n.map(b=>{if(mt(b))return b.value;if(ze(b))return f(b);if(K(b))return a?a(b,2):b()})):K(n)?t?h=a?()=>a(n,2):n:h=()=>{if(p){Zt();try{p()}finally{Jt()}}const b=fe;fe=l;try{return a?a(n,3,[d]):n(d)}finally{fe=b}}:h=Vt,t&&r){const b=h,_=r===!0?1/0:r;h=()=>ne(b(),_)}const w=Di(),x=()=>{l.stop(),w&&w.active&&Ws(w.effects,l)};if(i&&t){const b=t;t=(..._)=>{b(..._),x()}}let M=y?new Array(n.length).fill(Ze):Ze;const E=b=>{if(!(!(l.flags&1)||!l.dirty&&!b))if(t){const _=l.run();if(r||m||(y?_.some((v,L)=>re(v,M[L])):re(_,M))){p&&p();const v=fe;fe=l;try{const L=[_,M===Ze?void 0:y&&M[0]===Ze?[]:M,d];M=_,a?a(t,3,L):t(...L)}finally{fe=v}}}else l.run()};return o&&o(E),l=new hr(h),l.scheduler=c?()=>c(E,!1):E,d=b=>fc(b,!1,l),p=l.onStop=()=>{const b=es.get(l);if(b){if(a)a(b,4);else for(const _ of b)_();es.delete(l)}},t?s?E(!0):M=l.run():c?c(E.bind(null,!0),!0):l.run(),x.pause=l.pause.bind(l),x.resume=l.resume.bind(l),x.stop=x,x}function ne(n,t=1/0,e){if(t<=0||!ft(n)||n.__v_skip||(e=e||new Map,(e.get(n)||0)>=t))return n;if(e.set(n,t),t--,mt(n))ne(n.value,t,e);else if(W(n))for(let s=0;s<n.length;s++)ne(n[s],t,e);else if(sr(n)||be(n))n.forEach(s=>{ne(s,t,e)});else if(ir(n)){for(const s in n)ne(n[s],t,e);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&ne(n[s],t,e)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qe(n,t,e,s){try{return s?n(...s):n()}catch(r){ds(r,t,e)}}function qt(n,t,e,s){if(K(n)){const r=qe(n,t,e,s);return r&&nr(r)&&r.catch(i=>{ds(i,t,e)}),r}if(W(n)){const r=[];for(let i=0;i<n.length;i++)r.push(qt(n[i],t,e,s));return r}}function ds(n,t,e,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||lt;if(t){let o=t.parent;const a=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${e}`;for(;o;){const l=o.ec;if(l){for(let h=0;h<l.length;h++)if(l[h](n,a,f)===!1)return}o=o.parent}if(i){Zt(),qe(i,null,10,[n,a,f]),Jt();return}}dc(n,e,r,s,c)}function dc(n,t,e,s=!0,r=!1){if(r)throw n;console.error(n)}const bt=[];let Bt=-1;const Me=[];let te=null,ge=0;const Cr=Promise.resolve();let ss=null;function pc(n){const t=ss||Cr;return n?t.then(this?n.bind(this):n):t}function uc(n){let t=Bt+1,e=bt.length;for(;t<e;){const s=t+e>>>1,r=bt[s],i=$e(r);i<n||i===n&&r.flags&2?t=s+1:e=s}return t}function on(n){if(!(n.flags&1)){const t=$e(n),e=bt[bt.length-1];!e||!(n.flags&2)&&t>=$e(e)?bt.push(n):bt.splice(uc(t),0,n),n.flags|=1,Sr()}}function Sr(){ss||(ss=Cr.then(Rr))}function mc(n){W(n)?Me.push(...n):te&&n.id===-1?te.splice(ge+1,0,n):n.flags&1||(Me.push(n),n.flags|=1),Sr()}function Sn(n,t,e=Bt+1){for(;e<bt.length;e++){const s=bt[e];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;bt.splice(e,1),e--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ar(n){if(Me.length){const t=[...new Set(Me)].sort((e,s)=>$e(e)-$e(s));if(Me.length=0,te){te.push(...t);return}for(te=t,ge=0;ge<te.length;ge++){const e=te[ge];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}te=null,ge=0}}const $e=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Rr(n){try{for(Bt=0;Bt<bt.length;Bt++){const t=bt[Bt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),qe(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Bt<bt.length;Bt++){const t=bt[Bt];t&&(t.flags&=-2)}Bt=-1,bt.length=0,Ar(),ss=null,(bt.length||Me.length)&&Rr()}}let $t=null,Lr=null;function ns(n){const t=$t;return $t=n,Lr=n&&n.type.__scopeId||null,t}function gc(n,t=$t,e){if(!t||n._n)return n;const s=(...r)=>{s._d&&Dn(-1);const i=ns(t);let c;try{c=n(...r)}finally{ns(i),s._d&&Dn(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function ae(n,t,e,s){const r=n.dirs,i=t&&t.dirs;for(let c=0;c<r.length;c++){const o=r[c];i&&(o.oldValue=i[c].value);let a=o.dir[s];a&&(Zt(),qt(a,e,8,[n.el,o,n,t]),Jt())}}const yc=Symbol("_vte"),xc=n=>n.__isTeleport,bc=Symbol("_leaveCb");function an(n,t){n.shapeFlag&6&&n.component?(n.transition=t,an(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Mc(n,t){return K(n)?gt({name:n.name},t,{setup:n}):n}function Fr(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const rs=new WeakMap;function Ue(n,t,e,s,r=!1){if(W(n)){n.forEach((m,y)=>Ue(m,t&&(W(t)?t[y]:t),e,s,r));return}if(De(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ue(n,t,e,s.component.subTree);return}const i=s.shapeFlag&4?dn(s.component):s.el,c=r?null:i,{i:o,r:a}=n,f=t&&t.r,l=o.refs===lt?o.refs={}:o.refs,h=o.setupState,p=nt(h),d=h===lt?er:m=>rt(p,m);if(f!=null&&f!==a){if(An(t),dt(f))l[f]=null,d(f)&&(h[f]=null);else if(mt(f)){f.value=null;const m=t;m.k&&(l[m.k]=null)}}if(K(a))qe(a,o,12,[c,l]);else{const m=dt(a),y=mt(a);if(m||y){const w=()=>{if(n.f){const x=m?d(a)?h[a]:l[a]:a.value;if(r)W(x)&&Ws(x,i);else if(W(x))x.includes(i)||x.push(i);else if(m)l[a]=[i],d(a)&&(h[a]=l[a]);else{const M=[i];a.value=M,n.k&&(l[n.k]=M)}}else m?(l[a]=c,d(a)&&(h[a]=c)):y&&(a.value=c,n.k&&(l[n.k]=c))};if(c){const x=()=>{w(),rs.delete(n)};x.id=-1,rs.set(n,x),St(x,e)}else An(n),w()}}}function An(n){const t=rs.get(n);t&&(t.flags|=8,rs.delete(n))}hs().requestIdleCallback;hs().cancelIdleCallback;const De=n=>!!n.type.__asyncLoader,Ir=n=>n.type.__isKeepAlive;function wc(n,t){Pr(n,"a",t)}function Tc(n,t){Pr(n,"da",t)}function Pr(n,t,e=Mt){const s=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(ps(t,s,e),e){let r=e.parent;for(;r&&r.parent;)Ir(r.parent.vnode)&&Ec(s,t,e,r),r=r.parent}}function Ec(n,t,e,s){const r=ps(t,n,s,!0);zr(()=>{Ws(s[t],r)},e)}function ps(n,t,e=Mt,s=!1){if(e){const r=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...c)=>{Zt();const o=Ge(e),a=qt(t,e,n,c);return o(),Jt(),a});return s?r.unshift(i):r.push(i),i}}const Qt=n=>(t,e=Mt)=>{(!Ve||n==="sp")&&ps(n,(...s)=>t(...s),e)},_c=Qt("bm"),Or=Qt("m"),vc=Qt("bu"),Cc=Qt("u"),Sc=Qt("bum"),zr=Qt("um"),Ac=Qt("sp"),Rc=Qt("rtg"),Lc=Qt("rtc");function Fc(n,t=Mt){ps("ec",n,t)}const Ic=Symbol.for("v-ndc"),Us=n=>n?si(n)?dn(n):Us(n.parent):null,Ne=gt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Us(n.parent),$root:n=>Us(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Dr(n),$forceUpdate:n=>n.f||(n.f=()=>{on(n.update)}),$nextTick:n=>n.n||(n.n=pc.bind(n.proxy)),$watch:n=>to.bind(n)}),Es=(n,t)=>n!==lt&&!n.__isScriptSetup&&rt(n,t),Pc={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:s,data:r,props:i,accessCache:c,type:o,appContext:a}=n;let f;if(t[0]!=="$"){const d=c[t];if(d!==void 0)switch(d){case 1:return s[t];case 2:return r[t];case 4:return e[t];case 3:return i[t]}else{if(Es(s,t))return c[t]=1,s[t];if(r!==lt&&rt(r,t))return c[t]=2,r[t];if((f=n.propsOptions[0])&&rt(f,t))return c[t]=3,i[t];if(e!==lt&&rt(e,t))return c[t]=4,e[t];Ds&&(c[t]=0)}}const l=Ne[t];let h,p;if(l)return t==="$attrs"&&ut(n.attrs,"get",""),l(n);if((h=o.__cssModules)&&(h=h[t]))return h;if(e!==lt&&rt(e,t))return c[t]=4,e[t];if(p=a.config.globalProperties,rt(p,t))return p[t]},set({_:n},t,e){const{data:s,setupState:r,ctx:i}=n;return Es(r,t)?(r[t]=e,!0):s!==lt&&rt(s,t)?(s[t]=e,!0):rt(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:s,appContext:r,propsOptions:i,type:c}},o){let a,f;return!!(e[o]||n!==lt&&o[0]!=="$"&&rt(n,o)||Es(t,o)||(a=i[0])&&rt(a,o)||rt(s,o)||rt(Ne,o)||rt(r.config.globalProperties,o)||(f=c.__cssModules)&&f[o])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:rt(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Rn(n){return W(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let Ds=!0;function Oc(n){const t=Dr(n),e=n.proxy,s=n.ctx;Ds=!1,t.beforeCreate&&Ln(t.beforeCreate,n,"bc");const{data:r,computed:i,methods:c,watch:o,provide:a,inject:f,created:l,beforeMount:h,mounted:p,beforeUpdate:d,updated:m,activated:y,deactivated:w,beforeDestroy:x,beforeUnmount:M,destroyed:E,unmounted:b,render:_,renderTracked:v,renderTriggered:L,errorCaptured:N,serverPrefetch:U,expose:V,inheritAttrs:D,components:et,directives:J,filters:tt}=t;if(f&&zc(f,s,null),c)for(const st in c){const Z=c[st];K(Z)&&(s[st]=Z.bind(e))}if(r){const st=r.call(e,e);ft(st)&&(n.data=nn(st))}if(Ds=!0,i)for(const st in i){const Z=i[st],vt=K(Z)?Z.bind(e,e):K(Z.get)?Z.get.bind(e,e):Vt,Ft=!K(Z)&&K(Z.set)?Z.set.bind(e):Vt,It=Co({get:vt,set:Ft});Object.defineProperty(s,st,{enumerable:!0,configurable:!0,get:()=>It.value,set:wt=>It.value=wt})}if(o)for(const st in o)Ur(o[st],s,e,st);if(a){const st=K(a)?a.call(e):a;Reflect.ownKeys(st).forEach(Z=>{Hc(Z,st[Z])})}l&&Ln(l,n,"c");function it(st,Z){W(Z)?Z.forEach(vt=>st(vt.bind(e))):Z&&st(Z.bind(e))}if(it(_c,h),it(Or,p),it(vc,d),it(Cc,m),it(wc,y),it(Tc,w),it(Fc,N),it(Lc,v),it(Rc,L),it(Sc,M),it(zr,b),it(Ac,U),W(V))if(V.length){const st=n.exposed||(n.exposed={});V.forEach(Z=>{Object.defineProperty(st,Z,{get:()=>e[Z],set:vt=>e[Z]=vt,enumerable:!0})})}else n.exposed||(n.exposed={});_&&n.render===Vt&&(n.render=_),D!=null&&(n.inheritAttrs=D),et&&(n.components=et),J&&(n.directives=J),U&&Fr(n)}function zc(n,t,e=Vt){W(n)&&(n=Ns(n));for(const s in n){const r=n[s];let i;ft(r)?"default"in r?i=Je(r.from||s,r.default,!0):i=Je(r.from||s):i=Je(r),mt(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:c=>i.value=c}):t[s]=i}}function Ln(n,t,e){qt(W(n)?n.map(s=>s.bind(t.proxy)):n.bind(t.proxy),t,e)}function Ur(n,t,e,s){let r=s.includes(".")?Xr(e,s):()=>e[s];if(dt(n)){const i=t[n];K(i)&&vs(r,i)}else if(K(n))vs(r,n.bind(e));else if(ft(n))if(W(n))n.forEach(i=>Ur(i,t,e,s));else{const i=K(n.handler)?n.handler.bind(e):t[n.handler];K(i)&&vs(r,i,n)}}function Dr(n){const t=n.type,{mixins:e,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:c}}=n.appContext,o=i.get(t);let a;return o?a=o:!r.length&&!e&&!s?a=t:(a={},r.length&&r.forEach(f=>is(a,f,c,!0)),is(a,t,c)),ft(t)&&i.set(t,a),a}function is(n,t,e,s=!1){const{mixins:r,extends:i}=t;i&&is(n,i,e,!0),r&&r.forEach(c=>is(n,c,e,!0));for(const c in t)if(!(s&&c==="expose")){const o=Uc[c]||e&&e[c];n[c]=o?o(n[c],t[c]):t[c]}return n}const Uc={data:Fn,props:In,emits:In,methods:Re,computed:Re,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:Re,directives:Re,watch:Nc,provide:Fn,inject:Dc};function Fn(n,t){return t?n?function(){return gt(K(n)?n.call(this,this):n,K(t)?t.call(this,this):t)}:t:n}function Dc(n,t){return Re(Ns(n),Ns(t))}function Ns(n){if(W(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function yt(n,t){return n?[...new Set([].concat(n,t))]:t}function Re(n,t){return n?gt(Object.create(null),n,t):t}function In(n,t){return n?W(n)&&W(t)?[...new Set([...n,...t])]:gt(Object.create(null),Rn(n),Rn(t??{})):t}function Nc(n,t){if(!n)return t;if(!t)return n;const e=gt(Object.create(null),n);for(const s in t)e[s]=yt(n[s],t[s]);return e}function Nr(){return{app:null,config:{isNativeTag:er,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bc=0;function jc(n,t){return function(s,r=null){K(s)||(s=gt({},s)),r!=null&&!ft(r)&&(r=null);const i=Nr(),c=new WeakSet,o=[];let a=!1;const f=i.app={_uid:Bc++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:So,get config(){return i.config},set config(l){},use(l,...h){return c.has(l)||(l&&K(l.install)?(c.add(l),l.install(f,...h)):K(l)&&(c.add(l),l(f,...h))),f},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),f},component(l,h){return h?(i.components[l]=h,f):i.components[l]},directive(l,h){return h?(i.directives[l]=h,f):i.directives[l]},mount(l,h,p){if(!a){const d=f._ceVNode||Xt(s,r);return d.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),n(d,l,p),a=!0,f._container=l,l.__vue_app__=f,dn(d.component)}},onUnmount(l){o.push(l)},unmount(){a&&(qt(o,f._instance,16),n(null,f._container),delete f._container.__vue_app__)},provide(l,h){return i.provides[l]=h,f},runWithContext(l){const h=we;we=f;try{return l()}finally{we=h}}};return f}}let we=null;function Hc(n,t){if(Mt){let e=Mt.provides;const s=Mt.parent&&Mt.parent.provides;s===e&&(e=Mt.provides=Object.create(s)),e[n]=t}}function Je(n,t,e=!1){const s=Mo();if(s||we){let r=we?we._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return e&&K(t)?t.call(s&&s.proxy):t}}const Br={},jr=()=>Object.create(Br),Hr=n=>Object.getPrototypeOf(n)===Br;function $c(n,t,e,s=!1){const r={},i=jr();n.propsDefaults=Object.create(null),$r(n,t,r,i);for(const c in n.propsOptions[0])c in r||(r[c]=void 0);e?n.props=s?r:sc(r):n.type.props?n.props=r:n.props=i,n.attrs=i}function kc(n,t,e,s){const{props:r,attrs:i,vnode:{patchFlag:c}}=n,o=nt(r),[a]=n.propsOptions;let f=!1;if((s||c>0)&&!(c&16)){if(c&8){const l=n.vnode.dynamicProps;for(let h=0;h<l.length;h++){let p=l[h];if(us(n.emitsOptions,p))continue;const d=t[p];if(a)if(rt(i,p))d!==i[p]&&(i[p]=d,f=!0);else{const m=ie(p);r[m]=Bs(a,o,m,d,n,!1)}else d!==i[p]&&(i[p]=d,f=!0)}}}else{$r(n,t,r,i)&&(f=!0);let l;for(const h in o)(!t||!rt(t,h)&&((l=pe(h))===h||!rt(t,l)))&&(a?e&&(e[h]!==void 0||e[l]!==void 0)&&(r[h]=Bs(a,o,h,void 0,n,!0)):delete r[h]);if(i!==o)for(const h in i)(!t||!rt(t,h))&&(delete i[h],f=!0)}f&&Yt(n.attrs,"set","")}function $r(n,t,e,s){const[r,i]=n.propsOptions;let c=!1,o;if(t)for(let a in t){if(Ie(a))continue;const f=t[a];let l;r&&rt(r,l=ie(a))?!i||!i.includes(l)?e[l]=f:(o||(o={}))[l]=f:us(n.emitsOptions,a)||(!(a in s)||f!==s[a])&&(s[a]=f,c=!0)}if(i){const a=nt(e),f=o||lt;for(let l=0;l<i.length;l++){const h=i[l];e[h]=Bs(r,a,h,f[h],n,!rt(f,h))}}return c}function Bs(n,t,e,s,r,i){const c=n[e];if(c!=null){const o=rt(c,"default");if(o&&s===void 0){const a=c.default;if(c.type!==Function&&!c.skipFactory&&K(a)){const{propsDefaults:f}=r;if(e in f)s=f[e];else{const l=Ge(r);s=f[e]=a.call(null,t),l()}}else s=a;r.ce&&r.ce._setProp(e,s)}c[0]&&(i&&!o?s=!1:c[1]&&(s===""||s===pe(e))&&(s=!0))}return s}const Vc=new WeakMap;function kr(n,t,e=!1){const s=e?Vc:t.propsCache,r=s.get(n);if(r)return r;const i=n.props,c={},o=[];let a=!1;if(!K(n)){const l=h=>{a=!0;const[p,d]=kr(h,t,!0);gt(c,p),d&&o.push(...d)};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}if(!i&&!a)return ft(n)&&s.set(n,xe),xe;if(W(i))for(let l=0;l<i.length;l++){const h=ie(i[l]);Pn(h)&&(c[h]=lt)}else if(i)for(const l in i){const h=ie(l);if(Pn(h)){const p=i[l],d=c[h]=W(p)||K(p)?{type:p}:gt({},p),m=d.type;let y=!1,w=!0;if(W(m))for(let x=0;x<m.length;++x){const M=m[x],E=K(M)&&M.name;if(E==="Boolean"){y=!0;break}else E==="String"&&(w=!1)}else y=K(m)&&m.name==="Boolean";d[0]=y,d[1]=w,(y||rt(d,"default"))&&o.push(h)}}const f=[c,o];return ft(n)&&s.set(n,f),f}function Pn(n){return n[0]!=="$"&&!Ie(n)}const ln=n=>n==="_"||n==="_ctx"||n==="$stable",fn=n=>W(n)?n.map(jt):[jt(n)],qc=(n,t,e)=>{if(t._n)return t;const s=gc((...r)=>fn(t(...r)),e);return s._c=!1,s},Vr=(n,t,e)=>{const s=n._ctx;for(const r in n){if(ln(r))continue;const i=n[r];if(K(i))t[r]=qc(r,i,s);else if(i!=null){const c=fn(i);t[r]=()=>c}}},qr=(n,t)=>{const e=fn(t);n.slots.default=()=>e},Gr=(n,t,e)=>{for(const s in t)(e||!ln(s))&&(n[s]=t[s])},Gc=(n,t,e)=>{const s=n.slots=jr();if(n.vnode.shapeFlag&32){const r=t._;r?(Gr(s,t,e),e&&or(s,"_",r,!0)):Vr(t,s)}else t&&qr(n,t)},Wc=(n,t,e)=>{const{vnode:s,slots:r}=n;let i=!0,c=lt;if(s.shapeFlag&32){const o=t._;o?e&&o===1?i=!1:Gr(r,t,e):(i=!t.$stable,Vr(t,r)),c=t}else t&&(qr(n,t),c={default:1});if(i)for(const o in r)!ln(o)&&c[o]==null&&delete r[o]},St=ao;function Kc(n){return Yc(n)}function Yc(n,t){const e=hs();e.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:c,createText:o,createComment:a,setText:f,setElementText:l,parentNode:h,nextSibling:p,setScopeId:d=Vt,insertStaticContent:m}=n,y=(u,g,T,A=null,C=null,S=null,P=void 0,I=null,F=!!g.dynamicChildren)=>{if(u===g)return;u&&!Ae(u,g)&&(A=We(u),wt(u,C,S,!0),u=null),g.patchFlag===-2&&(F=!1,g.dynamicChildren=null);const{type:R,ref:H,shapeFlag:z}=g;switch(R){case ms:w(u,g,T,A);break;case ce:x(u,g,T,A);break;case Cs:u==null&&M(g,T,A,P);break;case Kt:et(u,g,T,A,C,S,P,I,F);break;default:z&1?_(u,g,T,A,C,S,P,I,F):z&6?J(u,g,T,A,C,S,P,I,F):(z&64||z&128)&&R.process(u,g,T,A,C,S,P,I,F,ve)}H!=null&&C?Ue(H,u&&u.ref,S,g||u,!g):H==null&&u&&u.ref!=null&&Ue(u.ref,null,S,u,!0)},w=(u,g,T,A)=>{if(u==null)s(g.el=o(g.children),T,A);else{const C=g.el=u.el;g.children!==u.children&&f(C,g.children)}},x=(u,g,T,A)=>{u==null?s(g.el=a(g.children||""),T,A):g.el=u.el},M=(u,g,T,A)=>{[u.el,u.anchor]=m(u.children,g,T,A,u.el,u.anchor)},E=({el:u,anchor:g},T,A)=>{let C;for(;u&&u!==g;)C=p(u),s(u,T,A),u=C;s(g,T,A)},b=({el:u,anchor:g})=>{let T;for(;u&&u!==g;)T=p(u),r(u),u=T;r(g)},_=(u,g,T,A,C,S,P,I,F)=>{g.type==="svg"?P="svg":g.type==="math"&&(P="mathml"),u==null?v(g,T,A,C,S,P,I,F):U(u,g,C,S,P,I,F)},v=(u,g,T,A,C,S,P,I)=>{let F,R;const{props:H,shapeFlag:z,transition:B,dirs:q}=u;if(F=u.el=c(u.type,S,H&&H.is,H),z&8?l(F,u.children):z&16&&N(u.children,F,null,A,C,_s(u,S),P,I),q&&ae(u,null,A,"created"),L(F,u,u.scopeId,P,A),H){for(const ot in H)ot!=="value"&&!Ie(ot)&&i(F,ot,null,H[ot],S,A);"value"in H&&i(F,"value",null,H.value,S),(R=H.onVnodeBeforeMount)&&Nt(R,A,u)}q&&ae(u,null,A,"beforeMount");const Q=Xc(C,B);Q&&B.beforeEnter(F),s(F,g,T),((R=H&&H.onVnodeMounted)||Q||q)&&St(()=>{R&&Nt(R,A,u),Q&&B.enter(F),q&&ae(u,null,A,"mounted")},C)},L=(u,g,T,A,C)=>{if(T&&d(u,T),A)for(let S=0;S<A.length;S++)d(u,A[S]);if(C){let S=C.subTree;if(g===S||Jr(S.type)&&(S.ssContent===g||S.ssFallback===g)){const P=C.vnode;L(u,P,P.scopeId,P.slotScopeIds,C.parent)}}},N=(u,g,T,A,C,S,P,I,F=0)=>{for(let R=F;R<u.length;R++){const H=u[R]=I?ee(u[R]):jt(u[R]);y(null,H,g,T,A,C,S,P,I)}},U=(u,g,T,A,C,S,P)=>{const I=g.el=u.el;let{patchFlag:F,dynamicChildren:R,dirs:H}=g;F|=u.patchFlag&16;const z=u.props||lt,B=g.props||lt;let q;if(T&&le(T,!1),(q=B.onVnodeBeforeUpdate)&&Nt(q,T,g,u),H&&ae(g,u,T,"beforeUpdate"),T&&le(T,!0),(z.innerHTML&&B.innerHTML==null||z.textContent&&B.textContent==null)&&l(I,""),R?V(u.dynamicChildren,R,I,T,A,_s(g,C),S):P||Z(u,g,I,null,T,A,_s(g,C),S,!1),F>0){if(F&16)D(I,z,B,T,C);else if(F&2&&z.class!==B.class&&i(I,"class",null,B.class,C),F&4&&i(I,"style",z.style,B.style,C),F&8){const Q=g.dynamicProps;for(let ot=0;ot<Q.length;ot++){const ct=Q[ot],Tt=z[ct],Et=B[ct];(Et!==Tt||ct==="value")&&i(I,ct,Tt,Et,C,T)}}F&1&&u.children!==g.children&&l(I,g.children)}else!P&&R==null&&D(I,z,B,T,C);((q=B.onVnodeUpdated)||H)&&St(()=>{q&&Nt(q,T,g,u),H&&ae(g,u,T,"updated")},A)},V=(u,g,T,A,C,S,P)=>{for(let I=0;I<g.length;I++){const F=u[I],R=g[I],H=F.el&&(F.type===Kt||!Ae(F,R)||F.shapeFlag&198)?h(F.el):T;y(F,R,H,null,A,C,S,P,!0)}},D=(u,g,T,A,C)=>{if(g!==T){if(g!==lt)for(const S in g)!Ie(S)&&!(S in T)&&i(u,S,g[S],null,C,A);for(const S in T){if(Ie(S))continue;const P=T[S],I=g[S];P!==I&&S!=="value"&&i(u,S,I,P,C,A)}"value"in T&&i(u,"value",g.value,T.value,C)}},et=(u,g,T,A,C,S,P,I,F)=>{const R=g.el=u?u.el:o(""),H=g.anchor=u?u.anchor:o("");let{patchFlag:z,dynamicChildren:B,slotScopeIds:q}=g;q&&(I=I?I.concat(q):q),u==null?(s(R,T,A),s(H,T,A),N(g.children||[],T,H,C,S,P,I,F)):z>0&&z&64&&B&&u.dynamicChildren?(V(u.dynamicChildren,B,T,C,S,P,I),(g.key!=null||C&&g===C.subTree)&&Wr(u,g,!0)):Z(u,g,T,H,C,S,P,I,F)},J=(u,g,T,A,C,S,P,I,F)=>{g.slotScopeIds=I,u==null?g.shapeFlag&512?C.ctx.activate(g,T,A,P,F):tt(g,T,A,C,S,P,F):k(u,g,F)},tt=(u,g,T,A,C,S,P)=>{const I=u.component=bo(u,A,C);if(Ir(u)&&(I.ctx.renderer=ve),wo(I,!1,P),I.asyncDep){if(C&&C.registerDep(I,it,P),!u.el){const F=I.subTree=Xt(ce);x(null,F,g,T),u.placeholder=F.el}}else it(I,u,g,T,C,S,P)},k=(u,g,T)=>{const A=g.component=u.component;if(co(u,g,T))if(A.asyncDep&&!A.asyncResolved){st(A,g,T);return}else A.next=g,A.update();else g.el=u.el,A.vnode=g},it=(u,g,T,A,C,S,P)=>{const I=()=>{if(u.isMounted){let{next:z,bu:B,u:q,parent:Q,vnode:ot}=u;{const Ot=Kr(u);if(Ot){z&&(z.el=ot.el,st(u,z,P)),Ot.asyncDep.then(()=>{u.isUnmounted||I()});return}}let ct=z,Tt;le(u,!1),z?(z.el=ot.el,st(u,z,P)):z=ot,B&&xs(B),(Tt=z.props&&z.props.onVnodeBeforeUpdate)&&Nt(Tt,Q,z,ot),le(u,!0);const Et=zn(u),Pt=u.subTree;u.subTree=Et,y(Pt,Et,h(Pt.el),We(Pt),u,C,S),z.el=Et.el,ct===null&&oo(u,Et.el),q&&St(q,C),(Tt=z.props&&z.props.onVnodeUpdated)&&St(()=>Nt(Tt,Q,z,ot),C)}else{let z;const{el:B,props:q}=g,{bm:Q,m:ot,parent:ct,root:Tt,type:Et}=u,Pt=De(g);le(u,!1),Q&&xs(Q),!Pt&&(z=q&&q.onVnodeBeforeMount)&&Nt(z,ct,g),le(u,!0);{Tt.ce&&Tt.ce._def.shadowRoot!==!1&&Tt.ce._injectChildStyle(Et);const Ot=u.subTree=zn(u);y(null,Ot,T,A,u,C,S),g.el=Ot.el}if(ot&&St(ot,C),!Pt&&(z=q&&q.onVnodeMounted)){const Ot=g;St(()=>Nt(z,ct,Ot),C)}(g.shapeFlag&256||ct&&De(ct.vnode)&&ct.vnode.shapeFlag&256)&&u.a&&St(u.a,C),u.isMounted=!0,g=T=A=null}};u.scope.on();const F=u.effect=new hr(I);u.scope.off();const R=u.update=F.run.bind(F),H=u.job=F.runIfDirty.bind(F);H.i=u,H.id=u.uid,F.scheduler=()=>on(H),le(u,!0),R()},st=(u,g,T)=>{g.component=u;const A=u.vnode.props;u.vnode=g,u.next=null,kc(u,g.props,A,T),Wc(u,g.children,T),Zt(),Sn(u),Jt()},Z=(u,g,T,A,C,S,P,I,F=!1)=>{const R=u&&u.children,H=u?u.shapeFlag:0,z=g.children,{patchFlag:B,shapeFlag:q}=g;if(B>0){if(B&128){Ft(R,z,T,A,C,S,P,I,F);return}else if(B&256){vt(R,z,T,A,C,S,P,I,F);return}}q&8?(H&16&&_e(R,C,S),z!==R&&l(T,z)):H&16?q&16?Ft(R,z,T,A,C,S,P,I,F):_e(R,C,S,!0):(H&8&&l(T,""),q&16&&N(z,T,A,C,S,P,I,F))},vt=(u,g,T,A,C,S,P,I,F)=>{u=u||xe,g=g||xe;const R=u.length,H=g.length,z=Math.min(R,H);let B;for(B=0;B<z;B++){const q=g[B]=F?ee(g[B]):jt(g[B]);y(u[B],q,T,null,C,S,P,I,F)}R>H?_e(u,C,S,!0,!1,z):N(g,T,A,C,S,P,I,F,z)},Ft=(u,g,T,A,C,S,P,I,F)=>{let R=0;const H=g.length;let z=u.length-1,B=H-1;for(;R<=z&&R<=B;){const q=u[R],Q=g[R]=F?ee(g[R]):jt(g[R]);if(Ae(q,Q))y(q,Q,T,null,C,S,P,I,F);else break;R++}for(;R<=z&&R<=B;){const q=u[z],Q=g[B]=F?ee(g[B]):jt(g[B]);if(Ae(q,Q))y(q,Q,T,null,C,S,P,I,F);else break;z--,B--}if(R>z){if(R<=B){const q=B+1,Q=q<H?g[q].el:A;for(;R<=B;)y(null,g[R]=F?ee(g[R]):jt(g[R]),T,Q,C,S,P,I,F),R++}}else if(R>B)for(;R<=z;)wt(u[R],C,S,!0),R++;else{const q=R,Q=R,ot=new Map;for(R=Q;R<=B;R++){const Ct=g[R]=F?ee(g[R]):jt(g[R]);Ct.key!=null&&ot.set(Ct.key,R)}let ct,Tt=0;const Et=B-Q+1;let Pt=!1,Ot=0;const Ce=new Array(Et);for(R=0;R<Et;R++)Ce[R]=0;for(R=q;R<=z;R++){const Ct=u[R];if(Tt>=Et){wt(Ct,C,S,!0);continue}let zt;if(Ct.key!=null)zt=ot.get(Ct.key);else for(ct=Q;ct<=B;ct++)if(Ce[ct-Q]===0&&Ae(Ct,g[ct])){zt=ct;break}zt===void 0?wt(Ct,C,S,!0):(Ce[zt-Q]=R+1,zt>=Ot?Ot=zt:Pt=!0,y(Ct,g[zt],T,null,C,S,P,I,F),Tt++)}const un=Pt?Zc(Ce):xe;for(ct=un.length-1,R=Et-1;R>=0;R--){const Ct=Q+R,zt=g[Ct],mn=g[Ct+1],gn=Ct+1<H?mn.el||mn.placeholder:A;Ce[R]===0?y(null,zt,T,gn,C,S,P,I,F):Pt&&(ct<0||R!==un[ct]?It(zt,T,gn,2):ct--)}}},It=(u,g,T,A,C=null)=>{const{el:S,type:P,transition:I,children:F,shapeFlag:R}=u;if(R&6){It(u.component.subTree,g,T,A);return}if(R&128){u.suspense.move(g,T,A);return}if(R&64){P.move(u,g,T,ve);return}if(P===Kt){s(S,g,T);for(let z=0;z<F.length;z++)It(F[z],g,T,A);s(u.anchor,g,T);return}if(P===Cs){E(u,g,T);return}if(A!==2&&R&1&&I)if(A===0)I.beforeEnter(S),s(S,g,T),St(()=>I.enter(S),C);else{const{leave:z,delayLeave:B,afterLeave:q}=I,Q=()=>{u.ctx.isUnmounted?r(S):s(S,g,T)},ot=()=>{S._isLeaving&&S[bc](!0),z(S,()=>{Q(),q&&q()})};B?B(S,Q,ot):ot()}else s(S,g,T)},wt=(u,g,T,A=!1,C=!1)=>{const{type:S,props:P,ref:I,children:F,dynamicChildren:R,shapeFlag:H,patchFlag:z,dirs:B,cacheIndex:q}=u;if(z===-2&&(C=!1),I!=null&&(Zt(),Ue(I,null,T,u,!0),Jt()),q!=null&&(g.renderCache[q]=void 0),H&256){g.ctx.deactivate(u);return}const Q=H&1&&B,ot=!De(u);let ct;if(ot&&(ct=P&&P.onVnodeBeforeUnmount)&&Nt(ct,g,u),H&6)ii(u.component,T,A);else{if(H&128){u.suspense.unmount(T,A);return}Q&&ae(u,null,g,"beforeUnmount"),H&64?u.type.remove(u,g,T,ve,A):R&&!R.hasOnce&&(S!==Kt||z>0&&z&64)?_e(R,g,T,!1,!0):(S===Kt&&z&384||!C&&H&16)&&_e(F,g,T),A&&ue(u)}(ot&&(ct=P&&P.onVnodeUnmounted)||Q)&&St(()=>{ct&&Nt(ct,g,u),Q&&ae(u,null,g,"unmounted")},T)},ue=u=>{const{type:g,el:T,anchor:A,transition:C}=u;if(g===Kt){Ee(T,A);return}if(g===Cs){b(u);return}const S=()=>{r(T),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(u.shapeFlag&1&&C&&!C.persisted){const{leave:P,delayLeave:I}=C,F=()=>P(T,S);I?I(u.el,S,F):F()}else S()},Ee=(u,g)=>{let T;for(;u!==g;)T=p(u),r(u),u=T;r(g)},ii=(u,g,T)=>{const{bum:A,scope:C,job:S,subTree:P,um:I,m:F,a:R}=u;On(F),On(R),A&&xs(A),C.stop(),S&&(S.flags|=8,wt(P,u,g,T)),I&&St(I,g),St(()=>{u.isUnmounted=!0},g)},_e=(u,g,T,A=!1,C=!1,S=0)=>{for(let P=S;P<u.length;P++)wt(u[P],g,T,A,C)},We=u=>{if(u.shapeFlag&6)return We(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const g=p(u.anchor||u.el),T=g&&g[yc];return T?p(T):g};let gs=!1;const pn=(u,g,T)=>{u==null?g._vnode&&wt(g._vnode,null,null,!0):y(g._vnode||null,u,g,null,null,null,T),g._vnode=u,gs||(gs=!0,Sn(),Ar(),gs=!1)},ve={p:y,um:wt,m:It,r:ue,mt:tt,mc:N,pc:Z,pbc:V,n:We,o:n};return{render:pn,hydrate:void 0,createApp:jc(pn)}}function _s({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function le({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function Xc(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Wr(n,t,e=!1){const s=n.children,r=t.children;if(W(s)&&W(r))for(let i=0;i<s.length;i++){const c=s[i];let o=r[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[i]=ee(r[i]),o.el=c.el),!e&&o.patchFlag!==-2&&Wr(c,o)),o.type===ms&&o.patchFlag!==-1&&(o.el=c.el),o.type===ce&&!o.el&&(o.el=c.el)}}function Zc(n){const t=n.slice(),e=[0];let s,r,i,c,o;const a=n.length;for(s=0;s<a;s++){const f=n[s];if(f!==0){if(r=e[e.length-1],n[r]<f){t[s]=r,e.push(s);continue}for(i=0,c=e.length-1;i<c;)o=i+c>>1,n[e[o]]<f?i=o+1:c=o;f<n[e[i]]&&(i>0&&(t[s]=e[i-1]),e[i]=s)}}for(i=e.length,c=e[i-1];i-- >0;)e[i]=c,c=t[c];return e}function Kr(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Kr(t)}function On(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const Jc=Symbol.for("v-scx"),Qc=()=>Je(Jc);function vs(n,t,e){return Yr(n,t,e)}function Yr(n,t,e=lt){const{immediate:s,deep:r,flush:i,once:c}=e,o=gt({},e),a=t&&s||!t&&i!=="post";let f;if(Ve){if(i==="sync"){const d=Qc();f=d.__watcherHandles||(d.__watcherHandles=[])}else if(!a){const d=()=>{};return d.stop=Vt,d.resume=Vt,d.pause=Vt,d}}const l=Mt;o.call=(d,m,y)=>qt(d,l,m,y);let h=!1;i==="post"?o.scheduler=d=>{St(d,l&&l.suspense)}:i!=="sync"&&(h=!0,o.scheduler=(d,m)=>{m?d():on(d)}),o.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,l&&(d.id=l.uid,d.i=l))};const p=hc(n,t,o);return Ve&&(f?f.push(p):a&&p()),p}function to(n,t,e){const s=this.proxy,r=dt(n)?n.includes(".")?Xr(s,n):()=>s[n]:n.bind(s,s);let i;K(t)?i=t:(i=t.handler,e=t);const c=Ge(this),o=Yr(r,i.bind(s),e);return c(),o}function Xr(n,t){const e=t.split(".");return()=>{let s=n;for(let r=0;r<e.length&&s;r++)s=s[e[r]];return s}}const eo=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${ie(t)}Modifiers`]||n[`${pe(t)}Modifiers`];function so(n,t,...e){if(n.isUnmounted)return;const s=n.vnode.props||lt;let r=e;const i=t.startsWith("update:"),c=i&&eo(s,t.slice(7));c&&(c.trim&&(r=e.map(l=>dt(l)?l.trim():l)),c.number&&(r=e.map(Ri)));let o,a=s[o=ys(t)]||s[o=ys(ie(t))];!a&&i&&(a=s[o=ys(pe(t))]),a&&qt(a,n,6,r);const f=s[o+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,qt(f,n,6,r)}}const no=new WeakMap;function Zr(n,t,e=!1){const s=e?no:t.emitsCache,r=s.get(n);if(r!==void 0)return r;const i=n.emits;let c={},o=!1;if(!K(n)){const a=f=>{const l=Zr(f,t,!0);l&&(o=!0,gt(c,l))};!e&&t.mixins.length&&t.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!i&&!o?(ft(n)&&s.set(n,null),null):(W(i)?i.forEach(a=>c[a]=null):gt(c,i),ft(n)&&s.set(n,c),c)}function us(n,t){return!n||!as(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(n,t[0].toLowerCase()+t.slice(1))||rt(n,pe(t))||rt(n,t))}function zn(n){const{type:t,vnode:e,proxy:s,withProxy:r,propsOptions:[i],slots:c,attrs:o,emit:a,render:f,renderCache:l,props:h,data:p,setupState:d,ctx:m,inheritAttrs:y}=n,w=ns(n);let x,M;try{if(e.shapeFlag&4){const b=r||s,_=b;x=jt(f.call(_,b,l,h,d,p,m)),M=o}else{const b=t;x=jt(b.length>1?b(h,{attrs:o,slots:c,emit:a}):b(h,null)),M=t.props?o:ro(o)}}catch(b){Be.length=0,ds(b,n,1),x=Xt(ce)}let E=x;if(M&&y!==!1){const b=Object.keys(M),{shapeFlag:_}=E;b.length&&_&7&&(i&&b.some(Gs)&&(M=io(M,i)),E=Te(E,M,!1,!0))}return e.dirs&&(E=Te(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(e.dirs):e.dirs),e.transition&&an(E,e.transition),x=E,ns(w),x}const ro=n=>{let t;for(const e in n)(e==="class"||e==="style"||as(e))&&((t||(t={}))[e]=n[e]);return t},io=(n,t)=>{const e={};for(const s in n)(!Gs(s)||!(s.slice(9)in t))&&(e[s]=n[s]);return e};function co(n,t,e){const{props:s,children:r,component:i}=n,{props:c,children:o,patchFlag:a}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return s?Un(s,c,f):!!c;if(a&8){const l=t.dynamicProps;for(let h=0;h<l.length;h++){const p=l[h];if(c[p]!==s[p]&&!us(f,p))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:s===c?!1:s?c?Un(s,c,f):!0:!!c;return!1}function Un(n,t,e){const s=Object.keys(t);if(s.length!==Object.keys(n).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==n[i]&&!us(e,i))return!0}return!1}function oo({vnode:n,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=t.vnode).el=e,t=t.parent;else break}}const Jr=n=>n.__isSuspense;function ao(n,t){t&&t.pendingBranch?W(n)?t.effects.push(...n):t.effects.push(n):mc(n)}const Kt=Symbol.for("v-fgt"),ms=Symbol.for("v-txt"),ce=Symbol.for("v-cmt"),Cs=Symbol.for("v-stc"),Be=[];let At=null;function js(n=!1){Be.push(At=n?null:[])}function lo(){Be.pop(),At=Be[Be.length-1]||null}let ke=1;function Dn(n,t=!1){ke+=n,n<0&&At&&t&&(At.hasOnce=!0)}function Qr(n){return n.dynamicChildren=ke>0?At||xe:null,lo(),ke>0&&At&&At.push(n),n}function Nn(n,t,e,s,r,i){return Qr(ye(n,t,e,s,r,i,!0))}function fo(n,t,e,s,r){return Qr(Xt(n,t,e,s,r,!0))}function ti(n){return n?n.__v_isVNode===!0:!1}function Ae(n,t){return n.type===t.type&&n.key===t.key}const ei=({key:n})=>n??null,Qe=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?dt(n)||mt(n)||K(n)?{i:$t,r:n,k:t,f:!!e}:n:null);function ye(n,t=null,e=null,s=0,r=null,i=n===Kt?0:1,c=!1,o=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&ei(t),ref:t&&Qe(t),scopeId:Lr,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$t};return o?(hn(a,e),i&128&&n.normalize(a)):e&&(a.shapeFlag|=dt(e)?8:16),ke>0&&!c&&At&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&At.push(a),a}const Xt=ho;function ho(n,t=null,e=null,s=0,r=null,i=!1){if((!n||n===Ic)&&(n=ce),ti(n)){const o=Te(n,t,!0);return e&&hn(o,e),ke>0&&!i&&At&&(o.shapeFlag&6?At[At.indexOf(n)]=o:At.push(o)),o.patchFlag=-2,o}if(vo(n)&&(n=n.__vccOpts),t){t=po(t);let{class:o,style:a}=t;o&&!dt(o)&&(t.class=Xs(o)),ft(a)&&(cn(a)&&!W(a)&&(a=gt({},a)),t.style=Ys(a))}const c=dt(n)?1:Jr(n)?128:xc(n)?64:ft(n)?4:K(n)?2:0;return ye(n,t,e,s,r,c,i,!0)}function po(n){return n?cn(n)||Hr(n)?gt({},n):n:null}function Te(n,t,e=!1,s=!1){const{props:r,ref:i,patchFlag:c,children:o,transition:a}=n,f=t?go(r||{},t):r,l={__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&ei(f),ref:t&&t.ref?e&&i?W(i)?i.concat(Qe(t)):[i,Qe(t)]:Qe(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Kt?c===-1?16:c|16:c,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:a,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Te(n.ssContent),ssFallback:n.ssFallback&&Te(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return a&&s&&an(l,a.clone(l)),l}function uo(n=" ",t=0){return Xt(ms,null,n,t)}function mo(n="",t=!1){return t?(js(),fo(ce,null,n)):Xt(ce,null,n)}function jt(n){return n==null||typeof n=="boolean"?Xt(ce):W(n)?Xt(Kt,null,n.slice()):ti(n)?ee(n):Xt(ms,null,String(n))}function ee(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Te(n)}function hn(n,t){let e=0;const{shapeFlag:s}=n;if(t==null)t=null;else if(W(t))e=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),hn(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!Hr(t)?t._ctx=$t:r===3&&$t&&($t.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else K(t)?(t={default:t,_ctx:$t},e=32):(t=String(t),s&64?(e=16,t=[uo(t)]):e=8);n.children=t,n.shapeFlag|=e}function go(...n){const t={};for(let e=0;e<n.length;e++){const s=n[e];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Xs([t.class,s.class]));else if(r==="style")t.style=Ys([t.style,s.style]);else if(as(r)){const i=t[r],c=s[r];c&&i!==c&&!(W(i)&&i.includes(c))&&(t[r]=i?[].concat(i,c):c)}else r!==""&&(t[r]=s[r])}return t}function Nt(n,t,e,s=null){qt(n,t,7,[e,s])}const yo=Nr();let xo=0;function bo(n,t,e){const s=n.type,r=(t?t.appContext:n.appContext)||yo,i={uid:xo++,vnode:n,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ui(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kr(s,r),emitsOptions:Zr(s,r),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:s.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=so.bind(null,i),n.ce&&n.ce(i),i}let Mt=null;const Mo=()=>Mt||$t;let cs,Hs;{const n=hs(),t=(e,s)=>{let r;return(r=n[e])||(r=n[e]=[]),r.push(s),i=>{r.length>1?r.forEach(c=>c(i)):r[0](i)}};cs=t("__VUE_INSTANCE_SETTERS__",e=>Mt=e),Hs=t("__VUE_SSR_SETTERS__",e=>Ve=e)}const Ge=n=>{const t=Mt;return cs(n),n.scope.on(),()=>{n.scope.off(),cs(t)}},Bn=()=>{Mt&&Mt.scope.off(),cs(null)};function si(n){return n.vnode.shapeFlag&4}let Ve=!1;function wo(n,t=!1,e=!1){t&&Hs(t);const{props:s,children:r}=n.vnode,i=si(n);$c(n,s,i,t),Gc(n,r,e||t);const c=i?To(n,t):void 0;return t&&Hs(!1),c}function To(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Pc);const{setup:s}=e;if(s){Zt();const r=n.setupContext=s.length>1?_o(n):null,i=Ge(n),c=qe(s,n,0,[n.props,r]),o=nr(c);if(Jt(),i(),(o||n.sp)&&!De(n)&&Fr(n),o){if(c.then(Bn,Bn),t)return c.then(a=>{jn(n,a)}).catch(a=>{ds(a,n,0)});n.asyncDep=c}else jn(n,c)}else ni(n)}function jn(n,t,e){K(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:ft(t)&&(n.setupState=vr(t)),ni(n)}function ni(n,t,e){const s=n.type;n.render||(n.render=s.render||Vt);{const r=Ge(n);Zt();try{Oc(n)}finally{Jt(),r()}}}const Eo={get(n,t){return ut(n,"get",""),n[t]}};function _o(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,Eo),slots:n.slots,emit:n.emit,expose:t}}function dn(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(vr(nc(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Ne)return Ne[e](n)},has(t,e){return e in t||e in Ne}})):n.proxy}function vo(n){return K(n)&&"__vccOpts"in n}const Co=(n,t)=>lc(n,t,Ve),So="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $s;const Hn=typeof window<"u"&&window.trustedTypes;if(Hn)try{$s=Hn.createPolicy("vue",{createHTML:n=>n})}catch{}const ri=$s?n=>$s.createHTML(n):n=>n,Ao="http://www.w3.org/2000/svg",Ro="http://www.w3.org/1998/Math/MathML",Wt=typeof document<"u"?document:null,$n=Wt&&Wt.createElement("template"),Lo={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,s)=>{const r=t==="svg"?Wt.createElementNS(Ao,n):t==="mathml"?Wt.createElementNS(Ro,n):e?Wt.createElement(n,{is:e}):Wt.createElement(n);return n==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:n=>Wt.createTextNode(n),createComment:n=>Wt.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Wt.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,s,r,i){const c=e?e.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===i||!(r=r.nextSibling)););else{$n.innerHTML=ri(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const o=$n.content;if(s==="svg"||s==="mathml"){const a=o.firstChild;for(;a.firstChild;)o.appendChild(a.firstChild);o.removeChild(a)}t.insertBefore(o,e)}return[c?c.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},Fo=Symbol("_vtc");function Io(n,t,e){const s=n[Fo];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const kn=Symbol("_vod"),Po=Symbol("_vsh"),Oo=Symbol(""),zo=/(?:^|;)\s*display\s*:/;function Uo(n,t,e){const s=n.style,r=dt(e);let i=!1;if(e&&!r){if(t)if(dt(t))for(const c of t.split(";")){const o=c.slice(0,c.indexOf(":")).trim();e[o]==null&&ts(s,o,"")}else for(const c in t)e[c]==null&&ts(s,c,"");for(const c in e)c==="display"&&(i=!0),ts(s,c,e[c])}else if(r){if(t!==e){const c=s[Oo];c&&(e+=";"+c),s.cssText=e,i=zo.test(e)}}else t&&n.removeAttribute("style");kn in n&&(n[kn]=i?s.display:"",n[Po]&&(s.display="none"))}const Vn=/\s*!important$/;function ts(n,t,e){if(W(e))e.forEach(s=>ts(n,t,s));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const s=Do(n,t);Vn.test(e)?n.setProperty(pe(s),e.replace(Vn,""),"important"):n[s]=e}}const qn=["Webkit","Moz","ms"],Ss={};function Do(n,t){const e=Ss[t];if(e)return e;let s=ie(t);if(s!=="filter"&&s in n)return Ss[t]=s;s=cr(s);for(let r=0;r<qn.length;r++){const i=qn[r]+s;if(i in n)return Ss[t]=i}return t}const Gn="http://www.w3.org/1999/xlink";function Wn(n,t,e,s,r,i=zi(t)){s&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(Gn,t.slice(6,t.length)):n.setAttributeNS(Gn,t,e):e==null||i&&!ar(e)?n.removeAttribute(t):n.setAttribute(t,i?"":oe(e)?String(e):e)}function Kn(n,t,e,s,r){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?ri(e):e);return}const i=n.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?n.getAttribute("value")||"":n.value,a=e==null?n.type==="checkbox"?"on":"":String(e);(o!==a||!("_value"in n))&&(n.value=a),e==null&&n.removeAttribute(t),n._value=e;return}let c=!1;if(e===""||e==null){const o=typeof n[t];o==="boolean"?e=ar(e):e==null&&o==="string"?(e="",c=!0):o==="number"&&(e=0,c=!0)}try{n[t]=e}catch{}c&&n.removeAttribute(r||t)}function No(n,t,e,s){n.addEventListener(t,e,s)}function Bo(n,t,e,s){n.removeEventListener(t,e,s)}const Yn=Symbol("_vei");function jo(n,t,e,s,r=null){const i=n[Yn]||(n[Yn]={}),c=i[t];if(s&&c)c.value=s;else{const[o,a]=Ho(t);if(s){const f=i[t]=Vo(s,r);No(n,o,f,a)}else c&&(Bo(n,o,c,a),i[t]=void 0)}}const Xn=/(?:Once|Passive|Capture)$/;function Ho(n){let t;if(Xn.test(n)){t={};let s;for(;s=n.match(Xn);)n=n.slice(0,n.length-s[0].length),t[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):pe(n.slice(2)),t]}let As=0;const $o=Promise.resolve(),ko=()=>As||($o.then(()=>As=0),As=Date.now());function Vo(n,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;qt(qo(s,e.value),t,5,[s])};return e.value=n,e.attached=ko(),e}function qo(n,t){if(W(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Zn=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Go=(n,t,e,s,r,i)=>{const c=r==="svg";t==="class"?Io(n,s,c):t==="style"?Uo(n,e,s):as(t)?Gs(t)||jo(n,t,e,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Wo(n,t,s,c))?(Kn(n,t,s),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wn(n,t,s,c,i,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!dt(s))?Kn(n,ie(t),s,i,t):(t==="true-value"?n._trueValue=s:t==="false-value"&&(n._falseValue=s),Wn(n,t,s,c))};function Wo(n,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in n&&Zn(t)&&K(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Zn(t)&&dt(e)?!1:t in n}const Ko=gt({patchProp:Go},Lo);let Jn;function Yo(){return Jn||(Jn=Kc(Ko))}const Xo=(...n)=>{const t=Yo().createApp(...n),{mount:e}=t;return t.mount=s=>{const r=Jo(s);if(!r)return;const i=t._component;!K(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const c=e(r,!1,Zo(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),c},t};function Zo(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Jo(n){return dt(n)?document.querySelector(n):n}const Qo=Mc({setup(){const n=Cn(!0),t=Cn(!1);function e(){n.value=!n.value,window.InspectorToggle&&window.InspectorToggle(n.value)}function s(){window.reloadScene&&window.reloadScene()}return Or(()=>{t.value=!!window.engineStarted}),{inspectorVisible:n,engineReady:t,toggleInspector:e,reloadScene:s}}}),ta=(n,t)=>{const e=n.__vccOpts||n;for(const[s,r]of t)e[s]=r;return e},ea={class:"vue-inspector"},sa={key:0,class:"panel"};function na(n,t,e,s,r,i){return js(),Nn("div",ea,[ye("button",{onClick:t[0]||(t[0]=(...c)=>n.toggleInspector&&n.toggleInspector(...c))},Rs(n.inspectorVisible?"Hide":"Show")+" Inspector",1),n.inspectorVisible?(js(),Nn("div",sa,[t[2]||(t[2]=ye("h3",null,"Dev Vue Panel",-1)),ye("p",null,"Engine status: "+Rs(n.engineReady?"ready":"not ready"),1),ye("button",{onClick:t[1]||(t[1]=(...c)=>n.reloadScene&&n.reloadScene(...c))},"Reload Scene")])):mo("",!0)])}const ra=ta(Qo,[["render",na],["__scopeId","data-v-e87e331d"]]),ia=Xo(ra);ia.mount("#vue-root");window.engineStarted=!1;window.InspectorToggle=n=>{const t=document.querySelector(".inspector");t&&(t.style.display=n?"":"none")};window.reloadScene=()=>{location.reload()};
