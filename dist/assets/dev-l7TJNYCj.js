(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const ut={},Ie=[],Xt=()=>{},xr=()=>!1,Ss=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),hn=n=>n.startsWith("onUpdate:"),_t=Object.assign,un=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},_i=Object.prototype.hasOwnProperty,at=(n,t)=>_i.call(n,t),Z=Array.isArray,Pe=n=>Cs(n)==="[object Map]",br=n=>Cs(n)==="[object Set]",Q=n=>typeof n=="function",bt=n=>typeof n=="string",ye=n=>typeof n=="symbol",mt=n=>n!==null&&typeof n=="object",Mr=n=>(mt(n)||Q(n))&&Q(n.then)&&Q(n.catch),vr=Object.prototype.toString,Cs=n=>vr.call(n),Ai=n=>Cs(n).slice(8,-1),wr=n=>Cs(n)==="[object Object]",dn=n=>bt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,We=fn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rs=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},Si=/-\w/g,pe=Rs(n=>n.replace(Si,t=>t.slice(1).toUpperCase())),Ci=/\B([A-Z])/g,Ee=Rs(n=>n.replace(Ci,"-$1").toLowerCase()),Tr=Rs(n=>n.charAt(0).toUpperCase()+n.slice(1)),js=Rs(n=>n?`on${Tr(n)}`:""),de=(n,t)=>!Object.is(n,t),ms=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},Er=(n,t,e,s=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:s,value:e})},Xs=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let zn;const Ls=()=>zn||(zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ve(n){if(Z(n)){const t={};for(let e=0;e<n.length;e++){const s=n[e],r=bt(s)?Ii(s):ve(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(bt(n)||mt(n))return n}const Ri=/;(?![^(]*\))/g,Li=/:([^]+)/,Fi=/\/\*[^]*?\*\//g;function Ii(n){const t={};return n.replace(Fi,"").split(Ri).forEach(e=>{if(e){const s=e.split(Li);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function pn(n){let t="";if(bt(n))t=n;else if(Z(n))for(let e=0;e<n.length;e++){const s=pn(n[e]);s&&(t+=s+" ")}else if(mt(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const Pi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oi=fn(Pi);function _r(n){return!!n||n===""}const Ar=n=>!!(n&&n.__v_isRef===!0),re=n=>bt(n)?n:n==null?"":Z(n)||mt(n)&&(n.toString===vr||!Q(n.toString))?Ar(n)?re(n.value):JSON.stringify(n,Sr,2):String(n),Sr=(n,t)=>Ar(t)?Sr(n,t.value):Pe(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,r],i)=>(e[ks(s,i)+" =>"]=r,e),{})}:br(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>ks(e))}:ye(t)?ks(t):mt(t)&&!Z(t)&&!wr(t)?String(t):t,ks=(n,t="")=>{var e;return ye(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pt;class zi{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pt,!t&&Pt&&(this.index=(Pt.scopes||(Pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Pt;try{return Pt=this,t()}finally{Pt=e}}}on(){++this._on===1&&(this.prevScope=Pt,Pt=this)}off(){this._on>0&&--this._on===0&&(Pt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(this.effects.length=0,e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ui(){return Pt}let pt;const $s=new WeakSet;class Cr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pt&&Pt.active&&Pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$s.has(this)&&($s.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Lr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Un(this),Fr(this);const t=pt,e=kt;pt=this,kt=!0;try{return this.fn()}finally{Ir(this),pt=t,kt=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yn(t);this.deps=this.depsTail=void 0,Un(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$s.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zs(this)&&this.run()}get dirty(){return Zs(this)}}let Rr=0,Ke,Ye;function Lr(n,t=!1){if(n.flags|=8,t){n.next=Ye,Ye=n;return}n.next=Ke,Ke=n}function mn(){Rr++}function gn(){if(--Rr>0)return;if(Ye){let t=Ye;for(Ye=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Ke;){let t=Ke;for(Ke=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){n||(n=s)}t=e}}if(n)throw n}function Fr(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ir(n){let t,e=n.depsTail,s=e;for(;s;){const r=s.prevDep;s.version===-1?(s===e&&(e=r),yn(s),Di(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}n.deps=t,n.depsTail=e}function Zs(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function Pr(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ss)||(n.globalVersion=ss,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Zs(n))))return;n.flags|=2;const t=n.dep,e=pt,s=kt;pt=n,kt=!0;try{Fr(n);const r=n.fn(n._value);(t.version===0||de(r,n._value))&&(n.flags|=128,n._value=r,t.version++)}catch(r){throw t.version++,r}finally{pt=e,kt=s,Ir(n),n.flags&=-3}}function yn(n,t=!1){const{dep:e,prevSub:s,nextSub:r}=n;if(s&&(s.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=s,n.nextSub=void 0),e.subs===n&&(e.subs=s,!s&&e.computed)){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)yn(i,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function Di(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let kt=!0;const Or=[];function ce(){Or.push(kt),kt=!1}function oe(){const n=Or.pop();kt=n===void 0?!0:n}function Un(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=pt;pt=void 0;try{t()}finally{pt=e}}}let ss=0;class Ni{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!pt||!kt||pt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==pt)e=this.activeLink=new Ni(pt,this),pt.deps?(e.prevDep=pt.depsTail,pt.depsTail.nextDep=e,pt.depsTail=e):pt.deps=pt.depsTail=e,zr(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const s=e.nextDep;s.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=s),e.prevDep=pt.depsTail,e.nextDep=void 0,pt.depsTail.nextDep=e,pt.depsTail=e,pt.deps===e&&(pt.deps=s)}return e}trigger(t){this.version++,ss++,this.notify(t)}notify(t){mn();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{gn()}}}function zr(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)zr(s)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Js=new WeakMap,we=Symbol(""),Qs=Symbol(""),ns=Symbol("");function Tt(n,t,e){if(kt&&pt){let s=Js.get(n);s||Js.set(n,s=new Map);let r=s.get(e);r||(s.set(e,r=new xn),r.map=s,r.key=e),r.track()}}function se(n,t,e,s,r,i){const c=Js.get(n);if(!c){ss++;return}const o=a=>{a&&a.trigger()};if(mn(),t==="clear")c.forEach(o);else{const a=Z(n),l=a&&dn(e);if(a&&e==="length"){const f=Number(s);c.forEach((h,p)=>{(p==="length"||p===ns||!ye(p)&&p>=f)&&o(h)})}else switch((e!==void 0||c.has(void 0))&&o(c.get(e)),l&&o(c.get(ns)),t){case"add":a?l&&o(c.get("length")):(o(c.get(we)),Pe(n)&&o(c.get(Qs)));break;case"delete":a||(o(c.get(we)),Pe(n)&&o(c.get(Qs)));break;case"set":Pe(n)&&o(c.get(we));break}}gn()}function Se(n){const t=ct(n);return t===n?t:(Tt(t,"iterate",ns),Nt(n)?t:t.map(wt))}function Fs(n){return Tt(n=ct(n),"iterate",ns),n}const ji={__proto__:null,[Symbol.iterator](){return Bs(this,Symbol.iterator,wt)},concat(...n){return Se(this).concat(...n.map(t=>Z(t)?Se(t):t))},entries(){return Bs(this,"entries",n=>(n[1]=wt(n[1]),n))},every(n,t){return Qt(this,"every",n,t,void 0,arguments)},filter(n,t){return Qt(this,"filter",n,t,e=>e.map(wt),arguments)},find(n,t){return Qt(this,"find",n,t,wt,arguments)},findIndex(n,t){return Qt(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return Qt(this,"findLast",n,t,wt,arguments)},findLastIndex(n,t){return Qt(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return Qt(this,"forEach",n,t,void 0,arguments)},includes(...n){return qs(this,"includes",n)},indexOf(...n){return qs(this,"indexOf",n)},join(n){return Se(this).join(n)},lastIndexOf(...n){return qs(this,"lastIndexOf",n)},map(n,t){return Qt(this,"map",n,t,void 0,arguments)},pop(){return qe(this,"pop")},push(...n){return qe(this,"push",n)},reduce(n,...t){return Dn(this,"reduce",n,t)},reduceRight(n,...t){return Dn(this,"reduceRight",n,t)},shift(){return qe(this,"shift")},some(n,t){return Qt(this,"some",n,t,void 0,arguments)},splice(...n){return qe(this,"splice",n)},toReversed(){return Se(this).toReversed()},toSorted(n){return Se(this).toSorted(n)},toSpliced(...n){return Se(this).toSpliced(...n)},unshift(...n){return qe(this,"unshift",n)},values(){return Bs(this,"values",wt)}};function Bs(n,t,e){const s=Fs(n),r=s[t]();return s!==n&&!Nt(n)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=e(i.value)),i}),r}const ki=Array.prototype;function Qt(n,t,e,s,r,i){const c=Fs(n),o=c!==n&&!Nt(n),a=c[t];if(a!==ki[t]){const h=a.apply(n,i);return o?wt(h):h}let l=e;c!==n&&(o?l=function(h,p){return e.call(this,wt(h),p,n)}:e.length>2&&(l=function(h,p){return e.call(this,h,p,n)}));const f=a.call(c,l,s);return o&&r?r(f):f}function Dn(n,t,e,s){const r=Fs(n);let i=e;return r!==n&&(Nt(n)?e.length>3&&(i=function(c,o,a){return e.call(this,c,o,a,n)}):i=function(c,o,a){return e.call(this,c,wt(o),a,n)}),r[t](i,...s)}function qs(n,t,e){const s=ct(n);Tt(s,"iterate",ns);const r=s[t](...e);return(r===-1||r===!1)&&wn(e[0])?(e[0]=ct(e[0]),s[t](...e)):r}function qe(n,t,e=[]){ce(),mn();const s=ct(n)[t].apply(n,e);return gn(),oe(),s}const $i=fn("__proto__,__v_isRef,__isVue"),Ur=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ye));function Bi(n){ye(n)||(n=String(n));const t=ct(this);return Tt(t,"has",n),t.hasOwnProperty(n)}class Dr{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){if(e==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(e==="__v_isReactive")return!r;if(e==="__v_isReadonly")return r;if(e==="__v_isShallow")return i;if(e==="__v_raw")return s===(r?i?Ji:$r:i?kr:jr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const c=Z(t);if(!r){let a;if(c&&(a=ji[e]))return a;if(e==="hasOwnProperty")return Bi}const o=Reflect.get(t,e,Et(t)?t:s);if((ye(e)?Ur.has(e):$i(e))||(r||Tt(t,"get",e),i))return o;if(Et(o)){const a=c&&dn(e)?o:o.value;return r&&mt(a)?en(a):a}return mt(o)?r?en(o):Mn(o):o}}class Nr extends Dr{constructor(t=!1){super(!1,t)}set(t,e,s,r){let i=t[e];if(!this._isShallow){const a=me(i);if(!Nt(s)&&!me(s)&&(i=ct(i),s=ct(s)),!Z(t)&&Et(i)&&!Et(s))return a||(i.value=s),!0}const c=Z(t)&&dn(e)?Number(e)<t.length:at(t,e),o=Reflect.set(t,e,s,Et(t)?t:r);return t===ct(r)&&(c?de(s,i)&&se(t,"set",e,s):se(t,"add",e,s)),o}deleteProperty(t,e){const s=at(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&s&&se(t,"delete",e,void 0),r}has(t,e){const s=Reflect.has(t,e);return(!ye(e)||!Ur.has(e))&&Tt(t,"has",e),s}ownKeys(t){return Tt(t,"iterate",Z(t)?"length":we),Reflect.ownKeys(t)}}class qi extends Dr{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Hi=new Nr,Vi=new qi,Gi=new Nr(!0);const tn=n=>n,hs=n=>Reflect.getPrototypeOf(n);function Wi(n,t,e){return function(...s){const r=this.__v_raw,i=ct(r),c=Pe(i),o=n==="entries"||n===Symbol.iterator&&c,a=n==="keys"&&c,l=r[n](...s),f=e?tn:t?bs:wt;return!t&&Tt(i,"iterate",a?Qs:we),{next(){const{value:h,done:p}=l.next();return p?{value:h,done:p}:{value:o?[f(h[0]),f(h[1])]:f(h),done:p}},[Symbol.iterator](){return this}}}}function us(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Ki(n,t){const e={get(r){const i=this.__v_raw,c=ct(i),o=ct(r);n||(de(r,o)&&Tt(c,"get",r),Tt(c,"get",o));const{has:a}=hs(c),l=t?tn:n?bs:wt;if(a.call(c,r))return l(i.get(r));if(a.call(c,o))return l(i.get(o));i!==c&&i.get(r)},get size(){const r=this.__v_raw;return!n&&Tt(ct(r),"iterate",we),r.size},has(r){const i=this.__v_raw,c=ct(i),o=ct(r);return n||(de(r,o)&&Tt(c,"has",r),Tt(c,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const c=this,o=c.__v_raw,a=ct(o),l=t?tn:n?bs:wt;return!n&&Tt(a,"iterate",we),o.forEach((f,h)=>r.call(i,l(f),l(h),c))}};return _t(e,n?{add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear")}:{add(r){!t&&!Nt(r)&&!me(r)&&(r=ct(r));const i=ct(this);return hs(i).has.call(i,r)||(i.add(r),se(i,"add",r,r)),this},set(r,i){!t&&!Nt(i)&&!me(i)&&(i=ct(i));const c=ct(this),{has:o,get:a}=hs(c);let l=o.call(c,r);l||(r=ct(r),l=o.call(c,r));const f=a.call(c,r);return c.set(r,i),l?de(i,f)&&se(c,"set",r,i):se(c,"add",r,i),this},delete(r){const i=ct(this),{has:c,get:o}=hs(i);let a=c.call(i,r);a||(r=ct(r),a=c.call(i,r)),o&&o.call(i,r);const l=i.delete(r);return a&&se(i,"delete",r,void 0),l},clear(){const r=ct(this),i=r.size!==0,c=r.clear();return i&&se(r,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Wi(r,n,t)}),e}function bn(n,t){const e=Ki(n,t);return(s,r,i)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?s:Reflect.get(at(e,r)&&r in s?e:s,r,i)}const Yi={get:bn(!1,!1)},Xi={get:bn(!1,!0)},Zi={get:bn(!0,!1)};const jr=new WeakMap,kr=new WeakMap,$r=new WeakMap,Ji=new WeakMap;function Qi(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tc(n){return n.__v_skip||!Object.isExtensible(n)?0:Qi(Ai(n))}function Mn(n){return me(n)?n:vn(n,!1,Hi,Yi,jr)}function ec(n){return vn(n,!1,Gi,Xi,kr)}function en(n){return vn(n,!0,Vi,Zi,$r)}function vn(n,t,e,s,r){if(!mt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=tc(n);if(i===0)return n;const c=r.get(n);if(c)return c;const o=new Proxy(n,i===2?s:e);return r.set(n,o),o}function Oe(n){return me(n)?Oe(n.__v_raw):!!(n&&n.__v_isReactive)}function me(n){return!!(n&&n.__v_isReadonly)}function Nt(n){return!!(n&&n.__v_isShallow)}function wn(n){return n?!!n.__v_raw:!1}function ct(n){const t=n&&n.__v_raw;return t?ct(t):n}function sc(n){return!at(n,"__v_skip")&&Object.isExtensible(n)&&Er(n,"__v_skip",!0),n}const wt=n=>mt(n)?Mn(n):n,bs=n=>mt(n)?en(n):n;function Et(n){return n?n.__v_isRef===!0:!1}function St(n){return nc(n,!1)}function nc(n,t){return Et(n)?n:new rc(n,t)}class rc{constructor(t,e){this.dep=new xn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:ct(t),this._value=e?t:wt(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,s=this.__v_isShallow||Nt(t)||me(t);t=s?t:ct(t),de(t,e)&&(this._rawValue=t,this._value=s?t:wt(t),this.dep.trigger())}}function ic(n){return Et(n)?n.value:n}const cc={get:(n,t,e)=>t==="__v_raw"?n:ic(Reflect.get(n,t,e)),set:(n,t,e,s)=>{const r=n[t];return Et(r)&&!Et(e)?(r.value=e,!0):Reflect.set(n,t,e,s)}};function Br(n){return Oe(n)?n:new Proxy(n,cc)}class oc{constructor(t,e,s){this.fn=t,this.setter=e,this._value=void 0,this.dep=new xn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ss-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&pt!==this)return Lr(this,!0),!0}get value(){const t=this.dep.track();return Pr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ac(n,t,e=!1){let s,r;return Q(n)?s=n:(s=n.get,r=n.set),new oc(s,r,e)}const ds={},Ms=new WeakMap;let Me;function lc(n,t=!1,e=Me){if(e){let s=Ms.get(e);s||Ms.set(e,s=[]),s.push(n)}}function fc(n,t,e=ut){const{immediate:s,deep:r,once:i,scheduler:c,augmentJob:o,call:a}=e,l=x=>r?x:Nt(x)||r===!1||r===0?ne(x,1):ne(x);let f,h,p,u,g=!1,y=!1;if(Et(n)?(h=()=>n.value,g=Nt(n)):Oe(n)?(h=()=>l(n),g=!0):Z(n)?(y=!0,g=n.some(x=>Oe(x)||Nt(x)),h=()=>n.map(x=>{if(Et(x))return x.value;if(Oe(x))return l(x);if(Q(x))return a?a(x,2):x()})):Q(n)?t?h=a?()=>a(n,2):n:h=()=>{if(p){ce();try{p()}finally{oe()}}const x=Me;Me=f;try{return a?a(n,3,[u]):n(u)}finally{Me=x}}:h=Xt,t&&r){const x=h,E=r===!0?1/0:r;h=()=>ne(x(),E)}const v=Ui(),M=()=>{f.stop(),v&&v.active&&un(v.effects,f)};if(i&&t){const x=t;t=(...E)=>{x(...E),M()}}let b=y?new Array(n.length).fill(ds):ds;const w=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(t){const E=f.run();if(r||g||(y?E.some((A,R)=>de(A,b[R])):de(E,b))){p&&p();const A=Me;Me=f;try{const R=[E,b===ds?void 0:y&&b[0]===ds?[]:b,u];b=E,a?a(t,3,R):t(...R)}finally{Me=A}}}else f.run()};return o&&o(w),f=new Cr(h),f.scheduler=c?()=>c(w,!1):w,u=x=>lc(x,!1,f),p=f.onStop=()=>{const x=Ms.get(f);if(x){if(a)a(x,4);else for(const E of x)E();Ms.delete(f)}},t?s?w(!0):b=f.run():c?c(w.bind(null,!0),!0):f.run(),M.pause=f.pause.bind(f),M.resume=f.resume.bind(f),M.stop=M,M}function ne(n,t=1/0,e){if(t<=0||!mt(n)||n.__v_skip||(e=e||new Map,(e.get(n)||0)>=t))return n;if(e.set(n,t),t--,Et(n))ne(n.value,t,e);else if(Z(n))for(let s=0;s<n.length;s++)ne(n[s],t,e);else if(br(n)||Pe(n))n.forEach(s=>{ne(s,t,e)});else if(wr(n)){for(const s in n)ne(n[s],t,e);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&ne(n[s],t,e)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function as(n,t,e,s){try{return s?n(...s):n()}catch(r){Is(r,t,e)}}function Jt(n,t,e,s){if(Q(n)){const r=as(n,t,e,s);return r&&Mr(r)&&r.catch(i=>{Is(i,t,e)}),r}if(Z(n)){const r=[];for(let i=0;i<n.length;i++)r.push(Jt(n[i],t,e,s));return r}}function Is(n,t,e,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||ut;if(t){let o=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${e}`;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](n,a,l)===!1)return}o=o.parent}if(i){ce(),as(i,null,10,[n,a,l]),oe();return}}hc(n,e,r,s,c)}function hc(n,t,e,s=!0,r=!1){if(r)throw n;console.error(n)}const Ct=[];let Wt=-1;const ze=[];let fe=null,Re=0;const qr=Promise.resolve();let vs=null;function uc(n){const t=vs||qr;return n?t.then(this?n.bind(this):n):t}function dc(n){let t=Wt+1,e=Ct.length;for(;t<e;){const s=t+e>>>1,r=Ct[s],i=rs(r);i<n||i===n&&r.flags&2?t=s+1:e=s}return t}function Tn(n){if(!(n.flags&1)){const t=rs(n),e=Ct[Ct.length-1];!e||!(n.flags&2)&&t>=rs(e)?Ct.push(n):Ct.splice(dc(t),0,n),n.flags|=1,Hr()}}function Hr(){vs||(vs=qr.then(Gr))}function pc(n){Z(n)?ze.push(...n):fe&&n.id===-1?fe.splice(Re+1,0,n):n.flags&1||(ze.push(n),n.flags|=1),Hr()}function Nn(n,t,e=Wt+1){for(;e<Ct.length;e++){const s=Ct[e];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;Ct.splice(e,1),e--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Vr(n){if(ze.length){const t=[...new Set(ze)].sort((e,s)=>rs(e)-rs(s));if(ze.length=0,fe){fe.push(...t);return}for(fe=t,Re=0;Re<fe.length;Re++){const e=fe[Re];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}fe=null,Re=0}}const rs=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Gr(n){try{for(Wt=0;Wt<Ct.length;Wt++){const t=Ct[Wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),as(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Wt<Ct.length;Wt++){const t=Ct[Wt];t&&(t.flags&=-2)}Wt=-1,Ct.length=0,Vr(),vs=null,(Ct.length||ze.length)&&Gr()}}let Dt=null,Wr=null;function ws(n){const t=Dt;return Dt=n,Wr=n&&n.type.__scopeId||null,t}function mc(n,t=Dt,e){if(!t||n._n)return n;const s=(...r)=>{s._d&&Kn(-1);const i=ws(t);let c;try{c=n(...r)}finally{ws(i),s._d&&Kn(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function te(n,t){if(Dt===null)return n;const e=Ds(Dt),s=n.dirs||(n.dirs=[]);for(let r=0;r<t.length;r++){let[i,c,o,a=ut]=t[r];i&&(Q(i)&&(i={mounted:i,updated:i}),i.deep&&ne(c),s.push({dir:i,instance:e,value:c,oldValue:void 0,arg:o,modifiers:a}))}return n}function xe(n,t,e,s){const r=n.dirs,i=t&&t.dirs;for(let c=0;c<r.length;c++){const o=r[c];i&&(o.oldValue=i[c].value);let a=o.dir[s];a&&(ce(),Jt(a,e,8,[n.el,o,n,t]),oe())}}const gc=Symbol("_vte"),yc=n=>n.__isTeleport,xc=Symbol("_leaveCb");function En(n,t){n.shapeFlag&6&&n.component?(n.transition=t,En(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function _e(n,t){return Q(n)?_t({name:n.name},t,{setup:n}):n}function Kr(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const Ts=new WeakMap;function Xe(n,t,e,s,r=!1){if(Z(n)){n.forEach((g,y)=>Xe(g,t&&(Z(t)?t[y]:t),e,s,r));return}if(Ze(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Xe(n,t,e,s.component.subTree);return}const i=s.shapeFlag&4?Ds(s.component):s.el,c=r?null:i,{i:o,r:a}=n,l=t&&t.r,f=o.refs===ut?o.refs={}:o.refs,h=o.setupState,p=ct(h),u=h===ut?xr:g=>at(p,g);if(l!=null&&l!==a){if(jn(t),bt(l))f[l]=null,u(l)&&(h[l]=null);else if(Et(l)){l.value=null;const g=t;g.k&&(f[g.k]=null)}}if(Q(a))as(a,o,12,[c,f]);else{const g=bt(a),y=Et(a);if(g||y){const v=()=>{if(n.f){const M=g?u(a)?h[a]:f[a]:a.value;if(r)Z(M)&&un(M,i);else if(Z(M))M.includes(i)||M.push(i);else if(g)f[a]=[i],u(a)&&(h[a]=f[a]);else{const b=[i];a.value=b,n.k&&(f[n.k]=b)}}else g?(f[a]=c,u(a)&&(h[a]=c)):y&&(a.value=c,n.k&&(f[n.k]=c))};if(c){const M=()=>{v(),Ts.delete(n)};M.id=-1,Ts.set(n,M),zt(M,e)}else jn(n),v()}}}function jn(n){const t=Ts.get(n);t&&(t.flags|=8,Ts.delete(n))}Ls().requestIdleCallback;Ls().cancelIdleCallback;const Ze=n=>!!n.type.__asyncLoader,Yr=n=>n.type.__isKeepAlive;function bc(n,t){Xr(n,"a",t)}function Mc(n,t){Xr(n,"da",t)}function Xr(n,t,e=Lt){const s=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Ps(t,s,e),e){let r=e.parent;for(;r&&r.parent;)Yr(r.parent.vnode)&&vc(s,t,e,r),r=r.parent}}function vc(n,t,e,s){const r=Ps(t,n,s,!0);Jr(()=>{un(s[t],r)},e)}function Ps(n,t,e=Lt,s=!1){if(e){const r=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...c)=>{ce();const o=ls(e),a=Jt(t,e,n,c);return o(),oe(),a});return s?r.unshift(i):r.push(i),i}}const ae=n=>(t,e=Lt)=>{(!os||n==="sp")&&Ps(n,(...s)=>t(...s),e)},wc=ae("bm"),Os=ae("m"),Tc=ae("bu"),Ec=ae("u"),Zr=ae("bum"),Jr=ae("um"),_c=ae("sp"),Ac=ae("rtg"),Sc=ae("rtc");function Cc(n,t=Lt){Ps("ec",n,t)}const Rc=Symbol.for("v-ndc");function is(n,t,e,s){let r;const i=e,c=Z(n);if(c||bt(n)){const o=c&&Oe(n);let a=!1,l=!1;o&&(a=!Nt(n),l=me(n),n=Fs(n)),r=new Array(n.length);for(let f=0,h=n.length;f<h;f++)r[f]=t(a?l?bs(wt(n[f])):wt(n[f]):n[f],f,void 0,i)}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o+1,o,void 0,i)}else if(mt(n))if(n[Symbol.iterator])r=Array.from(n,(o,a)=>t(o,a,void 0,i));else{const o=Object.keys(n);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const f=o[a];r[a]=t(n[f],f,a,i)}}else r=[];return r}const sn=n=>n?bi(n)?Ds(n):sn(n.parent):null,Je=_t(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>sn(n.parent),$root:n=>sn(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>ti(n),$forceUpdate:n=>n.f||(n.f=()=>{Tn(n.update)}),$nextTick:n=>n.n||(n.n=uc.bind(n.proxy)),$watch:n=>Zc.bind(n)}),Hs=(n,t)=>n!==ut&&!n.__isScriptSetup&&at(n,t),Lc={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:s,data:r,props:i,accessCache:c,type:o,appContext:a}=n;let l;if(t[0]!=="$"){const u=c[t];if(u!==void 0)switch(u){case 1:return s[t];case 2:return r[t];case 4:return e[t];case 3:return i[t]}else{if(Hs(s,t))return c[t]=1,s[t];if(r!==ut&&at(r,t))return c[t]=2,r[t];if((l=n.propsOptions[0])&&at(l,t))return c[t]=3,i[t];if(e!==ut&&at(e,t))return c[t]=4,e[t];nn&&(c[t]=0)}}const f=Je[t];let h,p;if(f)return t==="$attrs"&&Tt(n.attrs,"get",""),f(n);if((h=o.__cssModules)&&(h=h[t]))return h;if(e!==ut&&at(e,t))return c[t]=4,e[t];if(p=a.config.globalProperties,at(p,t))return p[t]},set({_:n},t,e){const{data:s,setupState:r,ctx:i}=n;return Hs(r,t)?(r[t]=e,!0):s!==ut&&at(s,t)?(s[t]=e,!0):at(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:s,appContext:r,propsOptions:i,type:c}},o){let a,l;return!!(e[o]||n!==ut&&o[0]!=="$"&&at(n,o)||Hs(t,o)||(a=i[0])&&at(a,o)||at(s,o)||at(Je,o)||at(r.config.globalProperties,o)||(l=c.__cssModules)&&l[o])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:at(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function kn(n){return Z(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let nn=!0;function Fc(n){const t=ti(n),e=n.proxy,s=n.ctx;nn=!1,t.beforeCreate&&$n(t.beforeCreate,n,"bc");const{data:r,computed:i,methods:c,watch:o,provide:a,inject:l,created:f,beforeMount:h,mounted:p,beforeUpdate:u,updated:g,activated:y,deactivated:v,beforeDestroy:M,beforeUnmount:b,destroyed:w,unmounted:x,render:E,renderTracked:A,renderTriggered:R,errorCaptured:B,serverPrefetch:D,expose:G,inheritAttrs:j,components:rt,directives:et,filters:I}=t;if(l&&Ic(l,s,null),c)for(const $ in c){const q=c[$];Q(q)&&(s[$]=q.bind(e))}if(r){const $=r.call(e,e);mt($)&&(n.data=Mn($))}if(nn=!0,i)for(const $ in i){const q=i[$],lt=Q(q)?q.bind(e,e):Q(q.get)?q.get.bind(e,e):Xt,gt=!Q(q)&&Q(q.set)?q.set.bind(e):Xt,yt=an({get:lt,set:gt});Object.defineProperty(s,$,{enumerable:!0,configurable:!0,get:()=>yt.value,set:ht=>yt.value=ht})}if(o)for(const $ in o)Qr(o[$],s,e,$);if(a){const $=Q(a)?a.call(e):a;Reflect.ownKeys($).forEach(q=>{Nc(q,$[q])})}f&&$n(f,n,"c");function P($,q){Z(q)?q.forEach(lt=>$(lt.bind(e))):q&&$(q.bind(e))}if(P(wc,h),P(Os,p),P(Tc,u),P(Ec,g),P(bc,y),P(Mc,v),P(Cc,B),P(Sc,A),P(Ac,R),P(Zr,b),P(Jr,x),P(_c,D),Z(G))if(G.length){const $=n.exposed||(n.exposed={});G.forEach(q=>{Object.defineProperty($,q,{get:()=>e[q],set:lt=>e[q]=lt,enumerable:!0})})}else n.exposed||(n.exposed={});E&&n.render===Xt&&(n.render=E),j!=null&&(n.inheritAttrs=j),rt&&(n.components=rt),et&&(n.directives=et),D&&Kr(n)}function Ic(n,t,e=Xt){Z(n)&&(n=rn(n));for(const s in n){const r=n[s];let i;mt(r)?"default"in r?i=gs(r.from||s,r.default,!0):i=gs(r.from||s):i=gs(r),Et(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:c=>i.value=c}):t[s]=i}}function $n(n,t,e){Jt(Z(n)?n.map(s=>s.bind(t.proxy)):n.bind(t.proxy),t,e)}function Qr(n,t,e,s){let r=s.includes(".")?di(e,s):()=>e[s];if(bt(n)){const i=t[n];Q(i)&&Te(r,i)}else if(Q(n))Te(r,n.bind(e));else if(mt(n))if(Z(n))n.forEach(i=>Qr(i,t,e,s));else{const i=Q(n.handler)?n.handler.bind(e):t[n.handler];Q(i)&&Te(r,i,n)}}function ti(n){const t=n.type,{mixins:e,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:c}}=n.appContext,o=i.get(t);let a;return o?a=o:!r.length&&!e&&!s?a=t:(a={},r.length&&r.forEach(l=>Es(a,l,c,!0)),Es(a,t,c)),mt(t)&&i.set(t,a),a}function Es(n,t,e,s=!1){const{mixins:r,extends:i}=t;i&&Es(n,i,e,!0),r&&r.forEach(c=>Es(n,c,e,!0));for(const c in t)if(!(s&&c==="expose")){const o=Pc[c]||e&&e[c];n[c]=o?o(n[c],t[c]):t[c]}return n}const Pc={data:Bn,props:qn,emits:qn,methods:Ge,computed:Ge,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:Ge,directives:Ge,watch:zc,provide:Bn,inject:Oc};function Bn(n,t){return t?n?function(){return _t(Q(n)?n.call(this,this):n,Q(t)?t.call(this,this):t)}:t:n}function Oc(n,t){return Ge(rn(n),rn(t))}function rn(n){if(Z(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function At(n,t){return n?[...new Set([].concat(n,t))]:t}function Ge(n,t){return n?_t(Object.create(null),n,t):t}function qn(n,t){return n?Z(n)&&Z(t)?[...new Set([...n,...t])]:_t(Object.create(null),kn(n),kn(t??{})):t}function zc(n,t){if(!n)return t;if(!t)return n;const e=_t(Object.create(null),n);for(const s in t)e[s]=At(n[s],t[s]);return e}function ei(){return{app:null,config:{isNativeTag:xr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uc=0;function Dc(n,t){return function(s,r=null){Q(s)||(s=_t({},s)),r!=null&&!mt(r)&&(r=null);const i=ei(),c=new WeakSet,o=[];let a=!1;const l=i.app={_uid:Uc++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Mo,get config(){return i.config},set config(f){},use(f,...h){return c.has(f)||(f&&Q(f.install)?(c.add(f),f.install(l,...h)):Q(f)&&(c.add(f),f(l,...h))),l},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),l},component(f,h){return h?(i.components[f]=h,l):i.components[f]},directive(f,h){return h?(i.directives[f]=h,l):i.directives[f]},mount(f,h,p){if(!a){const u=l._ceVNode||Zt(s,r);return u.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),n(u,f,p),a=!0,l._container=f,f.__vue_app__=l,Ds(u.component)}},onUnmount(f){o.push(f)},unmount(){a&&(Jt(o,l._instance,16),n(null,l._container),delete l._container.__vue_app__)},provide(f,h){return i.provides[f]=h,l},runWithContext(f){const h=Ue;Ue=l;try{return f()}finally{Ue=h}}};return l}}let Ue=null;function Nc(n,t){if(Lt){let e=Lt.provides;const s=Lt.parent&&Lt.parent.provides;s===e&&(e=Lt.provides=Object.create(s)),e[n]=t}}function gs(n,t,e=!1){const s=po();if(s||Ue){let r=Ue?Ue._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return e&&Q(t)?t.call(s&&s.proxy):t}}const si={},ni=()=>Object.create(si),ri=n=>Object.getPrototypeOf(n)===si;function jc(n,t,e,s=!1){const r={},i=ni();n.propsDefaults=Object.create(null),ii(n,t,r,i);for(const c in n.propsOptions[0])c in r||(r[c]=void 0);e?n.props=s?r:ec(r):n.type.props?n.props=r:n.props=i,n.attrs=i}function kc(n,t,e,s){const{props:r,attrs:i,vnode:{patchFlag:c}}=n,o=ct(r),[a]=n.propsOptions;let l=!1;if((s||c>0)&&!(c&16)){if(c&8){const f=n.vnode.dynamicProps;for(let h=0;h<f.length;h++){let p=f[h];if(zs(n.emitsOptions,p))continue;const u=t[p];if(a)if(at(i,p))u!==i[p]&&(i[p]=u,l=!0);else{const g=pe(p);r[g]=cn(a,o,g,u,n,!1)}else u!==i[p]&&(i[p]=u,l=!0)}}}else{ii(n,t,r,i)&&(l=!0);let f;for(const h in o)(!t||!at(t,h)&&((f=Ee(h))===h||!at(t,f)))&&(a?e&&(e[h]!==void 0||e[f]!==void 0)&&(r[h]=cn(a,o,h,void 0,n,!0)):delete r[h]);if(i!==o)for(const h in i)(!t||!at(t,h))&&(delete i[h],l=!0)}l&&se(n.attrs,"set","")}function ii(n,t,e,s){const[r,i]=n.propsOptions;let c=!1,o;if(t)for(let a in t){if(We(a))continue;const l=t[a];let f;r&&at(r,f=pe(a))?!i||!i.includes(f)?e[f]=l:(o||(o={}))[f]=l:zs(n.emitsOptions,a)||(!(a in s)||l!==s[a])&&(s[a]=l,c=!0)}if(i){const a=ct(e),l=o||ut;for(let f=0;f<i.length;f++){const h=i[f];e[h]=cn(r,a,h,l[h],n,!at(l,h))}}return c}function cn(n,t,e,s,r,i){const c=n[e];if(c!=null){const o=at(c,"default");if(o&&s===void 0){const a=c.default;if(c.type!==Function&&!c.skipFactory&&Q(a)){const{propsDefaults:l}=r;if(e in l)s=l[e];else{const f=ls(r);s=l[e]=a.call(null,t),f()}}else s=a;r.ce&&r.ce._setProp(e,s)}c[0]&&(i&&!o?s=!1:c[1]&&(s===""||s===Ee(e))&&(s=!0))}return s}const $c=new WeakMap;function ci(n,t,e=!1){const s=e?$c:t.propsCache,r=s.get(n);if(r)return r;const i=n.props,c={},o=[];let a=!1;if(!Q(n)){const f=h=>{a=!0;const[p,u]=ci(h,t,!0);_t(c,p),u&&o.push(...u)};!e&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!i&&!a)return mt(n)&&s.set(n,Ie),Ie;if(Z(i))for(let f=0;f<i.length;f++){const h=pe(i[f]);Hn(h)&&(c[h]=ut)}else if(i)for(const f in i){const h=pe(f);if(Hn(h)){const p=i[f],u=c[h]=Z(p)||Q(p)?{type:p}:_t({},p),g=u.type;let y=!1,v=!0;if(Z(g))for(let M=0;M<g.length;++M){const b=g[M],w=Q(b)&&b.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(v=!1)}else y=Q(g)&&g.name==="Boolean";u[0]=y,u[1]=v,(y||at(u,"default"))&&o.push(h)}}const l=[c,o];return mt(n)&&s.set(n,l),l}function Hn(n){return n[0]!=="$"&&!We(n)}const _n=n=>n==="_"||n==="_ctx"||n==="$stable",An=n=>Z(n)?n.map(Kt):[Kt(n)],Bc=(n,t,e)=>{if(t._n)return t;const s=mc((...r)=>An(t(...r)),e);return s._c=!1,s},oi=(n,t,e)=>{const s=n._ctx;for(const r in n){if(_n(r))continue;const i=n[r];if(Q(i))t[r]=Bc(r,i,s);else if(i!=null){const c=An(i);t[r]=()=>c}}},ai=(n,t)=>{const e=An(t);n.slots.default=()=>e},li=(n,t,e)=>{for(const s in t)(e||!_n(s))&&(n[s]=t[s])},qc=(n,t,e)=>{const s=n.slots=ni();if(n.vnode.shapeFlag&32){const r=t._;r?(li(s,t,e),e&&Er(s,"_",r,!0)):oi(t,s)}else t&&ai(n,t)},Hc=(n,t,e)=>{const{vnode:s,slots:r}=n;let i=!0,c=ut;if(s.shapeFlag&32){const o=t._;o?e&&o===1?i=!1:li(r,t,e):(i=!t.$stable,oi(t,r)),c=t}else t&&(ai(n,t),c={default:1});if(i)for(const o in r)!_n(o)&&c[o]==null&&delete r[o]},zt=io;function Vc(n){return Gc(n)}function Gc(n,t){const e=Ls();e.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:c,createText:o,createComment:a,setText:l,setElementText:f,parentNode:h,nextSibling:p,setScopeId:u=Xt,insertStaticContent:g}=n,y=(d,m,T,L=null,S=null,C=null,U=void 0,z=null,O=!!m.dynamicChildren)=>{if(d===m)return;d&&!He(d,m)&&(L=fs(d),ht(d,S,C,!0),d=null),m.patchFlag===-2&&(O=!1,m.dynamicChildren=null);const{type:F,ref:K,shapeFlag:k}=m;switch(F){case Us:v(d,m,T,L);break;case ge:M(d,m,T,L);break;case Gs:d==null&&b(m,T,L,U);break;case Rt:rt(d,m,T,L,S,C,U,z,O);break;default:k&1?E(d,m,T,L,S,C,U,z,O):k&6?et(d,m,T,L,S,C,U,z,O):(k&64||k&128)&&F.process(d,m,T,L,S,C,U,z,O,$e)}K!=null&&S?Xe(K,d&&d.ref,C,m||d,!m):K==null&&d&&d.ref!=null&&Xe(d.ref,null,C,d,!0)},v=(d,m,T,L)=>{if(d==null)s(m.el=o(m.children),T,L);else{const S=m.el=d.el;m.children!==d.children&&l(S,m.children)}},M=(d,m,T,L)=>{d==null?s(m.el=a(m.children||""),T,L):m.el=d.el},b=(d,m,T,L)=>{[d.el,d.anchor]=g(d.children,m,T,L,d.el,d.anchor)},w=({el:d,anchor:m},T,L)=>{let S;for(;d&&d!==m;)S=p(d),s(d,T,L),d=S;s(m,T,L)},x=({el:d,anchor:m})=>{let T;for(;d&&d!==m;)T=p(d),r(d),d=T;r(m)},E=(d,m,T,L,S,C,U,z,O)=>{m.type==="svg"?U="svg":m.type==="math"&&(U="mathml"),d==null?A(m,T,L,S,C,U,z,O):D(d,m,S,C,U,z,O)},A=(d,m,T,L,S,C,U,z)=>{let O,F;const{props:K,shapeFlag:k,transition:H,dirs:Y}=d;if(O=d.el=c(d.type,C,K&&K.is,K),k&8?f(O,d.children):k&16&&B(d.children,O,null,L,S,Vs(d,C),U,z),Y&&xe(d,null,L,"created"),R(O,d,d.scopeId,U,L),K){for(const dt in K)dt!=="value"&&!We(dt)&&i(O,dt,null,K[dt],C,L);"value"in K&&i(O,"value",null,K.value,C),(F=K.onVnodeBeforeMount)&&Ht(F,L,d)}Y&&xe(d,null,L,"beforeMount");const it=Wc(S,H);it&&H.beforeEnter(O),s(O,m,T),((F=K&&K.onVnodeMounted)||it||Y)&&zt(()=>{F&&Ht(F,L,d),it&&H.enter(O),Y&&xe(d,null,L,"mounted")},S)},R=(d,m,T,L,S)=>{if(T&&u(d,T),L)for(let C=0;C<L.length;C++)u(d,L[C]);if(S){let C=S.subTree;if(m===C||mi(C.type)&&(C.ssContent===m||C.ssFallback===m)){const U=S.vnode;R(d,U,U.scopeId,U.slotScopeIds,S.parent)}}},B=(d,m,T,L,S,C,U,z,O=0)=>{for(let F=O;F<d.length;F++){const K=d[F]=z?he(d[F]):Kt(d[F]);y(null,K,m,T,L,S,C,U,z)}},D=(d,m,T,L,S,C,U)=>{const z=m.el=d.el;let{patchFlag:O,dynamicChildren:F,dirs:K}=m;O|=d.patchFlag&16;const k=d.props||ut,H=m.props||ut;let Y;if(T&&be(T,!1),(Y=H.onVnodeBeforeUpdate)&&Ht(Y,T,m,d),K&&xe(m,d,T,"beforeUpdate"),T&&be(T,!0),(k.innerHTML&&H.innerHTML==null||k.textContent&&H.textContent==null)&&f(z,""),F?G(d.dynamicChildren,F,z,T,L,Vs(m,S),C):U||q(d,m,z,null,T,L,Vs(m,S),C,!1),O>0){if(O&16)j(z,k,H,T,S);else if(O&2&&k.class!==H.class&&i(z,"class",null,H.class,S),O&4&&i(z,"style",k.style,H.style,S),O&8){const it=m.dynamicProps;for(let dt=0;dt<it.length;dt++){const ft=it[dt],Ft=k[ft],It=H[ft];(It!==Ft||ft==="value")&&i(z,ft,Ft,It,S,T)}}O&1&&d.children!==m.children&&f(z,m.children)}else!U&&F==null&&j(z,k,H,T,S);((Y=H.onVnodeUpdated)||K)&&zt(()=>{Y&&Ht(Y,T,m,d),K&&xe(m,d,T,"updated")},L)},G=(d,m,T,L,S,C,U)=>{for(let z=0;z<m.length;z++){const O=d[z],F=m[z],K=O.el&&(O.type===Rt||!He(O,F)||O.shapeFlag&198)?h(O.el):T;y(O,F,K,null,L,S,C,U,!0)}},j=(d,m,T,L,S)=>{if(m!==T){if(m!==ut)for(const C in m)!We(C)&&!(C in T)&&i(d,C,m[C],null,S,L);for(const C in T){if(We(C))continue;const U=T[C],z=m[C];U!==z&&C!=="value"&&i(d,C,z,U,S,L)}"value"in T&&i(d,"value",m.value,T.value,S)}},rt=(d,m,T,L,S,C,U,z,O)=>{const F=m.el=d?d.el:o(""),K=m.anchor=d?d.anchor:o("");let{patchFlag:k,dynamicChildren:H,slotScopeIds:Y}=m;Y&&(z=z?z.concat(Y):Y),d==null?(s(F,T,L),s(K,T,L),B(m.children||[],T,K,S,C,U,z,O)):k>0&&k&64&&H&&d.dynamicChildren?(G(d.dynamicChildren,H,T,S,C,U,z),(m.key!=null||S&&m===S.subTree)&&fi(d,m,!0)):q(d,m,T,K,S,C,U,z,O)},et=(d,m,T,L,S,C,U,z,O)=>{m.slotScopeIds=z,d==null?m.shapeFlag&512?S.ctx.activate(m,T,L,U,O):I(m,T,L,S,C,U,O):_(d,m,O)},I=(d,m,T,L,S,C,U)=>{const z=d.component=uo(d,L,S);if(Yr(d)&&(z.ctx.renderer=$e),mo(z,!1,U),z.asyncDep){if(S&&S.registerDep(z,P,U),!d.el){const O=z.subTree=Zt(ge);M(null,O,m,T),d.placeholder=O.el}}else P(z,d,m,T,S,C,U)},_=(d,m,T)=>{const L=m.component=d.component;if(no(d,m,T))if(L.asyncDep&&!L.asyncResolved){$(L,m,T);return}else L.next=m,L.update();else m.el=d.el,L.vnode=m},P=(d,m,T,L,S,C,U)=>{const z=()=>{if(d.isMounted){let{next:k,bu:H,u:Y,parent:it,vnode:dt}=d;{const Bt=hi(d);if(Bt){k&&(k.el=dt.el,$(d,k,U)),Bt.asyncDep.then(()=>{d.isUnmounted||z()});return}}let ft=k,Ft;be(d,!1),k?(k.el=dt.el,$(d,k,U)):k=dt,H&&ms(H),(Ft=k.props&&k.props.onVnodeBeforeUpdate)&&Ht(Ft,it,k,dt),be(d,!0);const It=Gn(d),$t=d.subTree;d.subTree=It,y($t,It,h($t.el),fs($t),d,S,C),k.el=It.el,ft===null&&ro(d,It.el),Y&&zt(Y,S),(Ft=k.props&&k.props.onVnodeUpdated)&&zt(()=>Ht(Ft,it,k,dt),S)}else{let k;const{el:H,props:Y}=m,{bm:it,m:dt,parent:ft,root:Ft,type:It}=d,$t=Ze(m);be(d,!1),it&&ms(it),!$t&&(k=Y&&Y.onVnodeBeforeMount)&&Ht(k,ft,m),be(d,!0);{Ft.ce&&Ft.ce._def.shadowRoot!==!1&&Ft.ce._injectChildStyle(It);const Bt=d.subTree=Gn(d);y(null,Bt,T,L,d,S,C),m.el=Bt.el}if(dt&&zt(dt,S),!$t&&(k=Y&&Y.onVnodeMounted)){const Bt=m;zt(()=>Ht(k,ft,Bt),S)}(m.shapeFlag&256||ft&&Ze(ft.vnode)&&ft.vnode.shapeFlag&256)&&d.a&&zt(d.a,S),d.isMounted=!0,m=T=L=null}};d.scope.on();const O=d.effect=new Cr(z);d.scope.off();const F=d.update=O.run.bind(O),K=d.job=O.runIfDirty.bind(O);K.i=d,K.id=d.uid,O.scheduler=()=>Tn(K),be(d,!0),F()},$=(d,m,T)=>{m.component=d;const L=d.vnode.props;d.vnode=m,d.next=null,kc(d,m.props,L,T),Hc(d,m.children,T),ce(),Nn(d),oe()},q=(d,m,T,L,S,C,U,z,O=!1)=>{const F=d&&d.children,K=d?d.shapeFlag:0,k=m.children,{patchFlag:H,shapeFlag:Y}=m;if(H>0){if(H&128){gt(F,k,T,L,S,C,U,z,O);return}else if(H&256){lt(F,k,T,L,S,C,U,z,O);return}}Y&8?(K&16&&ke(F,S,C),k!==F&&f(T,k)):K&16?Y&16?gt(F,k,T,L,S,C,U,z,O):ke(F,S,C,!0):(K&8&&f(T,""),Y&16&&B(k,T,L,S,C,U,z,O))},lt=(d,m,T,L,S,C,U,z,O)=>{d=d||Ie,m=m||Ie;const F=d.length,K=m.length,k=Math.min(F,K);let H;for(H=0;H<k;H++){const Y=m[H]=O?he(m[H]):Kt(m[H]);y(d[H],Y,T,null,S,C,U,z,O)}F>K?ke(d,S,C,!0,!1,k):B(m,T,L,S,C,U,z,O,k)},gt=(d,m,T,L,S,C,U,z,O)=>{let F=0;const K=m.length;let k=d.length-1,H=K-1;for(;F<=k&&F<=H;){const Y=d[F],it=m[F]=O?he(m[F]):Kt(m[F]);if(He(Y,it))y(Y,it,T,null,S,C,U,z,O);else break;F++}for(;F<=k&&F<=H;){const Y=d[k],it=m[H]=O?he(m[H]):Kt(m[H]);if(He(Y,it))y(Y,it,T,null,S,C,U,z,O);else break;k--,H--}if(F>k){if(F<=H){const Y=H+1,it=Y<K?m[Y].el:L;for(;F<=H;)y(null,m[F]=O?he(m[F]):Kt(m[F]),T,it,S,C,U,z,O),F++}}else if(F>H)for(;F<=k;)ht(d[F],S,C,!0),F++;else{const Y=F,it=F,dt=new Map;for(F=it;F<=H;F++){const Ot=m[F]=O?he(m[F]):Kt(m[F]);Ot.key!=null&&dt.set(Ot.key,F)}let ft,Ft=0;const It=H-it+1;let $t=!1,Bt=0;const Be=new Array(It);for(F=0;F<It;F++)Be[F]=0;for(F=Y;F<=k;F++){const Ot=d[F];if(Ft>=It){ht(Ot,S,C,!0);continue}let qt;if(Ot.key!=null)qt=dt.get(Ot.key);else for(ft=it;ft<=H;ft++)if(Be[ft-it]===0&&He(Ot,m[ft])){qt=ft;break}qt===void 0?ht(Ot,S,C,!0):(Be[qt-it]=F+1,qt>=Bt?Bt=qt:$t=!0,y(Ot,m[qt],T,null,S,C,U,z,O),Ft++)}const In=$t?Kc(Be):Ie;for(ft=In.length-1,F=It-1;F>=0;F--){const Ot=it+F,qt=m[Ot],Pn=m[Ot+1],On=Ot+1<K?Pn.el||Pn.placeholder:L;Be[F]===0?y(null,qt,T,On,S,C,U,z,O):$t&&(ft<0||F!==In[ft]?yt(qt,T,On,2):ft--)}}},yt=(d,m,T,L,S=null)=>{const{el:C,type:U,transition:z,children:O,shapeFlag:F}=d;if(F&6){yt(d.component.subTree,m,T,L);return}if(F&128){d.suspense.move(m,T,L);return}if(F&64){U.move(d,m,T,$e);return}if(U===Rt){s(C,m,T);for(let k=0;k<O.length;k++)yt(O[k],m,T,L);s(d.anchor,m,T);return}if(U===Gs){w(d,m,T);return}if(L!==2&&F&1&&z)if(L===0)z.beforeEnter(C),s(C,m,T),zt(()=>z.enter(C),S);else{const{leave:k,delayLeave:H,afterLeave:Y}=z,it=()=>{d.ctx.isUnmounted?r(C):s(C,m,T)},dt=()=>{C._isLeaving&&C[xc](!0),k(C,()=>{it(),Y&&Y()})};H?H(C,it,dt):dt()}else s(C,m,T)},ht=(d,m,T,L=!1,S=!1)=>{const{type:C,props:U,ref:z,children:O,dynamicChildren:F,shapeFlag:K,patchFlag:k,dirs:H,cacheIndex:Y}=d;if(k===-2&&(S=!1),z!=null&&(ce(),Xe(z,null,T,d,!0),oe()),Y!=null&&(m.renderCache[Y]=void 0),K&256){m.ctx.deactivate(d);return}const it=K&1&&H,dt=!Ze(d);let ft;if(dt&&(ft=U&&U.onVnodeBeforeUnmount)&&Ht(ft,m,d),K&6)Ei(d.component,T,L);else{if(K&128){d.suspense.unmount(T,L);return}it&&xe(d,null,m,"beforeUnmount"),K&64?d.type.remove(d,m,T,$e,L):F&&!F.hasOnce&&(C!==Rt||k>0&&k&64)?ke(F,m,T,!1,!0):(C===Rt&&k&384||!S&&K&16)&&ke(O,m,T),L&&Ae(d)}(dt&&(ft=U&&U.onVnodeUnmounted)||it)&&zt(()=>{ft&&Ht(ft,m,d),it&&xe(d,null,m,"unmounted")},T)},Ae=d=>{const{type:m,el:T,anchor:L,transition:S}=d;if(m===Rt){je(T,L);return}if(m===Gs){x(d);return}const C=()=>{r(T),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(d.shapeFlag&1&&S&&!S.persisted){const{leave:U,delayLeave:z}=S,O=()=>U(T,C);z?z(d.el,C,O):O()}else C()},je=(d,m)=>{let T;for(;d!==m;)T=p(d),r(d),d=T;r(m)},Ei=(d,m,T)=>{const{bum:L,scope:S,job:C,subTree:U,um:z,m:O,a:F}=d;Vn(O),Vn(F),L&&ms(L),S.stop(),C&&(C.flags|=8,ht(U,d,m,T)),z&&zt(z,m),zt(()=>{d.isUnmounted=!0},m)},ke=(d,m,T,L=!1,S=!1,C=0)=>{for(let U=C;U<d.length;U++)ht(d[U],m,T,L,S)},fs=d=>{if(d.shapeFlag&6)return fs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const m=p(d.anchor||d.el),T=m&&m[gc];return T?p(T):m};let Ns=!1;const Fn=(d,m,T)=>{d==null?m._vnode&&ht(m._vnode,null,null,!0):y(m._vnode||null,d,m,null,null,null,T),m._vnode=d,Ns||(Ns=!0,Nn(),Vr(),Ns=!1)},$e={p:y,um:ht,m:yt,r:Ae,mt:I,mc:B,pc:q,pbc:G,n:fs,o:n};return{render:Fn,hydrate:void 0,createApp:Dc(Fn)}}function Vs({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function be({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function Wc(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function fi(n,t,e=!1){const s=n.children,r=t.children;if(Z(s)&&Z(r))for(let i=0;i<s.length;i++){const c=s[i];let o=r[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[i]=he(r[i]),o.el=c.el),!e&&o.patchFlag!==-2&&fi(c,o)),o.type===Us&&o.patchFlag!==-1&&(o.el=c.el),o.type===ge&&!o.el&&(o.el=c.el)}}function Kc(n){const t=n.slice(),e=[0];let s,r,i,c,o;const a=n.length;for(s=0;s<a;s++){const l=n[s];if(l!==0){if(r=e[e.length-1],n[r]<l){t[s]=r,e.push(s);continue}for(i=0,c=e.length-1;i<c;)o=i+c>>1,n[e[o]]<l?i=o+1:c=o;l<n[e[i]]&&(i>0&&(t[s]=e[i-1]),e[i]=s)}}for(i=e.length,c=e[i-1];i-- >0;)e[i]=c,c=t[c];return e}function hi(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:hi(t)}function Vn(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const Yc=Symbol.for("v-scx"),Xc=()=>gs(Yc);function Te(n,t,e){return ui(n,t,e)}function ui(n,t,e=ut){const{immediate:s,deep:r,flush:i,once:c}=e,o=_t({},e),a=t&&s||!t&&i!=="post";let l;if(os){if(i==="sync"){const u=Xc();l=u.__watcherHandles||(u.__watcherHandles=[])}else if(!a){const u=()=>{};return u.stop=Xt,u.resume=Xt,u.pause=Xt,u}}const f=Lt;o.call=(u,g,y)=>Jt(u,f,g,y);let h=!1;i==="post"?o.scheduler=u=>{zt(u,f&&f.suspense)}:i!=="sync"&&(h=!0,o.scheduler=(u,g)=>{g?u():Tn(u)}),o.augmentJob=u=>{t&&(u.flags|=4),h&&(u.flags|=2,f&&(u.id=f.uid,u.i=f))};const p=fc(n,t,o);return os&&(l?l.push(p):a&&p()),p}function Zc(n,t,e){const s=this.proxy,r=bt(n)?n.includes(".")?di(s,n):()=>s[n]:n.bind(s,s);let i;Q(t)?i=t:(i=t.handler,e=t);const c=ls(this),o=ui(r,i.bind(s),e);return c(),o}function di(n,t){const e=t.split(".");return()=>{let s=n;for(let r=0;r<e.length&&s;r++)s=s[e[r]];return s}}const Jc=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${pe(t)}Modifiers`]||n[`${Ee(t)}Modifiers`];function Qc(n,t,...e){if(n.isUnmounted)return;const s=n.vnode.props||ut;let r=e;const i=t.startsWith("update:"),c=i&&Jc(s,t.slice(7));c&&(c.trim&&(r=e.map(f=>bt(f)?f.trim():f)),c.number&&(r=e.map(Xs)));let o,a=s[o=js(t)]||s[o=js(pe(t))];!a&&i&&(a=s[o=js(Ee(t))]),a&&Jt(a,n,6,r);const l=s[o+"Once"];if(l){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,Jt(l,n,6,r)}}const to=new WeakMap;function pi(n,t,e=!1){const s=e?to:t.emitsCache,r=s.get(n);if(r!==void 0)return r;const i=n.emits;let c={},o=!1;if(!Q(n)){const a=l=>{const f=pi(l,t,!0);f&&(o=!0,_t(c,f))};!e&&t.mixins.length&&t.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!i&&!o?(mt(n)&&s.set(n,null),null):(Z(i)?i.forEach(a=>c[a]=null):_t(c,i),mt(n)&&s.set(n,c),c)}function zs(n,t){return!n||!Ss(t)?!1:(t=t.slice(2).replace(/Once$/,""),at(n,t[0].toLowerCase()+t.slice(1))||at(n,Ee(t))||at(n,t))}function Gn(n){const{type:t,vnode:e,proxy:s,withProxy:r,propsOptions:[i],slots:c,attrs:o,emit:a,render:l,renderCache:f,props:h,data:p,setupState:u,ctx:g,inheritAttrs:y}=n,v=ws(n);let M,b;try{if(e.shapeFlag&4){const x=r||s,E=x;M=Kt(l.call(E,x,f,h,u,p,g)),b=o}else{const x=t;M=Kt(x.length>1?x(h,{attrs:o,slots:c,emit:a}):x(h,null)),b=t.props?o:eo(o)}}catch(x){Qe.length=0,Is(x,n,1),M=Zt(ge)}let w=M;if(b&&y!==!1){const x=Object.keys(b),{shapeFlag:E}=w;x.length&&E&7&&(i&&x.some(hn)&&(b=so(b,i)),w=Ne(w,b,!1,!0))}return e.dirs&&(w=Ne(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(e.dirs):e.dirs),e.transition&&En(w,e.transition),M=w,ws(v),M}const eo=n=>{let t;for(const e in n)(e==="class"||e==="style"||Ss(e))&&((t||(t={}))[e]=n[e]);return t},so=(n,t)=>{const e={};for(const s in n)(!hn(s)||!(s.slice(9)in t))&&(e[s]=n[s]);return e};function no(n,t,e){const{props:s,children:r,component:i}=n,{props:c,children:o,patchFlag:a}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return s?Wn(s,c,l):!!c;if(a&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const p=f[h];if(c[p]!==s[p]&&!zs(l,p))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:s===c?!1:s?c?Wn(s,c,l):!0:!!c;return!1}function Wn(n,t,e){const s=Object.keys(t);if(s.length!==Object.keys(n).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==n[i]&&!zs(e,i))return!0}return!1}function ro({vnode:n,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=t.vnode).el=e,t=t.parent;else break}}const mi=n=>n.__isSuspense;function io(n,t){t&&t.pendingBranch?Z(n)?t.effects.push(...n):t.effects.push(n):pc(n)}const Rt=Symbol.for("v-fgt"),Us=Symbol.for("v-txt"),ge=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),Qe=[];let Ut=null;function nt(n=!1){Qe.push(Ut=n?null:[])}function co(){Qe.pop(),Ut=Qe[Qe.length-1]||null}let cs=1;function Kn(n,t=!1){cs+=n,n<0&&Ut&&t&&(Ut.hasOnce=!0)}function gi(n){return n.dynamicChildren=cs>0?Ut||Ie:null,co(),cs>0&&Ut&&Ut.push(n),n}function ot(n,t,e,s,r,i){return gi(J(n,t,e,s,r,i,!0))}function De(n,t,e,s,r){return gi(Zt(n,t,e,s,r,!0))}function yi(n){return n?n.__v_isVNode===!0:!1}function He(n,t){return n.type===t.type&&n.key===t.key}const xi=({key:n})=>n??null,ys=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?bt(n)||Et(n)||Q(n)?{i:Dt,r:n,k:t,f:!!e}:n:null);function J(n,t=null,e=null,s=0,r=null,i=n===Rt?0:1,c=!1,o=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&xi(t),ref:t&&ys(t),scopeId:Wr,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Dt};return o?(Sn(a,e),i&128&&n.normalize(a)):e&&(a.shapeFlag|=bt(e)?8:16),cs>0&&!c&&Ut&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&Ut.push(a),a}const Zt=oo;function oo(n,t=null,e=null,s=0,r=null,i=!1){if((!n||n===Rc)&&(n=ge),yi(n)){const o=Ne(n,t,!0);return e&&Sn(o,e),cs>0&&!i&&Ut&&(o.shapeFlag&6?Ut[Ut.indexOf(n)]=o:Ut.push(o)),o.patchFlag=-2,o}if(bo(n)&&(n=n.__vccOpts),t){t=ao(t);let{class:o,style:a}=t;o&&!bt(o)&&(t.class=pn(o)),mt(a)&&(wn(a)&&!Z(a)&&(a=_t({},a)),t.style=ve(a))}const c=bt(n)?1:mi(n)?128:yc(n)?64:mt(n)?4:Q(n)?2:0;return J(n,t,e,s,r,c,i,!0)}function ao(n){return n?wn(n)||ri(n)?_t({},n):n:null}function Ne(n,t,e=!1,s=!1){const{props:r,ref:i,patchFlag:c,children:o,transition:a}=n,l=t?lo(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&xi(l),ref:t&&t.ref?e&&i?Z(i)?i.concat(ys(t)):[i,ys(t)]:ys(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Rt?c===-1?16:c|16:c,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:a,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ne(n.ssContent),ssFallback:n.ssFallback&&Ne(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return a&&s&&En(f,a.clone(f)),f}function Le(n=" ",t=0){return Zt(Us,null,n,t)}function jt(n="",t=!1){return t?(nt(),De(ge,null,n)):Zt(ge,null,n)}function Kt(n){return n==null||typeof n=="boolean"?Zt(ge):Z(n)?Zt(Rt,null,n.slice()):yi(n)?he(n):Zt(Us,null,String(n))}function he(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ne(n)}function Sn(n,t){let e=0;const{shapeFlag:s}=n;if(t==null)t=null;else if(Z(t))e=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Sn(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!ri(t)?t._ctx=Dt:r===3&&Dt&&(Dt.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:Dt},e=32):(t=String(t),s&64?(e=16,t=[Le(t)]):e=8);n.children=t,n.shapeFlag|=e}function lo(...n){const t={};for(let e=0;e<n.length;e++){const s=n[e];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=pn([t.class,s.class]));else if(r==="style")t.style=ve([t.style,s.style]);else if(Ss(r)){const i=t[r],c=s[r];c&&i!==c&&!(Z(i)&&i.includes(c))&&(t[r]=i?[].concat(i,c):c)}else r!==""&&(t[r]=s[r])}return t}function Ht(n,t,e,s=null){Jt(n,t,7,[e,s])}const fo=ei();let ho=0;function uo(n,t,e){const s=n.type,r=(t?t.appContext:n.appContext)||fo,i={uid:ho++,vnode:n,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new zi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ci(s,r),emitsOptions:pi(s,r),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:s.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Qc.bind(null,i),n.ce&&n.ce(i),i}let Lt=null;const po=()=>Lt||Dt;let _s,on;{const n=Ls(),t=(e,s)=>{let r;return(r=n[e])||(r=n[e]=[]),r.push(s),i=>{r.length>1?r.forEach(c=>c(i)):r[0](i)}};_s=t("__VUE_INSTANCE_SETTERS__",e=>Lt=e),on=t("__VUE_SSR_SETTERS__",e=>os=e)}const ls=n=>{const t=Lt;return _s(n),n.scope.on(),()=>{n.scope.off(),_s(t)}},Yn=()=>{Lt&&Lt.scope.off(),_s(null)};function bi(n){return n.vnode.shapeFlag&4}let os=!1;function mo(n,t=!1,e=!1){t&&on(t);const{props:s,children:r}=n.vnode,i=bi(n);jc(n,s,i,t),qc(n,r,e||t);const c=i?go(n,t):void 0;return t&&on(!1),c}function go(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Lc);const{setup:s}=e;if(s){ce();const r=n.setupContext=s.length>1?xo(n):null,i=ls(n),c=as(s,n,0,[n.props,r]),o=Mr(c);if(oe(),i(),(o||n.sp)&&!Ze(n)&&Kr(n),o){if(c.then(Yn,Yn),t)return c.then(a=>{Xn(n,a)}).catch(a=>{Is(a,n,0)});n.asyncDep=c}else Xn(n,c)}else Mi(n)}function Xn(n,t,e){Q(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:mt(t)&&(n.setupState=Br(t)),Mi(n)}function Mi(n,t,e){const s=n.type;n.render||(n.render=s.render||Xt);{const r=ls(n);ce();try{Fc(n)}finally{oe(),r()}}}const yo={get(n,t){return Tt(n,"get",""),n[t]}};function xo(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,yo),slots:n.slots,emit:n.emit,expose:t}}function Ds(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Br(sc(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Je)return Je[e](n)},has(t,e){return e in t||e in Je}})):n.proxy}function bo(n){return Q(n)&&"__vccOpts"in n}const an=(n,t)=>ac(n,t,os),Mo="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ln;const Zn=typeof window<"u"&&window.trustedTypes;if(Zn)try{ln=Zn.createPolicy("vue",{createHTML:n=>n})}catch{}const vi=ln?n=>ln.createHTML(n):n=>n,vo="http://www.w3.org/2000/svg",wo="http://www.w3.org/1998/Math/MathML",ee=typeof document<"u"?document:null,Jn=ee&&ee.createElement("template"),To={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,s)=>{const r=t==="svg"?ee.createElementNS(vo,n):t==="mathml"?ee.createElementNS(wo,n):e?ee.createElement(n,{is:e}):ee.createElement(n);return n==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:n=>ee.createTextNode(n),createComment:n=>ee.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ee.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,s,r,i){const c=e?e.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===i||!(r=r.nextSibling)););else{Jn.innerHTML=vi(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const o=Jn.content;if(s==="svg"||s==="mathml"){const a=o.firstChild;for(;a.firstChild;)o.appendChild(a.firstChild);o.removeChild(a)}t.insertBefore(o,e)}return[c?c.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},Eo=Symbol("_vtc");function _o(n,t,e){const s=n[Eo];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const As=Symbol("_vod"),wi=Symbol("_vsh"),Ao={name:"show",beforeMount(n,{value:t},{transition:e}){n[As]=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):Ve(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:s}){!t!=!e&&(s?t?(s.beforeEnter(n),Ve(n,!0),s.enter(n)):s.leave(n,()=>{Ve(n,!1)}):Ve(n,t))},beforeUnmount(n,{value:t}){Ve(n,t)}};function Ve(n,t){n.style.display=t?n[As]:"none",n[wi]=!t}const So=Symbol(""),Co=/(?:^|;)\s*display\s*:/;function Ro(n,t,e){const s=n.style,r=bt(e);let i=!1;if(e&&!r){if(t)if(bt(t))for(const c of t.split(";")){const o=c.slice(0,c.indexOf(":")).trim();e[o]==null&&xs(s,o,"")}else for(const c in t)e[c]==null&&xs(s,c,"");for(const c in e)c==="display"&&(i=!0),xs(s,c,e[c])}else if(r){if(t!==e){const c=s[So];c&&(e+=";"+c),s.cssText=e,i=Co.test(e)}}else t&&n.removeAttribute("style");As in n&&(n[As]=i?s.display:"",n[wi]&&(s.display="none"))}const Qn=/\s*!important$/;function xs(n,t,e){if(Z(e))e.forEach(s=>xs(n,t,s));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const s=Lo(n,t);Qn.test(e)?n.setProperty(Ee(s),e.replace(Qn,""),"important"):n[s]=e}}const tr=["Webkit","Moz","ms"],Ws={};function Lo(n,t){const e=Ws[t];if(e)return e;let s=pe(t);if(s!=="filter"&&s in n)return Ws[t]=s;s=Tr(s);for(let r=0;r<tr.length;r++){const i=tr[r]+s;if(i in n)return Ws[t]=i}return t}const er="http://www.w3.org/1999/xlink";function sr(n,t,e,s,r,i=Oi(t)){s&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(er,t.slice(6,t.length)):n.setAttributeNS(er,t,e):e==null||i&&!_r(e)?n.removeAttribute(t):n.setAttribute(t,i?"":ye(e)?String(e):e)}function nr(n,t,e,s,r){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?vi(e):e);return}const i=n.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?n.getAttribute("value")||"":n.value,a=e==null?n.type==="checkbox"?"on":"":String(e);(o!==a||!("_value"in n))&&(n.value=a),e==null&&n.removeAttribute(t),n._value=e;return}let c=!1;if(e===""||e==null){const o=typeof n[t];o==="boolean"?e=_r(e):e==null&&o==="string"?(e="",c=!0):o==="number"&&(e=0,c=!0)}try{n[t]=e}catch{}c&&n.removeAttribute(r||t)}function Fe(n,t,e,s){n.addEventListener(t,e,s)}function Fo(n,t,e,s){n.removeEventListener(t,e,s)}const rr=Symbol("_vei");function Io(n,t,e,s,r=null){const i=n[rr]||(n[rr]={}),c=i[t];if(s&&c)c.value=s;else{const[o,a]=Po(t);if(s){const l=i[t]=Uo(s,r);Fe(n,o,l,a)}else c&&(Fo(n,o,c,a),i[t]=void 0)}}const ir=/(?:Once|Passive|Capture)$/;function Po(n){let t;if(ir.test(n)){t={};let s;for(;s=n.match(ir);)n=n.slice(0,n.length-s[0].length),t[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Ee(n.slice(2)),t]}let Ks=0;const Oo=Promise.resolve(),zo=()=>Ks||(Oo.then(()=>Ks=0),Ks=Date.now());function Uo(n,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;Jt(Do(s,e.value),t,5,[s])};return e.value=n,e.attached=zo(),e}function Do(n,t){if(Z(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const cr=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,No=(n,t,e,s,r,i)=>{const c=r==="svg";t==="class"?_o(n,s,c):t==="style"?Ro(n,e,s):Ss(t)?hn(t)||Io(n,t,e,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jo(n,t,s,c))?(nr(n,t,s),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&sr(n,t,s,c,i,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!bt(s))?nr(n,pe(t),s,i,t):(t==="true-value"?n._trueValue=s:t==="false-value"&&(n._falseValue=s),sr(n,t,s,c))};function jo(n,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in n&&cr(t)&&Q(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return cr(t)&&bt(e)?!1:t in n}const or=n=>{const t=n.props["onUpdate:modelValue"]||!1;return Z(t)?e=>ms(t,e):t};function ko(n){n.target.composing=!0}function ar(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ys=Symbol("_assign"),le={created(n,{modifiers:{lazy:t,trim:e,number:s}},r){n[Ys]=or(r);const i=s||r.props&&r.props.type==="number";Fe(n,t?"change":"input",c=>{if(c.target.composing)return;let o=n.value;e&&(o=o.trim()),i&&(o=Xs(o)),n[Ys](o)}),e&&Fe(n,"change",()=>{n.value=n.value.trim()}),t||(Fe(n,"compositionstart",ko),Fe(n,"compositionend",ar),Fe(n,"change",ar))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:s,trim:r,number:i}},c){if(n[Ys]=or(c),n.composing)return;const o=(i||n.type==="number")&&!/^0\d/.test(n.value)?Xs(n.value):n.value,a=t??"";o!==a&&(document.activeElement===n&&n.type!=="range"&&(s&&t===e||r&&n.value.trim()===a)||(n.value=a))}},$o=_t({patchProp:No},To);let lr;function Bo(){return lr||(lr=Vc($o))}const qo=(...n)=>{const t=Bo().createApp(...n),{mount:e}=t;return t.mount=s=>{const r=Vo(s);if(!r)return;const i=t._component;!Q(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const c=e(r,!1,Ho(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),c},t};function Ho(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Vo(n){return bt(n)?document.querySelector(n):n}const X=1e-6,fr=new Float32Array([1,0,0,1]);class vt extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break;default:super(fr);break}}get str(){return vt.str(this)}copy(t){return this.set(t),this}identity(){return this.set(fr),this}multiply(t){return vt.multiply(this,this,t)}mul(t){return this}transpose(){return vt.transpose(this,this)}invert(){return vt.invert(this,this)}scale(t){return vt.scale(this,this,t)}rotate(t){return vt.rotate(this,this,t)}static create(){return new vt}static clone(t){return new vt(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static fromValues(...t){return new vt(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}static transpose(t,e){if(t===e){let s=e[1];t[1]=e[2],t[2]=s}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3];let o=s*c-i*r;return o?(o=1/o,t[0]=c*o,t[1]=-r*o,t[2]=-i*o,t[3]=s*o,t):null}static adjoint(t,e){const s=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=s,t}static determinant(t){return t[0]*t[3]-t[2]*t[1]}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t}static sub(t,e,s){return t}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=s[0],l=s[1],f=s[2],h=s[3];return t[0]=r*a+c*l,t[1]=i*a+o*l,t[2]=r*f+c*h,t[3]=i*f+o*h,t}static mul(t,e,s){return t}static rotate(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),l=Math.cos(s);return t[0]=r*l+c*a,t[1]=i*l+o*a,t[2]=r*-a+c*l,t[3]=i*-a+o*l,t}static scale(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=s[0],l=s[1];return t[0]=r*a,t[1]=i*a,t[2]=c*l,t[3]=o*l,t}static fromRotation(t,e){const s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=s,t[2]=-s,t[3]=r,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3])}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static multiplyScalarAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t}static LDU(t,e,s,r){return t[2]=r[2]/r[0],s[0]=r[0],s[1]=r[1],s[3]=r[3]-t[2]*s[1],[t,e,s]}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=e[0],a=e[1],l=e[2],f=e[3];return Math.abs(s-o)<=X*Math.max(1,Math.abs(s),Math.abs(o))&&Math.abs(r-a)<=X*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=X*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(c-f)<=X*Math.max(1,Math.abs(c),Math.abs(f))}static str(t){return`Mat2(${t.join(", ")})`}}vt.prototype.mul=vt.prototype.multiply;vt.mul=vt.multiply;vt.sub=vt.subtract;const hr=new Float32Array([1,0,0,0,1,0,0,0,1]);class Mt extends Float32Array{static BYTE_LENGTH=9*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 9:super(t);break;case 2:super(t[0],t[1],9);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e]):super(e,0,9);break;default:super(hr);break}}get str(){return Mt.str(this)}copy(t){return this.set(t),this}identity(){return this.set(hr),this}multiply(t){return Mt.multiply(this,this,t)}mul(t){return this}transpose(){return Mt.transpose(this,this)}invert(){return Mt.invert(this,this)}translate(t){return Mt.translate(this,this,t)}rotate(t){return Mt.rotate(this,this,t)}scale(t){return Mt.scale(this,this,t)}static create(){return new Mt}static clone(t){return new Mt(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static fromValues(...t){return new Mt(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static transpose(t,e){if(t===e){const s=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=s,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],l=e[6],f=e[7],h=e[8],p=h*o-a*f,u=-h*c+a*l,g=f*c-o*l;let y=s*p+r*u+i*g;return y?(y=1/y,t[0]=p*y,t[1]=(-h*r+i*f)*y,t[2]=(a*r-i*o)*y,t[3]=u*y,t[4]=(h*s-i*l)*y,t[5]=(-a*s+i*c)*y,t[6]=g*y,t[7]=(-f*s+r*l)*y,t[8]=(o*s-r*c)*y,t):null}static adjoint(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],l=e[6],f=e[7],h=e[8];return t[0]=o*h-a*f,t[1]=i*f-r*h,t[2]=r*a-i*o,t[3]=a*l-c*h,t[4]=s*h-i*l,t[5]=i*c-s*a,t[6]=c*f-o*l,t[7]=r*l-s*f,t[8]=s*o-r*c,t}static determinant(t){const e=t[0],s=t[1],r=t[2],i=t[3],c=t[4],o=t[5],a=t[6],l=t[7],f=t[8];return e*(f*c-o*l)+s*(-f*i+o*a)+r*(l*i-c*a)}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t}static sub(t,e,s){return t}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],p=e[8];let u=s[0],g=s[1],y=s[2];return t[0]=u*r+g*o+y*f,t[1]=u*i+g*a+y*h,t[2]=u*c+g*l+y*p,u=s[3],g=s[4],y=s[5],t[3]=u*r+g*o+y*f,t[4]=u*i+g*a+y*h,t[5]=u*c+g*l+y*p,u=s[6],g=s[7],y=s[8],t[6]=u*r+g*o+y*f,t[7]=u*i+g*a+y*h,t[8]=u*c+g*l+y*p,t}static mul(t,e,s){return t}static translate(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],p=e[8],u=s[0],g=s[1];return t[0]=r,t[1]=i,t[2]=c,t[3]=o,t[4]=a,t[5]=l,t[6]=u*r+g*o+f,t[7]=u*i+g*a+h,t[8]=u*c+g*l+p,t}static rotate(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],p=e[8],u=Math.sin(s),g=Math.cos(s);return t[0]=g*r+u*o,t[1]=g*i+u*a,t[2]=g*c+u*l,t[3]=g*o-u*r,t[4]=g*a-u*i,t[5]=g*l-u*c,t[6]=f,t[7]=h,t[8]=p,t}static scale(t,e,s){const r=s[0],i=s[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}static fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}static fromRotation(t,e){const s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=s,t[2]=0,t[3]=-s,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}static fromMat2d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}static fromQuat(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=s+s,a=r+r,l=i+i,f=s*o,h=r*o,p=r*a,u=i*o,g=i*a,y=i*l,v=c*o,M=c*a,b=c*l;return t[0]=1-p-y,t[3]=h-b,t[6]=u+M,t[1]=h+b,t[4]=1-f-y,t[7]=g-v,t[2]=u-M,t[5]=g+v,t[8]=1-f-p,t}static fromMat4(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}static normalFromMat4(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],l=e[6],f=e[7],h=e[8],p=e[9],u=e[10],g=e[11],y=e[12],v=e[13],M=e[14],b=e[15],w=s*a-r*o,x=s*l-i*o,E=s*f-c*o,A=r*l-i*a,R=r*f-c*a,B=i*f-c*l,D=h*v-p*y,G=h*M-u*y,j=h*b-g*y,rt=p*M-u*v,et=p*b-g*v,I=u*b-g*M;let _=w*I-x*et+E*rt+A*j-R*G+B*D;return _?(_=1/_,t[0]=(a*I-l*et+f*rt)*_,t[1]=(l*j-o*I-f*G)*_,t[2]=(o*et-a*j+f*D)*_,t[3]=(i*et-r*I-c*rt)*_,t[4]=(s*I-i*j+c*G)*_,t[5]=(r*j-s*et-c*D)*_,t[6]=(v*B-M*R+b*A)*_,t[7]=(M*E-y*B-b*x)*_,t[8]=(y*R-v*E+b*w)*_,t):null}static projection(t,e,s){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/s,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8])}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t}static multiplyScalarAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t[4]=e[4]+s[4]*r,t[5]=e[5]+s[5]*r,t[6]=e[6]+s[6]*r,t[7]=e[7]+s[7]*r,t[8]=e[8]+s[8]*r,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=t[4],a=t[5],l=t[6],f=t[7],h=t[8],p=e[0],u=e[1],g=e[2],y=e[3],v=e[4],M=e[5],b=e[6],w=e[7],x=e[8];return Math.abs(s-p)<=X*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(r-u)<=X*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-g)<=X*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(c-y)<=X*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(o-v)<=X*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-M)<=X*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-b)<=X*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(f-w)<=X*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(h-x)<=X*Math.max(1,Math.abs(h),Math.abs(x))}static str(t){return`Mat3(${t.join(", ")})`}}Mt.prototype.mul=Mt.prototype.multiply;Mt.mul=Mt.multiply;Mt.sub=Mt.subtract;class N extends Float32Array{static BYTE_LENGTH=3*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 3:super(t);break;case 2:super(t[0],t[1],3);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e]):super(e,0,3);break}default:super(3);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get magnitude(){const t=this[0],e=this[1],s=this[2];return Math.sqrt(t*t+e*e+s*s)}get mag(){return this.magnitude}get squaredMagnitude(){const t=this[0],e=this[1],s=this[2];return t*t+e*e+s*s}get sqrMag(){return this.squaredMagnitude}get str(){return N.str(this)}copy(t){return this.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this[2]/=t[2],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this[2]+=t[2]*e,this}distance(t){return N.distance(this,t)}dist(t){return 0}squaredDistance(t){return N.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]}normalize(){return N.normalize(this,this)}static create(){return new N}static clone(t){return new N(t)}static magnitude(t){let e=t[0],s=t[1],r=t[2];return Math.sqrt(e*e+s*s+r*r)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static fromValues(t,e,s){return new N(t,e,s)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}static set(t,e,s,r){return t[0]=e,t[1]=s,t[2]=r,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}static sub(t,e,s){return[0,0,0]}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}static mul(t,e,s){return[0,0,0]}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}static div(t,e,s){return[0,0,0]}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math.min(e[2],s[2]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math.max(e[2],s[2]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}static scaleAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t}static distance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(s*s+r*r+i*i)}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return s*s+r*r+i*i}static sqrDist(t,e){return 0}static squaredLength(t){const e=t[0],s=t[1],r=t[2];return e*e+s*s+r*r}static sqrLen(t,e){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}static normalize(t,e){const s=e[0],r=e[1],i=e[2];let c=s*s+r*r+i*i;return c>0&&(c=1/Math.sqrt(c)),t[0]=e[0]*c,t[1]=e[1]*c,t[2]=e[2]*c,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}static cross(t,e,s){const r=e[0],i=e[1],c=e[2],o=s[0],a=s[1],l=s[2];return t[0]=i*l-c*a,t[1]=c*o-r*l,t[2]=r*a-i*o,t}static lerp(t,e,s,r){const i=e[0],c=e[1],o=e[2];return t[0]=i+r*(s[0]-i),t[1]=c+r*(s[1]-c),t[2]=o+r*(s[2]-o),t}static slerp(t,e,s,r){const i=Math.acos(Math.min(Math.max(N.dot(e,s),-1),1)),c=Math.sin(i),o=Math.sin((1-r)*i)/c,a=Math.sin(r*i)/c;return t[0]=o*e[0]+a*s[0],t[1]=o*e[1]+a*s[1],t[2]=o*e[2]+a*s[2],t}static hermite(t,e,s,r,i,c){const o=c*c,a=o*(2*c-3)+1,l=o*(c-2)+c,f=o*(c-1),h=o*(3-2*c);return t[0]=e[0]*a+s[0]*l+r[0]*f+i[0]*h,t[1]=e[1]*a+s[1]*l+r[1]*f+i[1]*h,t[2]=e[2]*a+s[2]*l+r[2]*f+i[2]*h,t}static bezier(t,e,s,r,i,c){const o=1-c,a=o*o,l=c*c,f=a*o,h=3*c*a,p=3*l*o,u=l*c;return t[0]=e[0]*f+s[0]*h+r[0]*p+i[0]*u,t[1]=e[1]*f+s[1]*h+r[1]*p+i[1]*u,t[2]=e[2]*f+s[2]*h+r[2]*p+i[2]*u,t}static transformMat4(t,e,s){const r=e[0],i=e[1],c=e[2],o=s[3]*r+s[7]*i+s[11]*c+s[15]||1;return t[0]=(s[0]*r+s[4]*i+s[8]*c+s[12])/o,t[1]=(s[1]*r+s[5]*i+s[9]*c+s[13])/o,t[2]=(s[2]*r+s[6]*i+s[10]*c+s[14])/o,t}static transformMat3(t,e,s){let r=e[0],i=e[1],c=e[2];return t[0]=r*s[0]+i*s[3]+c*s[6],t[1]=r*s[1]+i*s[4]+c*s[7],t[2]=r*s[2]+i*s[5]+c*s[8],t}static transformQuat(t,e,s){const r=s[0],i=s[1],c=s[2],o=s[3]*2,a=e[0],l=e[1],f=e[2],h=i*f-c*l,p=c*a-r*f,u=r*l-i*a,g=(i*u-c*p)*2,y=(c*h-r*u)*2,v=(r*p-i*h)*2;return t[0]=a+h*o+g,t[1]=l+p*o+y,t[2]=f+u*o+v,t}static rotateX(t,e,s,r){const i=s[1],c=s[2],o=e[1]-i,a=e[2]-c;return t[0]=e[0],t[1]=o*Math.cos(r)-a*Math.sin(r)+i,t[2]=o*Math.sin(r)+a*Math.cos(r)+c,t}static rotateY(t,e,s,r){const i=s[0],c=s[2],o=e[0]-i,a=e[2]-c;return t[0]=a*Math.sin(r)+o*Math.cos(r)+i,t[1]=e[1],t[2]=a*Math.cos(r)-o*Math.sin(r)+c,t}static rotateZ(t,e,s,r){const i=s[0],c=s[1],o=e[0]-i,a=e[1]-c;return t[0]=o*Math.cos(r)-a*Math.sin(r)+i,t[1]=o*Math.sin(r)+a*Math.cos(r)+c,t[2]=s[2],t}static angle(t,e){const s=t[0],r=t[1],i=t[2],c=e[0],o=e[1],a=e[2],l=Math.sqrt((s*s+r*r+i*i)*(c*c+o*o+a*a)),f=l&&N.dot(t,e)/l;return Math.acos(Math.min(Math.max(f,-1),1))}static zero(t){return t[0]=0,t[1]=0,t[2]=0,t}static str(t){return`Vec3(${t.join(", ")})`}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=e[0],o=e[1],a=e[2];return Math.abs(s-c)<=X*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-o)<=X*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=X*Math.max(1,Math.abs(i),Math.abs(a))}}N.prototype.sub=N.prototype.subtract;N.prototype.mul=N.prototype.multiply;N.prototype.div=N.prototype.divide;N.prototype.dist=N.prototype.distance;N.prototype.sqrDist=N.prototype.squaredDistance;N.sub=N.subtract;N.mul=N.multiply;N.div=N.divide;N.dist=N.distance;N.sqrDist=N.squaredDistance;N.sqrLen=N.squaredLength;N.mag=N.magnitude;N.length=N.magnitude;N.len=N.magnitude;const ur=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class tt extends Float32Array{static BYTE_LENGTH=16*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 16:super(t);break;case 2:super(t[0],t[1],16);break;case 1:const e=t[0];typeof e=="number"?super([e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e]):super(e,0,16);break;default:super(ur);break}}get str(){return tt.str(this)}copy(t){return this.set(t),this}identity(){return this.set(ur),this}multiply(t){return tt.multiply(this,this,t)}mul(t){return this}transpose(){return tt.transpose(this,this)}invert(){return tt.invert(this,this)}translate(t){return tt.translate(this,this,t)}rotate(t,e){return tt.rotate(this,this,t,e)}scale(t){return tt.scale(this,this,t)}rotateX(t){return tt.rotateX(this,this,t)}rotateY(t){return tt.rotateY(this,this,t)}rotateZ(t){return tt.rotateZ(this,this,t)}perspectiveNO(t,e,s,r){return tt.perspectiveNO(this,t,e,s,r)}perspectiveZO(t,e,s,r){return tt.perspectiveZO(this,t,e,s,r)}orthoNO(t,e,s,r,i,c){return tt.orthoNO(this,t,e,s,r,i,c)}orthoZO(t,e,s,r,i,c){return tt.orthoZO(this,t,e,s,r,i,c)}static create(){return new tt}static clone(t){return new tt(t)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static fromValues(...t){return new tt(...t)}static set(t,...e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static transpose(t,e){if(t===e){const s=e[1],r=e[2],i=e[3],c=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=s,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=c,t[11]=e[14],t[12]=i,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],l=e[6],f=e[7],h=e[8],p=e[9],u=e[10],g=e[11],y=e[12],v=e[13],M=e[14],b=e[15],w=s*a-r*o,x=s*l-i*o,E=s*f-c*o,A=r*l-i*a,R=r*f-c*a,B=i*f-c*l,D=h*v-p*y,G=h*M-u*y,j=h*b-g*y,rt=p*M-u*v,et=p*b-g*v,I=u*b-g*M;let _=w*I-x*et+E*rt+A*j-R*G+B*D;return _?(_=1/_,t[0]=(a*I-l*et+f*rt)*_,t[1]=(i*et-r*I-c*rt)*_,t[2]=(v*B-M*R+b*A)*_,t[3]=(u*R-p*B-g*A)*_,t[4]=(l*j-o*I-f*G)*_,t[5]=(s*I-i*j+c*G)*_,t[6]=(M*E-y*B-b*x)*_,t[7]=(h*B-u*E+g*x)*_,t[8]=(o*et-a*j+f*D)*_,t[9]=(r*j-s*et-c*D)*_,t[10]=(y*R-v*E+b*w)*_,t[11]=(p*E-h*R-g*w)*_,t[12]=(a*G-o*rt-l*D)*_,t[13]=(s*rt-r*G+i*D)*_,t[14]=(v*x-y*A-M*w)*_,t[15]=(h*A-p*x+u*w)*_,t):null}static adjoint(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=e[4],a=e[5],l=e[6],f=e[7],h=e[8],p=e[9],u=e[10],g=e[11],y=e[12],v=e[13],M=e[14],b=e[15],w=s*a-r*o,x=s*l-i*o,E=s*f-c*o,A=r*l-i*a,R=r*f-c*a,B=i*f-c*l,D=h*v-p*y,G=h*M-u*y,j=h*b-g*y,rt=p*M-u*v,et=p*b-g*v,I=u*b-g*M;return t[0]=a*I-l*et+f*rt,t[1]=i*et-r*I-c*rt,t[2]=v*B-M*R+b*A,t[3]=u*R-p*B-g*A,t[4]=l*j-o*I-f*G,t[5]=s*I-i*j+c*G,t[6]=M*E-y*B-b*x,t[7]=h*B-u*E+g*x,t[8]=o*et-a*j+f*D,t[9]=r*j-s*et-c*D,t[10]=y*R-v*E+b*w,t[11]=p*E-h*R-g*w,t[12]=a*G-o*rt-l*D,t[13]=s*rt-r*G+i*D,t[14]=v*x-y*A-M*w,t[15]=h*A-p*x+u*w,t}static determinant(t){const e=t[0],s=t[1],r=t[2],i=t[3],c=t[4],o=t[5],a=t[6],l=t[7],f=t[8],h=t[9],p=t[10],u=t[11],g=t[12],y=t[13],v=t[14],M=t[15],b=e*o-s*c,w=e*a-r*c,x=s*a-r*o,E=f*y-h*g,A=f*v-p*g,R=h*v-p*y,B=e*R-s*A+r*E,D=c*R-o*A+a*E,G=f*x-h*w+p*b,j=g*x-y*w+v*b;return l*B-i*D+M*G-u*j}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],p=e[8],u=e[9],g=e[10],y=e[11],v=e[12],M=e[13],b=e[14],w=e[15];let x=s[0],E=s[1],A=s[2],R=s[3];return t[0]=x*r+E*a+A*p+R*v,t[1]=x*i+E*l+A*u+R*M,t[2]=x*c+E*f+A*g+R*b,t[3]=x*o+E*h+A*y+R*w,x=s[4],E=s[5],A=s[6],R=s[7],t[4]=x*r+E*a+A*p+R*v,t[5]=x*i+E*l+A*u+R*M,t[6]=x*c+E*f+A*g+R*b,t[7]=x*o+E*h+A*y+R*w,x=s[8],E=s[9],A=s[10],R=s[11],t[8]=x*r+E*a+A*p+R*v,t[9]=x*i+E*l+A*u+R*M,t[10]=x*c+E*f+A*g+R*b,t[11]=x*o+E*h+A*y+R*w,x=s[12],E=s[13],A=s[14],R=s[15],t[12]=x*r+E*a+A*p+R*v,t[13]=x*i+E*l+A*u+R*M,t[14]=x*c+E*f+A*g+R*b,t[15]=x*o+E*h+A*y+R*w,t}static mul(t,e,s){return t}static translate(t,e,s){const r=s[0],i=s[1],c=s[2];if(e===t)t[12]=e[0]*r+e[4]*i+e[8]*c+e[12],t[13]=e[1]*r+e[5]*i+e[9]*c+e[13],t[14]=e[2]*r+e[6]*i+e[10]*c+e[14],t[15]=e[3]*r+e[7]*i+e[11]*c+e[15];else{const o=e[0],a=e[1],l=e[2],f=e[3],h=e[4],p=e[5],u=e[6],g=e[7],y=e[8],v=e[9],M=e[10],b=e[11];t[0]=o,t[1]=a,t[2]=l,t[3]=f,t[4]=h,t[5]=p,t[6]=u,t[7]=g,t[8]=y,t[9]=v,t[10]=M,t[11]=b,t[12]=o*r+h*i+y*c+e[12],t[13]=a*r+p*i+v*c+e[13],t[14]=l*r+u*i+M*c+e[14],t[15]=f*r+g*i+b*c+e[15]}return t}static scale(t,e,s){const r=s[0],i=s[1],c=s[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*c,t[9]=e[9]*c,t[10]=e[10]*c,t[11]=e[11]*c,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static rotate(t,e,s,r){let i=r[0],c=r[1],o=r[2],a=Math.sqrt(i*i+c*c+o*o);if(a<X)return null;a=1/a,i*=a,c*=a,o*=a;const l=Math.sin(s),f=Math.cos(s),h=1-f,p=e[0],u=e[1],g=e[2],y=e[3],v=e[4],M=e[5],b=e[6],w=e[7],x=e[8],E=e[9],A=e[10],R=e[11],B=i*i*h+f,D=c*i*h+o*l,G=o*i*h-c*l,j=i*c*h-o*l,rt=c*c*h+f,et=o*c*h+i*l,I=i*o*h+c*l,_=c*o*h-i*l,P=o*o*h+f;return t[0]=p*B+v*D+x*G,t[1]=u*B+M*D+E*G,t[2]=g*B+b*D+A*G,t[3]=y*B+w*D+R*G,t[4]=p*j+v*rt+x*et,t[5]=u*j+M*rt+E*et,t[6]=g*j+b*rt+A*et,t[7]=y*j+w*rt+R*et,t[8]=p*I+v*_+x*P,t[9]=u*I+M*_+E*P,t[10]=g*I+b*_+A*P,t[11]=y*I+w*_+R*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t}static rotateX(t,e,s){let r=Math.sin(s),i=Math.cos(s),c=e[4],o=e[5],a=e[6],l=e[7],f=e[8],h=e[9],p=e[10],u=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=c*i+f*r,t[5]=o*i+h*r,t[6]=a*i+p*r,t[7]=l*i+u*r,t[8]=f*i-c*r,t[9]=h*i-o*r,t[10]=p*i-a*r,t[11]=u*i-l*r,t}static rotateY(t,e,s){let r=Math.sin(s),i=Math.cos(s),c=e[0],o=e[1],a=e[2],l=e[3],f=e[8],h=e[9],p=e[10],u=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*i-f*r,t[1]=o*i-h*r,t[2]=a*i-p*r,t[3]=l*i-u*r,t[8]=c*r+f*i,t[9]=o*r+h*i,t[10]=a*r+p*i,t[11]=l*r+u*i,t}static rotateZ(t,e,s){let r=Math.sin(s),i=Math.cos(s),c=e[0],o=e[1],a=e[2],l=e[3],f=e[4],h=e[5],p=e[6],u=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*i+f*r,t[1]=o*i+h*r,t[2]=a*i+p*r,t[3]=l*i+u*r,t[4]=f*i-c*r,t[5]=h*i-o*r,t[6]=p*i-a*r,t[7]=u*i-l*r,t}static fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}static fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromRotation(t,e,s){let r=s[0],i=s[1],c=s[2],o=Math.sqrt(r*r+i*i+c*c);if(o<X)return null;o=1/o,r*=o,i*=o,c*=o;const a=Math.sin(e),l=Math.cos(e),f=1-l;return t[0]=r*r*f+l,t[1]=i*r*f+c*a,t[2]=c*r*f-i*a,t[3]=0,t[4]=r*i*f-c*a,t[5]=i*i*f+l,t[6]=c*i*f+r*a,t[7]=0,t[8]=r*c*f+i*a,t[9]=i*c*f-r*a,t[10]=c*c*f+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromXRotation(t,e){let s=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=s,t[7]=0,t[8]=0,t[9]=-s,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromYRotation(t,e){let s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-s,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=s,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromZRotation(t,e){const s=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=s,t[2]=0,t[3]=0,t[4]=-s,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static fromRotationTranslation(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=r+r,l=i+i,f=c+c,h=r*a,p=r*l,u=r*f,g=i*l,y=i*f,v=c*f,M=o*a,b=o*l,w=o*f;return t[0]=1-(g+v),t[1]=p+w,t[2]=u-b,t[3]=0,t[4]=p-w,t[5]=1-(h+v),t[6]=y+M,t[7]=0,t[8]=u+b,t[9]=y-M,t[10]=1-(h+g),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}static fromQuat2(t,e){let s=new N;const r=-e[0],i=-e[1],c=-e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7];let p=r*r+i*i+c*c+o*o;return p>0?(s[0]=(a*o+h*r+l*c-f*i)*2/p,s[1]=(l*o+h*i+f*r-a*c)*2/p,s[2]=(f*o+h*c+a*i-l*r)*2/p):(s[0]=(a*o+h*r+l*c-f*i)*2,s[1]=(l*o+h*i+f*r-a*c)*2,s[2]=(f*o+h*c+a*i-l*r)*2),tt.fromRotationTranslation(t,e,s),t}static getTranslation(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}static getScaling(t,e){const s=e[0],r=e[1],i=e[2],c=e[4],o=e[5],a=e[6],l=e[8],f=e[9],h=e[10];return t[0]=Math.sqrt(s*s+r*r+i*i),t[1]=Math.sqrt(c*c+o*o+a*a),t[2]=Math.sqrt(l*l+f*f+h*h),t}static getRotation(t,e){tt.getScaling(ps,e);const s=1/ps[0],r=1/ps[1],i=1/ps[2],c=e[0]*s,o=e[1]*r,a=e[2]*i,l=e[4]*s,f=e[5]*r,h=e[6]*i,p=e[8]*s,u=e[9]*r,g=e[10]*i,y=c+f+g;let v=0;return y>0?(v=Math.sqrt(y+1)*2,t[3]=.25*v,t[0]=(h-u)/v,t[1]=(p-a)/v,t[2]=(o-l)/v):c>f&&c>g?(v=Math.sqrt(1+c-f-g)*2,t[3]=(h-u)/v,t[0]=.25*v,t[1]=(o+l)/v,t[2]=(p+a)/v):f>g?(v=Math.sqrt(1+f-c-g)*2,t[3]=(p-a)/v,t[0]=(o+l)/v,t[1]=.25*v,t[2]=(h+u)/v):(v=Math.sqrt(1+g-c-f)*2,t[3]=(o-l)/v,t[0]=(p+a)/v,t[1]=(h+u)/v,t[2]=.25*v),t}static decompose(t,e,s,r){e[0]=r[12],e[1]=r[13],e[2]=r[14];const i=r[0],c=r[1],o=r[2],a=r[4],l=r[5],f=r[6],h=r[8],p=r[9],u=r[10];s[0]=Math.sqrt(i*i+c*c+o*o),s[1]=Math.sqrt(a*a+l*l+f*f),s[2]=Math.sqrt(h*h+p*p+u*u);const g=1/s[0],y=1/s[1],v=1/s[2],M=i*g,b=c*y,w=o*v,x=a*g,E=l*y,A=f*v,R=h*g,B=p*y,D=u*v,G=M+E+D;let j=0;return G>0?(j=Math.sqrt(G+1)*2,t[3]=.25*j,t[0]=(A-B)/j,t[1]=(R-w)/j,t[2]=(b-x)/j):M>E&&M>D?(j=Math.sqrt(1+M-E-D)*2,t[3]=(A-B)/j,t[0]=.25*j,t[1]=(b+x)/j,t[2]=(R+w)/j):E>D?(j=Math.sqrt(1+E-M-D)*2,t[3]=(R-w)/j,t[0]=(b+x)/j,t[1]=.25*j,t[2]=(A+B)/j):(j=Math.sqrt(1+D-M-E)*2,t[3]=(b-x)/j,t[0]=(R+w)/j,t[1]=(A+B)/j,t[2]=.25*j),t}static fromRotationTranslationScale(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=e[3],l=i+i,f=c+c,h=o+o,p=i*l,u=i*f,g=i*h,y=c*f,v=c*h,M=o*h,b=a*l,w=a*f,x=a*h,E=r[0],A=r[1],R=r[2];return t[0]=(1-(y+M))*E,t[1]=(u+x)*E,t[2]=(g-w)*E,t[3]=0,t[4]=(u-x)*A,t[5]=(1-(p+M))*A,t[6]=(v+b)*A,t[7]=0,t[8]=(g+w)*R,t[9]=(v-b)*R,t[10]=(1-(p+y))*R,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}static fromRotationTranslationScaleOrigin(t,e,s,r,i){const c=e[0],o=e[1],a=e[2],l=e[3],f=c+c,h=o+o,p=a+a,u=c*f,g=c*h,y=c*p,v=o*h,M=o*p,b=a*p,w=l*f,x=l*h,E=l*p,A=r[0],R=r[1],B=r[2],D=i[0],G=i[1],j=i[2],rt=(1-(v+b))*A,et=(g+E)*A,I=(y-x)*A,_=(g-E)*R,P=(1-(u+b))*R,$=(M+w)*R,q=(y+x)*B,lt=(M-w)*B,gt=(1-(u+v))*B;return t[0]=rt,t[1]=et,t[2]=I,t[3]=0,t[4]=_,t[5]=P,t[6]=$,t[7]=0,t[8]=q,t[9]=lt,t[10]=gt,t[11]=0,t[12]=s[0]+D-(rt*D+_*G+q*j),t[13]=s[1]+G-(et*D+P*G+lt*j),t[14]=s[2]+j-(I*D+$*G+gt*j),t[15]=1,t}static fromQuat(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=s+s,a=r+r,l=i+i,f=s*o,h=r*o,p=r*a,u=i*o,g=i*a,y=i*l,v=c*o,M=c*a,b=c*l;return t[0]=1-p-y,t[1]=h+b,t[2]=u-M,t[3]=0,t[4]=h-b,t[5]=1-f-y,t[6]=g+v,t[7]=0,t[8]=u+M,t[9]=g-v,t[10]=1-f-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}static frustum(t,e,s,r,i,c,o){const a=1/(s-e),l=1/(i-r),f=1/(c-o);return t[0]=c*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c*2*l,t[6]=0,t[7]=0,t[8]=(s+e)*a,t[9]=(i+r)*l,t[10]=(o+c)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*c*2*f,t[15]=0,t}static perspectiveNO(t,e,s,r,i){const c=1/Math.tan(e/2);if(t[0]=c/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const o=1/(r-i);t[10]=(i+r)*o,t[14]=2*i*r*o}else t[10]=-1,t[14]=-2*r;return t}static perspective(t,e,s,r,i){return t}static perspectiveZO(t,e,s,r,i){const c=1/Math.tan(e/2);if(t[0]=c/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const o=1/(r-i);t[10]=i*o,t[14]=i*r*o}else t[10]=-1,t[14]=-r;return t}static perspectiveFromFieldOfView(t,e,s,r){const i=Math.tan(e.upDegrees*Math.PI/180),c=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+a),f=2/(i+c);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-((o-a)*l*.5),t[9]=(i-c)*f*.5,t[10]=r/(s-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*s/(s-r),t[15]=0,t}static orthoNO(t,e,s,r,i,c,o){const a=1/(e-s),l=1/(r-i),f=1/(c-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+s)*a,t[13]=(i+r)*l,t[14]=(o+c)*f,t[15]=1,t}static ortho(t,e,s,r,i,c,o){return t}static orthoZO(t,e,s,r,i,c,o){const a=1/(e-s),l=1/(r-i),f=1/(c-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=f,t[11]=0,t[12]=(e+s)*a,t[13]=(i+r)*l,t[14]=c*f,t[15]=1,t}static lookAt(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=r[0],l=r[1],f=r[2],h=s[0],p=s[1],u=s[2];if(Math.abs(i-h)<X&&Math.abs(c-p)<X&&Math.abs(o-u)<X)return tt.identity(t);let g=i-h,y=c-p,v=o-u,M=1/Math.sqrt(g*g+y*y+v*v);g*=M,y*=M,v*=M;let b=l*v-f*y,w=f*g-a*v,x=a*y-l*g;M=Math.sqrt(b*b+w*w+x*x),M?(M=1/M,b*=M,w*=M,x*=M):(b=0,w=0,x=0);let E=y*x-v*w,A=v*b-g*x,R=g*w-y*b;return M=Math.sqrt(E*E+A*A+R*R),M?(M=1/M,E*=M,A*=M,R*=M):(E=0,A=0,R=0),t[0]=b,t[1]=E,t[2]=g,t[3]=0,t[4]=w,t[5]=A,t[6]=y,t[7]=0,t[8]=x,t[9]=R,t[10]=v,t[11]=0,t[12]=-(b*i+w*c+x*o),t[13]=-(E*i+A*c+R*o),t[14]=-(g*i+y*c+v*o),t[15]=1,t}static targetTo(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=r[0],l=r[1],f=r[2];let h=i-s[0],p=c-s[1],u=o-s[2],g=h*h+p*p+u*u;g>0&&(g=1/Math.sqrt(g),h*=g,p*=g,u*=g);let y=l*u-f*p,v=f*h-a*u,M=a*p-l*h;return g=y*y+v*v+M*M,g>0&&(g=1/Math.sqrt(g),y*=g,v*=g,M*=g),t[0]=y,t[1]=v,t[2]=M,t[3]=0,t[4]=p*M-u*v,t[5]=u*y-h*M,t[6]=h*v-p*y,t[7]=0,t[8]=h,t[9]=p,t[10]=u,t[11]=0,t[12]=i,t[13]=c,t[14]=o,t[15]=1,t}static frob(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8]+t[9]*t[9]+t[10]*t[10]+t[11]*t[11]+t[12]*t[12]+t[13]*t[13]+t[14]*t[14]+t[15]*t[15])}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}static sub(t,e,s){return t}static multiplyScalar(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t}static multiplyScalarAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t[4]=e[4]+s[4]*r,t[5]=e[5]+s[5]*r,t[6]=e[6]+s[6]*r,t[7]=e[7]+s[7]*r,t[8]=e[8]+s[8]*r,t[9]=e[9]+s[9]*r,t[10]=e[10]+s[10]*r,t[11]=e[11]+s[11]*r,t[12]=e[12]+s[12]*r,t[13]=e[13]+s[13]*r,t[14]=e[14]+s[14]*r,t[15]=e[15]+s[15]*r,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=t[4],a=t[5],l=t[6],f=t[7],h=t[8],p=t[9],u=t[10],g=t[11],y=t[12],v=t[13],M=t[14],b=t[15],w=e[0],x=e[1],E=e[2],A=e[3],R=e[4],B=e[5],D=e[6],G=e[7],j=e[8],rt=e[9],et=e[10],I=e[11],_=e[12],P=e[13],$=e[14],q=e[15];return Math.abs(s-w)<=X*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(r-x)<=X*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-E)<=X*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(c-A)<=X*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(o-R)<=X*Math.max(1,Math.abs(o),Math.abs(R))&&Math.abs(a-B)<=X*Math.max(1,Math.abs(a),Math.abs(B))&&Math.abs(l-D)<=X*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(f-G)<=X*Math.max(1,Math.abs(f),Math.abs(G))&&Math.abs(h-j)<=X*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(p-rt)<=X*Math.max(1,Math.abs(p),Math.abs(rt))&&Math.abs(u-et)<=X*Math.max(1,Math.abs(u),Math.abs(et))&&Math.abs(g-I)<=X*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(y-_)<=X*Math.max(1,Math.abs(y),Math.abs(_))&&Math.abs(v-P)<=X*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(M-$)<=X*Math.max(1,Math.abs(M),Math.abs($))&&Math.abs(b-q)<=X*Math.max(1,Math.abs(b),Math.abs(q))}static str(t){return`Mat4(${t.join(", ")})`}}const ps=new N;tt.prototype.mul=tt.prototype.multiply;tt.sub=tt.subtract;tt.mul=tt.multiply;tt.perspective=tt.perspectiveNO;tt.ortho=tt.orthoNO;class W extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get a(){return this[3]}set a(t){this[3]=t}get magnitude(){const t=this[0],e=this[1],s=this[2],r=this[3];return Math.sqrt(t*t+e*e+s*s+r*r)}get mag(){return this.magnitude}get str(){return W.str(this)}copy(t){return super.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this[3]+=t[3],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this[3]-=t[3],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this[3]*=t[3],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this[2]/=t[2],this[3]/=t[3],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this[2]+=t[2]*e,this[3]+=t[3]*e,this}distance(t){return W.distance(this,t)}dist(t){return 0}squaredDistance(t){return W.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this[3]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this[3]=1/this[3],this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]+this[3]*t[3]}normalize(){return W.normalize(this,this)}static create(){return new W}static clone(t){return new W(t)}static fromValues(t,e,s,r){return new W(t,e,s,r)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static set(t,e,s,r,i){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t}static sub(t,e,s){return t}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t[3]=e[3]*s[3],t}static mul(t,e,s){return t}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t[3]=e[3]/s[3],t}static div(t,e,s){return t}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math.min(e[2],s[2]),t[3]=Math.min(e[3],s[3]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math.max(e[2],s[2]),t[3]=Math.max(e[3],s[3]),t}static round(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static scaleAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t[2]=e[2]+s[2]*r,t[3]=e[3]+s[3]*r,t}static distance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],c=e[3]-t[3];return Math.hypot(s,r,i,c)}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],c=e[3]-t[3];return s*s+r*r+i*i+c*c}static sqrDist(t,e){return 0}static magnitude(t){const e=t[0],s=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+s*s+r*r+i*i)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){const e=t[0],s=t[1],r=t[2],i=t[3];return e*e+s*s+r*r+i*i}static sqrLen(t){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}static normalize(t,e){const s=e[0],r=e[1],i=e[2],c=e[3];let o=s*s+r*r+i*i+c*c;return o>0&&(o=1/Math.sqrt(o)),t[0]=s*o,t[1]=r*o,t[2]=i*o,t[3]=c*o,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static cross(t,e,s,r){const i=s[0]*r[1]-s[1]*r[0],c=s[0]*r[2]-s[2]*r[0],o=s[0]*r[3]-s[3]*r[0],a=s[1]*r[2]-s[2]*r[1],l=s[1]*r[3]-s[3]*r[1],f=s[2]*r[3]-s[3]*r[2],h=e[0],p=e[1],u=e[2],g=e[3];return t[0]=p*f-u*l+g*a,t[1]=-(h*f)+u*o-g*c,t[2]=h*l-p*o+g*i,t[3]=-(h*a)+p*c-u*i,t}static lerp(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=e[3];return t[0]=i+r*(s[0]-i),t[1]=c+r*(s[1]-c),t[2]=o+r*(s[2]-o),t[3]=a+r*(s[3]-a),t}static transformMat4(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3];return t[0]=s[0]*r+s[4]*i+s[8]*c+s[12]*o,t[1]=s[1]*r+s[5]*i+s[9]*c+s[13]*o,t[2]=s[2]*r+s[6]*i+s[10]*c+s[14]*o,t[3]=s[3]*r+s[7]*i+s[11]*c+s[15]*o,t}static transformQuat(t,e,s){const r=e[0],i=e[1],c=e[2],o=s[0],a=s[1],l=s[2],f=s[3],h=f*r+a*c-l*i,p=f*i+l*r-o*c,u=f*c+o*i-a*r,g=-o*r-a*i-l*c;return t[0]=h*f+g*-o+p*-l-u*-a,t[1]=p*f+g*-a+u*-o-h*-l,t[2]=u*f+g*-l+h*-a-p*-o,t[3]=e[3],t}static zero(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}static str(t){return`Vec4(${t.join(", ")})`}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}static equals(t,e){const s=t[0],r=t[1],i=t[2],c=t[3],o=e[0],a=e[1],l=e[2],f=e[3];return Math.abs(s-o)<=X*Math.max(1,Math.abs(s),Math.abs(o))&&Math.abs(r-a)<=X*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=X*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(c-f)<=X*Math.max(1,Math.abs(c),Math.abs(f))}}W.prototype.sub=W.prototype.subtract;W.prototype.mul=W.prototype.multiply;W.prototype.div=W.prototype.divide;W.prototype.dist=W.prototype.distance;W.prototype.sqrDist=W.prototype.squaredDistance;W.sub=W.subtract;W.mul=W.multiply;W.div=W.divide;W.dist=W.distance;W.sqrDist=W.squaredDistance;W.sqrLen=W.squaredLength;W.mag=W.magnitude;W.length=W.magnitude;W.len=W.magnitude;class V extends Float32Array{static BYTE_LENGTH=4*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 4:super(t);break;case 2:super(t[0],t[1],4);break;case 1:{const e=t[0];typeof e=="number"?super([e,e,e,e]):super(e,0,4);break}default:super(4),this[3]=1;break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}get magnitude(){const t=this[0],e=this[1],s=this[2],r=this[3];return Math.sqrt(t*t+e*e+s*s+r*r)}get mag(){return this.magnitude}get str(){return V.str(this)}copy(t){return super.set(t),this}identity(){return this[0]=0,this[1]=0,this[2]=0,this[3]=1,this}multiply(t){return V.multiply(this,this,t)}mul(t){return this}rotateX(t){return V.rotateX(this,this,t)}rotateY(t){return V.rotateY(this,this,t)}rotateZ(t){return V.rotateZ(this,this,t)}invert(){return V.invert(this,this)}scale(t){return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this}dot(t){return V.dot(this,t)}static create(){return new V}static identity(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}static setAxisAngle(t,e,s){s=s*.5;const r=Math.sin(s);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(s),t}static getAxisAngle(t,e){const s=Math.acos(e[3])*2,r=Math.sin(s/2);return r>X?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),s}static getAngle(t,e){const s=V.dot(t,e);return Math.acos(2*s*s-1)}static multiply(t,e,s){const r=e[0],i=e[1],c=e[2],o=e[3],a=s[0],l=s[1],f=s[2],h=s[3];return t[0]=r*h+o*a+i*f-c*l,t[1]=i*h+o*l+c*a-r*f,t[2]=c*h+o*f+r*l-i*a,t[3]=o*h-r*a-i*l-c*f,t}static rotateX(t,e,s){s*=.5;const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),l=Math.cos(s);return t[0]=r*l+o*a,t[1]=i*l+c*a,t[2]=c*l-i*a,t[3]=o*l-r*a,t}static rotateY(t,e,s){s*=.5;const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),l=Math.cos(s);return t[0]=r*l-c*a,t[1]=i*l+o*a,t[2]=c*l+r*a,t[3]=o*l-i*a,t}static rotateZ(t,e,s){s*=.5;const r=e[0],i=e[1],c=e[2],o=e[3],a=Math.sin(s),l=Math.cos(s);return t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=c*l+o*a,t[3]=o*l-c*a,t}static calculateW(t,e){const s=e[0],r=e[1],i=e[2];return t[0]=s,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-s*s-r*r-i*i)),t}static exp(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=Math.sqrt(s*s+r*r+i*i),a=Math.exp(c),l=o>0?a*Math.sin(o)/o:0;return t[0]=s*l,t[1]=r*l,t[2]=i*l,t[3]=a*Math.cos(o),t}static ln(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=Math.sqrt(s*s+r*r+i*i),a=o>0?Math.atan2(o,c)/o:0;return t[0]=s*a,t[1]=r*a,t[2]=i*a,t[3]=.5*Math.log(s*s+r*r+i*i+c*c),t}static pow(t,e,s){return V.ln(t,e),V.scale(t,t,s),V.exp(t,t),t}static slerp(t,e,s,r){const i=e[0],c=e[1],o=e[2],a=e[3];let l=s[0],f=s[1],h=s[2],p=s[3],u,g,y=i*l+c*f+o*h+a*p;if(y<0&&(y=-y,l=-l,f=-f,h=-h,p=-p),1-y>X){const v=Math.acos(y),M=Math.sin(v);u=Math.sin((1-r)*v)/M,g=Math.sin(r*v)/M}else u=1-r,g=r;return t[0]=u*i+g*l,t[1]=u*c+g*f,t[2]=u*o+g*h,t[3]=u*a+g*p,t}static invert(t,e){const s=e[0],r=e[1],i=e[2],c=e[3],o=s*s+r*r+i*i+c*c,a=o?1/o:0;return t[0]=-s*a,t[1]=-r*a,t[2]=-i*a,t[3]=c*a,t}static conjugate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}static fromMat3(t,e){const s=e[0]+e[4]+e[8];let r;if(s>0)r=Math.sqrt(s+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let c=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[c*3+c]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[c*3+o]-e[o*3+c])*r,t[c]=(e[c*3+i]+e[i*3+c])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}static fromEuler(t,e,s,r){let i=.5*Math.PI/180;e*=i,s*=i,r*=i;let c=Math.sin(e),o=Math.cos(e),a=Math.sin(s),l=Math.cos(s),f=Math.sin(r),h=Math.cos(r);return t[0]=c*l*h-o*a*f,t[1]=o*a*h+c*l*f,t[2]=o*l*f-c*a*h,t[3]=o*l*h+c*a*f,t}static str(t){return`Quat(${t.join(", ")})`}static clone(t){return new V(t)}static fromValues(t,e,s,r){return new V(t,e,s,r)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}static set(t,e,s,r,i){return t}static add(t,e,s){return t}static mul(t,e,s){return t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static lerp(t,e,s,r){return t}static magnitude(t){return 0}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){return 0}static sqrLen(t){return 0}static normalize(t,e){return t}static exactEquals(t,e){return!1}static equals(t,e){return!1}static rotationTo(t,e,s){let r=N.dot(e,s);return r<-.999999?(N.cross(Gt,Go,e),N.len(Gt)<1e-6&&N.cross(Gt,Wo,e),N.normalize(Gt,Gt),V.setAxisAngle(t,Gt,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(N.cross(Gt,e,s),t[0]=Gt[0],t[1]=Gt[1],t[2]=Gt[2],t[3]=1+r,V.normalize(t,t))}static sqlerp(t,e,s,r,i,c){return V.slerp(dr,e,i,c),V.slerp(pr,s,r,c),V.slerp(t,dr,pr,2*c*(1-c)),t}static setAxes(t,e,s,r){return Vt[0]=s[0],Vt[3]=s[1],Vt[6]=s[2],Vt[1]=r[0],Vt[4]=r[1],Vt[7]=r[2],Vt[2]=-e[0],Vt[5]=-e[1],Vt[8]=-e[2],V.normalize(t,V.fromMat3(t,Vt))}}const dr=new V,pr=new V,Vt=new Mt,Gt=new N,Go=new N(1,0,0),Wo=new N(0,1,0);V.set=W.set;V.add=W.add;V.lerp=W.lerp;V.normalize=W.normalize;V.squaredLength=W.squaredLength;V.sqrLen=W.squaredLength;V.exactEquals=W.exactEquals;V.equals=W.equals;V.magnitude=W.magnitude;V.prototype.mul=V.prototype.multiply;V.mul=V.multiply;V.mag=V.magnitude;V.length=V.magnitude;V.len=V.magnitude;class st extends Float32Array{static BYTE_LENGTH=2*Float32Array.BYTES_PER_ELEMENT;constructor(...t){switch(t.length){case 2:{const e=t[0];typeof e=="number"?super([e,t[1]]):super(e,t[1],2);break}case 1:{const e=t[0];typeof e=="number"?super([e,e]):super(e,0,2);break}default:super(2);break}}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get magnitude(){return Math.hypot(this[0],this[1])}get mag(){return this.magnitude}get squaredMagnitude(){const t=this[0],e=this[1];return t*t+e*e}get sqrMag(){return this.squaredMagnitude}get str(){return st.str(this)}copy(t){return this.set(t),this}add(t){return this[0]+=t[0],this[1]+=t[1],this}subtract(t){return this[0]-=t[0],this[1]-=t[1],this}sub(t){return this}multiply(t){return this[0]*=t[0],this[1]*=t[1],this}mul(t){return this}divide(t){return this[0]/=t[0],this[1]/=t[1],this}div(t){return this}scale(t){return this[0]*=t,this[1]*=t,this}scaleAndAdd(t,e){return this[0]+=t[0]*e,this[1]+=t[1]*e,this}distance(t){return st.distance(this,t)}dist(t){return 0}squaredDistance(t){return st.squaredDistance(this,t)}sqrDist(t){return 0}negate(){return this[0]*=-1,this[1]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this}dot(t){return this[0]*t[0]+this[1]*t[1]}normalize(){return st.normalize(this,this)}static create(){return new st}static clone(t){return new st(t)}static fromValues(t,e){return new st(t,e)}static copy(t,e){return t[0]=e[0],t[1]=e[1],t}static set(t,e,s){return t[0]=e,t[1]=s,t}static add(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t}static subtract(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t}static sub(t,e,s){return[0,0]}static multiply(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t}static mul(t,e,s){return[0,0]}static divide(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t}static div(t,e,s){return[0,0]}static ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}static floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}static min(t,e,s){return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t}static max(t,e,s){return t[0]=Math.max(e[0],s[0]),t[1]=Math.max(e[1],s[1]),t}static round(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}static scale(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t}static scaleAndAdd(t,e,s,r){return t[0]=e[0]+s[0]*r,t[1]=e[1]+s[1]*r,t}static distance(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1])}static dist(t,e){return 0}static squaredDistance(t,e){const s=e[0]-t[0],r=e[1]-t[1];return s*s+r*r}static sqrDist(t,e){return 0}static magnitude(t){let e=t[0],s=t[1];return Math.sqrt(e*e+s*s)}static mag(t){return 0}static length(t){return 0}static len(t){return 0}static squaredLength(t){const e=t[0],s=t[1];return e*e+s*s}static sqrLen(t,e){return 0}static negate(t,e){return t[0]=-e[0],t[1]=-e[1],t}static inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}static normalize(t,e){const s=e[0],r=e[1];let i=s*s+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}static dot(t,e){return t[0]*e[0]+t[1]*e[1]}static cross(t,e,s){const r=e[0]*s[1]-e[1]*s[0];return t[0]=t[1]=0,t[2]=r,t}static lerp(t,e,s,r){const i=e[0],c=e[1];return t[0]=i+r*(s[0]-i),t[1]=c+r*(s[1]-c),t}static transformMat2(t,e,s){const r=e[0],i=e[1];return t[0]=s[0]*r+s[2]*i,t[1]=s[1]*r+s[3]*i,t}static transformMat2d(t,e,s){const r=e[0],i=e[1];return t[0]=s[0]*r+s[2]*i+s[4],t[1]=s[1]*r+s[3]*i+s[5],t}static transformMat3(t,e,s){const r=e[0],i=e[1];return t[0]=s[0]*r+s[3]*i+s[6],t[1]=s[1]*r+s[4]*i+s[7],t}static transformMat4(t,e,s){const r=e[0],i=e[1];return t[0]=s[0]*r+s[4]*i+s[12],t[1]=s[1]*r+s[5]*i+s[13],t}static rotate(t,e,s,r){const i=e[0]-s[0],c=e[1]-s[1],o=Math.sin(r),a=Math.cos(r);return t[0]=i*a-c*o+s[0],t[1]=i*o+c*a+s[1],t}static angle(t,e){const s=t[0],r=t[1],i=e[0],c=e[1],o=Math.sqrt(s*s+r*r)*Math.sqrt(i*i+c*c),a=o&&(s*i+r*c)/o;return Math.acos(Math.min(Math.max(a,-1),1))}static zero(t){return t[0]=0,t[1]=0,t}static exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]}static equals(t,e){const s=t[0],r=t[1],i=e[0],c=e[1];return Math.abs(s-i)<=X*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(r-c)<=X*Math.max(1,Math.abs(r),Math.abs(c))}static str(t){return`Vec2(${t.join(", ")})`}}st.prototype.sub=st.prototype.subtract;st.prototype.mul=st.prototype.multiply;st.prototype.div=st.prototype.divide;st.prototype.dist=st.prototype.distance;st.prototype.sqrDist=st.prototype.squaredDistance;st.sub=st.subtract;st.mul=st.multiply;st.div=st.divide;st.dist=st.distance;st.sqrDist=st.squaredDistance;st.sqrLen=st.squaredLength;st.mag=st.magnitude;st.length=st.magnitude;st.len=st.magnitude;class Cn{fov;aspect;near;far;active=!0;constructor(t=90,e=1,s=.1,r=1e3){this.fov=t,this.aspect=e,this.near=s,this.far=r}getProjectionMatrix(t){let e=new tt;const s=t??this.aspect,r=2*Math.atan(Math.tan(this.fov*Math.PI/360)/s)*180/Math.PI;return tt.perspectiveNO(e,r*Math.PI/180,s,this.near,this.far),e}setActive(t){this.active=t}static inspector={fov:{type:"number",widget:"slider",min:0,max:150,step:1},aspect:{type:"number",readonly:!0},near:{type:"number",min:.001,max:10,step:.001},far:{type:"number",min:1,max:5e3,step:1}}}class ue{static cache=new Map;static async fetchArrayBuffer(t,e){const s=await fetch(t,e);if(!s.ok)throw new Error(`Failed to fetch ${t}: ${s.status} ${s.statusText}`);return await s.arrayBuffer()}static async fetchText(t,e){const s=await fetch(t,e);if(!s.ok)throw new Error(`Failed to fetch ${t}: ${s.status} ${s.statusText}`);return await s.text()}static loadImage(t,e="anonymous"){return new Promise((s,r)=>{const i=new Image;e&&(i.crossOrigin=e),i.onload=()=>s(i),i.onerror=()=>r(new Error(`Failed to load image: ${t}`)),i.src=t})}static async loadResource(t,e){const s=this.cache.get(t);if(s)return s;const r=this._getExtension(t).toLowerCase(),i=e||this._mimeFromExtension(r)||void 0;let c;try{i&&i.startsWith("image/")?c={type:"image",data:await this.loadImage(t),mime:i}:r==="obj"||r==="mtl"||r==="gltf"||r==="glsl"||r==="vs"||r==="fs"||r==="txt"||r==="json"?c={type:"text",data:await this.fetchText(t),mime:i}:r==="glb"||r==="bin"||r==="fbx"||r==="dae"||r==="stl"?c={type:"arraybuffer",data:await this.fetchArrayBuffer(t),mime:i}:c={type:"arraybuffer",data:await this.fetchArrayBuffer(t),mime:i}}catch(o){return console.error(`Failed to load resource ${t}: ${o.message}`),null}return this.cache.set(t,c),c}static loadedResourceToText(t=null){return t?t.type==="text"?t.data:t.type==="arraybuffer"?new TextDecoder().decode(t.data):(t.type==="image"&&console.error("Cannot convert image resource to text"),""):null}static getCached(t){return this.cache.get(t)}static clearCache(){this.cache.clear()}static _getExtension(t){try{const s=new URL(t,location.href).pathname,r=s.lastIndexOf(".");return r>=0?s.substring(r+1):""}catch{const s=t.lastIndexOf(".");return s>=0?t.substring(s+1):""}}static _mimeFromExtension(t){switch(t){case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"gif":return"image/gif";case"webp":return"image/webp";case"bmp":return"image/bmp";case"obj":return"text/plain";case"gltf":return"application/json";case"glb":return"model/gltf-binary";case"bin":return"application/octet-stream";case"fbx":return"application/octet-stream";case"stl":return"application/sla";case"vs":case"fs":case"glsl":return"text/plain";case"json":return"application/json";case"txt":return"text/plain";default:return null}}}class Ko{static cache=new Map;static async loadTexture(t,e,s=!0,r=!0){if(this.cache.has(e))return this.cache.get(e);const i=await ue.loadResource(e);if(!i)return console.error(`Failed to load texture: ${e}`),null;let c=null;if(i.type==="image")c=i.data;else if(i.type==="arraybuffer"){const a=new Blob([i.data]),l=URL.createObjectURL(a);try{c=await ue.loadImage(l)}finally{URL.revokeObjectURL(l)}}else if(i.type==="text"){const a=new Blob([i.data]),l=URL.createObjectURL(a);try{c=await ue.loadImage(l)}finally{URL.revokeObjectURL(l)}}if(!c)throw new Error(`Failed to load image resource: ${e}`);const o=t.createTexture();if(!o)throw new Error("Impossible de crer la texture WebGL");return t.bindTexture(t.TEXTURE_2D,o),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s?1:0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,c),mr(c.width)&&mr(c.height)&&r?(t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.bindTexture(t.TEXTURE_2D,null),this.cache.set(e,o),o}static getCached(t){return this.cache.get(t)}static deleteTexture(t,e){const s=this.cache.get(e);s&&(t.deleteTexture(s),this.cache.delete(e))}static clearCache(t){if(t)for(const e of this.cache.values())t.deleteTexture(e);this.cache.clear()}}function mr(n){return(n&n-1)===0}class gr{vertexShader;fragmentShader;geometryShader;tessControlShader;tessEvalShader;constructor(t,e,s,r,i){this.vertexShader=t,this.fragmentShader=e,this.geometryShader=s,this.tessControlShader=r,this.tessEvalShader=i}}class Yo{static async LoadShaderFile(t){const e=await fetch(t);if(!e.ok)throw new Error(`Erreur lors du chargement du shader: ${t}`);return await e.text()}static async LoadShaderFolder(t){t.endsWith("/")||(t+="/"),console.log("Try to load shaders from folder",t);const s=(t.endsWith("/")?t:t+"/").split("/").filter(Boolean),r=s[s.length-1],i=[{ext:".vs",key:"vertexShader"},{ext:".fs",key:"fragmentShader"},{ext:".gs",key:"geometryShader"},{ext:".ts",key:"tessControlShader"},{ext:".tes",key:"tessEvalShader"}];let c="",o="",a,l,f;if(await Promise.all(i.map(async({ext:h,key:p})=>{const u=t+r+h;try{const g=await fetch(u);if(g.ok){const y=await g.text();switch(p){case"vertexShader":c=y;break;case"fragmentShader":o=y;break;case"geometryShader":a=y;break;case"tessControlShader":l=y;break;case"tessEvalShader":f=y;break}}}catch{}})),!c||!o)throw new Error("Le dossier ne contient pas de vertexShader (.vs) ou fragmentShader (.fs)");return console.log("Loaded shaders from folder",t),new gr(c,o,a,l,f)}static testShader(){const t=`#version 300 es
        precision highp float;

        in vec3 a_position;

        uniform mat4 u_proj;
        uniform mat4 u_view;
        uniform mat4 u_model;


        void main() {
            vec4 worldPos = u_model * vec4(a_position, 1.0);
            gl_Position = u_proj * u_view * worldPos;
        }
        `,e=`#version 300 es
        precision highp float;
        out vec4 outColor;
        void main() {
            outColor = vec4(1.0,0.0,0.0, 1.0);
        }
        `;return new gr(t,e)}}class Xo{gl;program;uniformLocations=new Map;pendingUniforms=new Map;dirtyUniforms=new Set;uniformCache=new Map;attribBindings=new Map;constructor(t,e){this.gl=t;const s=this.compile(t.VERTEX_SHADER,e.vertexShader),r=this.compile(t.FRAGMENT_SHADER,e.fragmentShader),i=t.createProgram();if(!i)throw new Error("Impossible de crer le programme WebGL.");t.attachShader(i,s),t.attachShader(i,r);for(const[c,o]of this.attribBindings.entries())t.bindAttribLocation(i,o,c);if(t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS)){const c=t.getProgramInfoLog(i);throw new Error("Erreur de linkage du shader: "+c)}t.deleteShader(s),t.deleteShader(r),this.program=i}bindAttrib(t,e){this.attribBindings.set(t,e)}use(){this.gl.useProgram(this.program);for(const t of Array.from(this.dirtyUniforms)){const e=this.pendingUniforms.get(t);e!==void 0&&(this.applyUniform(t,e),this.pendingUniforms.delete(t)),this.dirtyUniforms.delete(t)}}getUniformLocation(t){if(this.uniformLocations.has(t))return this.uniformLocations.get(t);const e=this.gl.getUniformLocation(this.program,t);return e?(this.uniformLocations.set(t,e),e):(this.uniformLocations.set(t,null),null)}set(t,e){this.pendingUniforms.set(t,e),this.dirtyUniforms.add(t)}setUniform(t,e){this.applyUniform(t,e)}applyUniform(t,e){const s=this.getUniformLocation(t);if(!s)return;const r=this.uniformCache.get(t);if(r!==void 0){if(typeof r=="number"||typeof r=="boolean"){if(r===e)return}else if(Array.isArray(r)||r instanceof Float32Array||r instanceof Int32Array){const c=r.length;if((Array.isArray(e)||e instanceof Float32Array||e instanceof Int32Array)&&e.length===c){let o=!0;for(let a=0;a<c;a++)if(r[a]!==e[a]){o=!1;break}if(o)return}}}if(typeof e=="number"){this.gl.uniform1f(s,e),this.uniformCache.set(t,e);return}if(typeof e=="boolean"){this.gl.uniform1i(s,e?1:0),this.uniformCache.set(t,e);return}if(e instanceof Int32Array)switch(e.length){case 1:this.gl.uniform1iv(s,e),this.uniformCache.set(t,new Int32Array(e));return;case 2:this.gl.uniform2iv(s,e),this.uniformCache.set(t,new Int32Array(e));return;case 3:this.gl.uniform3iv(s,e),this.uniformCache.set(t,new Int32Array(e));return;case 4:this.gl.uniform4iv(s,e),this.uniformCache.set(t,new Int32Array(e));return}const i=Array.isArray(e)||e instanceof Float32Array?e.length:0;if(i>0&&(e instanceof Float32Array||Array.isArray(e)))switch(i){case 1:this.gl.uniform1fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 2:this.gl.uniform2fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 3:this.gl.uniform3fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 4:this.gl.uniform4fv(s,e),this.uniformCache.set(t,new Float32Array(e));return;case 9:this.gl.uniformMatrix3fv(s,!1,e),this.uniformCache.set(t,new Float32Array(e));return;case 16:this.gl.uniformMatrix4fv(s,!1,e),this.uniformCache.set(t,new Float32Array(e));return;default:this.gl.uniform1fv(s,new Float32Array(e)),this.uniformCache.set(t,new Float32Array(e));return}console.warn(`Cannot set uniform '${t}' with value:`,e)}compile(t,e){const s=this.gl.createShader(t);if(!s)throw new Error("Cannot create shader.");if(this.gl.shaderSource(s,e),this.gl.compileShader(s),!this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)){const r=this.gl.getShaderInfoLog(s);throw new Error("Shader compilation error: "+r)}return s}delete(){this.gl.deleteProgram(this.program),this.uniformCache.clear(),this.uniformLocations.clear()}clearUniformCache(){this.uniformCache.clear()}getProgram(){return this.program}}class xt{static currentGLContext=null;canvas;gl;constructor(t){this.canvas=t;const e=t.getContext("webgl2");if(e)console.log("WebGL2 context initialized",e);else throw new Error("WebGL2 non support par ce navigateur");this.gl=e,this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK),this.gl.enable(this.gl.DEPTH_TEST),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas.bind(this))}clear(t=0,e=0,s=0,r=1){this.gl.clearColor(t,e,s,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}setViewport(t,e){console.log("Set viewport",t,e),this.gl.viewport(0,0,t,e)}enableDepthTest(){this.gl.enable(this.gl.DEPTH_TEST)}resizeCanvas(){console.log("Resizing canvas to",window.innerWidth,window.innerHeight),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.setViewport(this.canvas.width,this.canvas.height)}getAspectRatio(){return this.canvas.width/this.canvas.height}static getGL(t){if(t)return t instanceof xt?t.gl:t;if(xt.currentGLContext)return xt.currentGLContext.gl;throw new Error("No WebGL context available")}}class ts{static texturePromises=new Map;static textureCache=new Map;static colorLastUsed=new Map;static colorCleanupIntervalId=null;static shaderCache=new Map;static async loadTexture(t,e){if(e=xt.getGL(e),!e)throw new Error("No WebGL context available");if(this.textureCache.has(t))return this.textureCache.get(t);if(this.texturePromises.has(t))return this.texturePromises.get(t);const s=Ko.loadTexture(e,t).then(r=>(r&&this.textureCache.set(t,r),this.texturePromises.delete(t),r));return this.texturePromises.set(t,s),s}static getTexture(t){return this.textureCache.get(t)}static loadTextureHandle(t,e){e=xt.getGL(e);const s={state:"loading"},r=this.loadTexture(t,e).then(c=>(s.state="ready",s.texture=c??null,c)).catch(c=>{throw s.state="error",s.error=c,c}),i={ready:[],error:[]};return r.then(c=>{for(const o of i.ready)o(c??null)}).catch(c=>{for(const o of i.error)o(c)}),{stateObj:s,promise:r,onReady:c=>{i.ready.push(c),s.state==="ready"&&c(s.texture??null)},onError:c=>{i.error.push(c),s.state==="error"&&s.error&&c(s.error)}}}static async loadShaderProgram(t,e){if(e=xt.getGL(e),this.shaderCache.has(t))return this.shaderCache.get(t);const s=await Yo.LoadShaderFolder(t),r=new Xo(e,s);return this.shaderCache.set(t,r),r}static getShaderProgram(t){return this.shaderCache.get(t)}static loadShaderProgramHandle(t,e){e=xt.getGL(e);const s={state:"loading"},r=this.loadShaderProgram(t,e).then(c=>(s.state="ready",s.program=c,c)).catch(c=>{throw s.state="error",s.error=c,c}),i={ready:[],error:[]};return r.then(c=>{for(const o of i.ready)o(c)}).catch(c=>{for(const o of i.error)o(c)}),{stateObj:s,promise:r,onReady:c=>{i.ready.push(c),s.state==="ready"&&s.program&&c(s.program)},onError:c=>{i.error.push(c),s.state==="error"&&s.error&&c(s.error)}}}static clearTextures(){this.texturePromises.clear(),this.textureCache.clear()}static clearTexturesGL(t){t=xt.getGL(t);for(const e of this.textureCache.values())t.deleteTexture(e);this.clearTextures()}static deleteTexture(t,e){e=xt.getGL(e);const s=this.textureCache.get(t);s&&(e.deleteTexture(s),this.textureCache.delete(t))}static deleteShaderProgram(t){const e=this.shaderCache.get(t);e&&(e.delete(),this.shaderCache.delete(t))}static getOrCreateColorTexture(t,e){e=xt.getGL(e);const s=this.colorKey(t);if(this.textureCache.has(s))return this.textureCache.get(s);const r=e.createTexture();if(!r)throw new Error("Failed to create WebGL texture");e.bindTexture(e.TEXTURE_2D,r);const i=Math.round(t[0]*255),c=Math.round(t[1]*255),o=Math.round(t[2]*255),a=Math.round(t[3]*255),l=new Uint8Array([i,c,o,a]);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,l),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.textureCache.set(s,r),this.colorLastUsed.set(s,Date.now()),r}static colorKey(t){return`__color_${t.map(e=>Math.round(e*255)).join("_")}`}static deleteColorTexture(t,e){e=xt.getGL(e);const s=this.colorKey(t),r=this.textureCache.get(s);r&&(e.deleteTexture(r),this.textureCache.delete(s),this.colorLastUsed.delete(s))}static clearColorTextures(t){t=xt.getGL(t);for(const e of Array.from(this.textureCache.keys()))if(e.startsWith("__color_")){const s=this.textureCache.get(e);t.deleteTexture(s),this.textureCache.delete(e),this.colorLastUsed.delete(e)}}static enableColorTextureAutoCleanup(t,e=6e4,s=3e4){if(t){if(this.colorCleanupIntervalId!==null)return;this.colorCleanupIntervalId=setInterval(()=>{const r=Date.now();for(const[i,c]of Array.from(this.colorLastUsed.entries()))if(r-c>e){const o=this.textureCache.get(i);if(o)try{xt.getGL().deleteTexture(o)}catch{}this.textureCache.delete(i),this.colorLastUsed.delete(i)}},s)}else this.colorCleanupIntervalId!==null&&(clearInterval(this.colorCleanupIntervalId),this.colorCleanupIntervalId=null)}}class es{shader;uniforms={};textures={};constructor(t){this.shader=t}setUniform(t,e){this.uniforms[t]=e}setTextureUniform(t,e){this.textures[t]={url:e,fallback:W.fromValues(1,1,1,1)}}setFallback(t,e){const s=Array.isArray(e)?W.fromValues(...e):e,r=this.textures[t]??{url:"",fallback:s};this.textures[t]=r}inferTypeFromName(t){let e=t.toLowerCase();return e.startsWith("u_")&&(e=e.substring(2)),e.endsWith("_map")&&(e=e.substring(0,e.length-4)),e.includes("albedo")||e.includes("diffuse")?"albedo":e.includes("normal")?"normal":e.includes("metallic")?"metallic":e.includes("roughness")?"roughness":e.includes("ao")?"ao":null}applyTo(t){t=xt.getGL(t);for(const[s,r]of Object.entries(this.uniforms))this.shader.setUniform(s,r);let e=0;for(const[s,r]of Object.entries(this.textures)){const i=r.url,c=i?ts.getTexture(i):void 0;if(c)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,c),this.shader.setUniform(s,e),e++;else if(i&&ts.loadTexture(i,t).catch(o=>console.warn("Texture load failed",i,o)),r.fallback)try{const o=ts.getOrCreateColorTexture(r.fallback,t);t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,o),this.shader.setUniform(s,e),e++}catch(o){console.warn("Failed to create fallback color texture",o)}}}static inspector={textures:{type:"textures"}}}class Zo{static getSignature(t){const e=t.shader?.getProgram?t.shader.getProgram().toString():"shader",s=Object.keys(t.uniforms).sort().join(","),r=Object.keys(t.textures).sort().join(",");return`${e}|u:${s}|t:${r}`}}class Ti{modelGL;constructor(t){this.modelGL=t}getVAO(){return this.modelGL.vao}getVertexCount(){return this.modelGL.vertexCount}getIndexType(){return this.modelGL.indexType||0}dispose(t){try{this.modelGL&&typeof this.modelGL.delete=="function"&&this.modelGL.delete(t)}catch(e){console.warn("Error disposing ModelGL",e)}}}class ie{position=new N(0,0,0);rotation=new V(0,0,0,1);scale=new N(1,1,1);constructor(){}setPosition(t){this.position=t}setRotationQuat(t){this.rotation=t}setRotationEuler(t){V.fromEuler(this.rotation,t.x,t.y,t.z)}setScale(t){this.scale=t}getPosition(){return this.position}getRotation(){return this.rotation}getRotationEuler(){return this.toEulerXYZ(this.rotation)}toEulerXYZ(t){const e=t.w*t.x,s=t.w*t.y,r=t.w*t.z,i=t.x*t.x,c=t.x*t.y,o=t.x*t.z,a=t.y*t.y,l=t.y*t.z,f=t.z*t.z;return new N(-Math.atan2(2*(l-e),1-2*(i+a))*180/Math.PI,Math.asin(2*(o+s))*180/Math.PI,-Math.atan2(2*(c-r),1-2*(a+f))*180/Math.PI)}getScale(){return this.scale}lookAt(t,e=new N(0,1,0)){const s=new N;N.subtract(s,t,this.position),N.normalize(s,s);const r=new tt;tt.targetTo(r,this.position,t,e);const i=new V;tt.getRotation(i,r),this.rotation=i}getLocalMatrix(){const t=new tt;return tt.fromRotationTranslationScale(t,this.rotation,this.position,this.scale),t}getViewMatrix(){const t=new tt,e=new V;V.invert(e,this.rotation);const s=new N;return N.negate(s,this.position),N.transformQuat(s,s,e),tt.fromRotationTranslation(t,e,s),t}rotate(t,e){e==="x"&&(e=new N(1,0,0)),e==="y"&&(e=new N(0,1,0)),e==="z"&&(e=new N(0,0,1));const s=new V;V.setAxisAngle(s,e,t),V.multiply(this.rotation,s,this.rotation)}rotateX(t){this.rotate(t,new N(1,0,0))}rotateY(t){this.rotate(t,new N(0,1,0))}rotateZ(t){this.rotate(t,new N(0,0,1))}}class Rn{}class Jo extends Rn{fn;constructor(t){super(),this.fn=t}update(t,e){this.fn(t,e)}}class Qo{systems=[];add(t){typeof t=="function"?this.systems.push(new Jo(t)):this.systems.push(t)}update(t,e){for(const s of this.systems)s.update(t,e)}}class ta extends Rn{engine;constructor(t){super(),this.engine=t}update(t,e){if(!this.engine.scene)return;const s=this.engine.scene.getActiveCamera();if(!s)throw new Error("No active camera in the scene");this.engine.glContext.clear(58/255,22/255,81/255,1);const r=e.get(s,Cn),i=e.get(s,ie),c=e.getAllOfType(Ti),o=i.getViewMatrix(),a=r.getProjectionMatrix(this.engine.glContext.getAspectRatio()),l=new Map;for(const[h,p]of c){const u=e.get(h,ie),g=e.get(h,es);if(!u||!g)continue;const y=Zo.getSignature(g);l.has(y)||l.set(y,[]),l.get(y).push([h,p])}const f=this.engine.glContext.gl;for(const[h,p]of l.entries()){const u=p[0][0],y=e.get(u,es).shader;y.use(),y.setUniform("u_proj",a),y.setUniform("u_view",o),y.setUniform("u_cameraPos",i.getPosition());for(const[v,M]of p){const b=e.get(v,ie),w=e.get(v,es);if(y.setUniform("u_model",b.getLocalMatrix()),w.applyTo(f),M.getVAO()){f.bindVertexArray(M.getVAO());const x=M.getIndexType()||f.UNSIGNED_SHORT;f.drawElements(f.TRIANGLES,M.getVertexCount(),x,0),f.bindVertexArray(null)}}}}}class Ln{glContext;scene=null;constructor(t){this.glContext=new xt(t),xt.currentGLContext=this.glContext}start(){let t=performance.now();const e=s=>{const r=(s-t)/1e3;t=s,this.scene&&this.scene.update(r),requestAnimationFrame(e)};requestAnimationFrame(e)}setScene(t){this.scene=t}static async StartEngine(t,e){console.log("Initializing Engine...");const s=new Ln(t);return console.log("Initializing Scene..."),await e.initialize(),e.addSystem(new ta(s)),console.log("Scene initialized..."),s.setScene(e),console.log("Start engine..."),s.start(),console.log("Engine started."),s}}class ea{components=new Map;add(t,e){const s=e.constructor.name;this.components.has(s)||this.components.set(s,new Map),this.components.get(s).set(t,e)}remove(t,e){this.components.get(e.name)?.delete(t)}get(t,e){return this.components.get(e.name)?.get(t)}getAllOfType(t){const e=this.components.get(t.name);return e?Array.from(e.entries()):[]}getComponentsForEntity(t){const e={};for(const[s,r]of this.components.entries()){const i=r.get(t);i&&(e[s]=i)}return e}removeAllComponents(t){for(const e of this.components.values())e.delete(t)}}class sa{type;color;intensity;constructor(t="point",e=new N(1,1,1),s=1){this.type=t,this.color=e,this.intensity=s}}class na{nextId=0;entities=new Set;constructor(){}create(){const t=this.nextId++;return this.entities.add(t),t}destroy(t){this.entities.delete(t)}getAll(){return Array.from(this.entities)}}class ra{entities;components;systems;constructor(){this.entities=new na,this.components=new ea,this.systems=new Qo}createEntity(){const t=this.entities.create();return this.components.add(t,new ie),t}createCamera(){const t=this.createEntity();return this.components.add(t,new Cn),t}createLight(t){const e=this.createEntity();return this.components.add(e,new sa(t)),e}createMesh(t,e=null){const s=this.createEntity();return this.components.add(s,new Ti(t)),e!=null&&this.components.add(s,e),s}}class Yt{vao;vertexCount;indexType;constructor(t,e,s=0){this.vao=t,this.vertexCount=e,this.indexType=s}delete(t){t=xt.getGL(t),t&&this.vao&&t.deleteVertexArray(this.vao)}static generate(t,e,s,r,i){i=xt.getGL(i);const c=i.createVertexArray();i.bindVertexArray(c);const o=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,o),i.bufferData(i.ARRAY_BUFFER,new Float32Array(t),i.STATIC_DRAW);const a=0;i.enableVertexAttribArray(a),i.vertexAttribPointer(a,3,i.FLOAT,!1,0,0);let l=null;if(s&&s.length>0){l=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,l),i.bufferData(i.ARRAY_BUFFER,new Float32Array(s),i.STATIC_DRAW);const u=1;i.enableVertexAttribArray(u),i.vertexAttribPointer(u,3,i.FLOAT,!1,0,0)}let f=null;if(r&&r.length>0){f=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,new Float32Array(r),i.STATIC_DRAW);const u=2;i.enableVertexAttribArray(u),i.vertexAttribPointer(u,2,i.FLOAT,!1,0,0)}const h=i.createBuffer();i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,h);let p=i.UNSIGNED_SHORT;return e.length>65535?(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint32Array(e),i.STATIC_DRAW),p=i.UNSIGNED_INT):(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),i.STATIC_DRAW),p=i.UNSIGNED_SHORT),i.bindVertexArray(null),new Yt(c,e.length,p)}static createFromProgram(t,e,s,r,i,c){c=xt.getGL(c);const o=c.createVertexArray();c.bindVertexArray(o);const a=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a),c.bufferData(c.ARRAY_BUFFER,new Float32Array(e),c.STATIC_DRAW);const l=c.getAttribLocation(t,"a_position");if(l>=0&&(c.enableVertexAttribArray(l),c.vertexAttribPointer(l,3,c.FLOAT,!1,0,0)),r&&r.length>0){const p=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p),c.bufferData(c.ARRAY_BUFFER,new Float32Array(r),c.STATIC_DRAW);const u=c.getAttribLocation(t,"a_normal");u>=0&&(c.enableVertexAttribArray(u),c.vertexAttribPointer(u,3,c.FLOAT,!1,0,0))}if(i&&i.length>0){const p=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p),c.bufferData(c.ARRAY_BUFFER,new Float32Array(i),c.STATIC_DRAW);const u=c.getAttribLocation(t,"a_uv");u>=0&&(c.enableVertexAttribArray(u),c.vertexAttribPointer(u,2,c.FLOAT,!1,0,0))}const f=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,f);let h=c.UNSIGNED_SHORT;return s.length>65535?(c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint32Array(s),c.STATIC_DRAW),h=c.UNSIGNED_INT):(c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),c.STATIC_DRAW),h=c.UNSIGNED_SHORT),c.bindVertexArray(null),new Yt(o,s.length,h)}}class ia{static generateCube(t,e){const s=t/2,r=[-s,-s,-s,s,-s,-s,s,s,-s,-s,s,-s,-s,-s,s,s,-s,s,s,s,s,-s,s,s],i=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],c=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],o=[0,2,1,0,3,2,4,5,6,4,6,7,4,3,0,4,7,3,1,6,5,1,2,6,3,6,2,3,7,6,4,1,5,4,0,1];return Yt.generate(r,o,i,c,e)}static generateCubeForProgram(t,e,s){const r=e/2,i=[-r,-r,-r,r,-r,-r,r,r,-r,-r,r,-r,-r,-r,r,r,-r,r,r,r,r,-r,r,r],c=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],o=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],a=[0,2,1,0,3,2,4,5,6,4,6,7,4,3,0,4,7,3,1,6,5,1,2,6,3,6,2,3,7,6,4,1,5,4,0,1];return Yt.createFromProgram(t,i,a,c,o,s)}static generateCube24Vertex(t,e){const s=t/2,r=[-s,-s,s,s,-s,s,s,s,s,-s,s,s,-s,-s,-s,-s,s,-s,s,s,-s,s,-s,-s,-s,-s,-s,-s,-s,s,-s,s,s,-s,s,-s,s,-s,-s,s,s,-s,s,s,s,s,-s,s,-s,s,-s,-s,s,s,s,s,s,s,s,-s,-s,-s,-s,s,-s,-s,s,-s,s,-s,-s,s],i=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],c=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],o=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];return Yt.generate(r,o,i,c,e)}static generateTriangle(t){const e=[-.5,.5,0,-.5,-.5,0,.5,-.5,0],s=[0,0,1,0,0,1,0,0,1],r=[0,1,0,0,1,0],i=[0,1,2];return Yt.generate(e,i,s,r,t)}}class ca{static async LoadFromURL(t,e=!0,s){const r=t.split(".").pop()?.toLowerCase();if(r!="obj"&&r!="gltf"&&r!="glb")return console.error("Unsupported model format for URL: "+t),null;let i=null;const c=await ue.loadResource(t);if(!c)return console.error("Failed to load model from URL: "+t),null;switch(r){case"obj":i=await this.LoadOBJ(ue.loadedResourceToText(c),t,s);break;case"gltf":i=this.loadGLTF(ue.loadedResourceToText(c),s);break;case"glb":break;default:console.error("Loading not implemented for URL: "+t)}return i}static async LoadOBJ(t,e,s){let r=null,i=null;e&&(r=ue.loadedResourceToText(await ue.loadResource(e.replace(".obj",".mtl"))));const c=t.split(/\r?\n/),o=[],a=[],l=[],f=[],h=[],p=[],u=[],g=new Map;function y(M,b){const w=parseInt(M,10);return isNaN(w)?-1:w<0?b+w:w-1}for(let M of c){const b=M.trim();if(!b||b.startsWith("#"))continue;const w=b.split(/\s+/),x=w[0];if(x==="v")w.length>=4&&o.push(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3]));else if(x==="vn")w.length>=4&&a.push(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3]));else if(x==="vt")w.length>=3&&l.push(parseFloat(w[1]),parseFloat(w[2]));else if(x==="f"){const E=w.slice(1);if(E.length<3)continue;const A=[];for(const R of E){const B=R.split("/"),D=y(B[0],o.length/3),G=B.length>1&&B[1]!==""?y(B[1],l.length/2):null,j=B.length>2&&B[2]!==""?y(B[2],a.length/3):null;A.push({v:D,vt:G,vn:j})}for(let R=1;R<A.length-1;R++){const B=[A[0],A[R],A[R+1]];for(const D of B){const G=`${D.v}/${D.vt!==null?D.vt:""}/${D.vn!==null?D.vn:""}`;let j=g.get(G);j===void 0&&(j=f.length/3,g.set(G,j),D.v>=0&&D.v*3+2<o.length?f.push(o[D.v*3+0],o[D.v*3+1],o[D.v*3+2]):f.push(0,0,0),D.vt!==null&&D.vt>=0&&D.vt*2+1<l.length?p.push(l[D.vt*2+0],l[D.vt*2+1]):p.push(0,0),D.vn!==null&&D.vn>=0&&D.vn*3+2<a.length?h.push(a[D.vn*3+0],a[D.vn*3+1],a[D.vn*3+2]):h.push(0,0,0)),u.push(j)}}}}if(a.length===0&&(h.length=0),l.length===0&&(p.length=0),r){const M=r.split(/\r?\n/);let b=null;for(let w of M){const x=w.trim();if(!x||x.startsWith("#"))continue;const E=x.split(/\s+/),A=E[0];if(A==="newmtl"){if(b)break;b={name:E[1]}}else A==="Kd"&&b?b.Kd=[parseFloat(E[1])||0,parseFloat(E[2])||0,parseFloat(E[3])||0]:(A==="map_Kd"||A==="map_kd")&&b&&(b.map_Kd=E.slice(1).join(" "))}b&&console.info("MTL parsed (first material):",b)}if(a.length===0){const M=f.length/3,b=new Array(M*3).fill(0);for(let w=0;w<u.length;w+=3){const x=u[w+0],E=u[w+1],A=u[w+2],R=f[x*3+0],B=f[x*3+1],D=f[x*3+2],G=f[E*3+0],j=f[E*3+1],rt=f[E*3+2],et=f[A*3+0],I=f[A*3+1],_=f[A*3+2],P=G-R,$=j-B,q=rt-D,lt=et-R,gt=I-B,yt=_-D,ht=$*yt-q*gt,Ae=q*lt-P*yt,je=P*gt-$*lt;b[x*3+0]+=ht,b[x*3+1]+=Ae,b[x*3+2]+=je,b[E*3+0]+=ht,b[E*3+1]+=Ae,b[E*3+2]+=je,b[A*3+0]+=ht,b[A*3+1]+=Ae,b[A*3+2]+=je}for(let w=0;w<f.length;w+=3){const x=b[w+0],E=b[w+1],A=b[w+2],R=Math.sqrt(x*x+E*E+A*A)||1;h[w+0]=x/R,h[w+1]=E/R,h[w+2]=A/R}}let v=null;if(r){const M=r.split(/\r?\n/);let b=null;for(let w of M){const x=w.trim();if(!x||x.startsWith("#"))continue;const E=x.split(/\s+/),A=E[0];if(A==="newmtl"){if(b)break;b={name:E[1]}}else A==="Kd"&&b?b.Kd=[parseFloat(E[1])||0,parseFloat(E[2])||0,parseFloat(E[3])||0]:(A==="map_Kd"||A==="map_kd")&&b&&(b.map_Kd=E.slice(1).join(" "))}v=b}try{const M=Yt.generate(f,u,h.length>0?h:void 0,p.length>0?p:void 0,s);if(v&&e)try{const b=await ts.loadShaderProgram("/assets/shaders/pbr",xt.getGL(s)),w=new es(b);if(v.Kd&&(b.set("u_albedo",new Float32Array(v.Kd)),b.set("u_useAlbedoMap",0),w.setUniform("u_albedo",new Float32Array(v.Kd))),v.map_Kd){let x=v.map_Kd;try{const E=new URL(e,window.location.href);x=new URL(x,E).toString()}catch{}w.setTextureUniform("u_albedoMap",x),w.setUniform("u_useAlbedoMap",1)}i=w}catch(b){console.warn("Failed to create Material from MTL",b)}return{model:M,material:i}}catch(M){return console.error("Failed to create ModelGL from OBJ data",M),null}}static loadGLTF(t,e){let s=null;const r=[],i=[],c=[],o=[];return{model:Yt.generate(r,o,i,c,e),material:s}}}class oa{ecs;name;active;activeCamera=null;constructor(t="Untitled"){this.name=t,this.active=!0,this.ecs=new ra}runtimeInitializer=null;async onInitialize(){}async initialize(){this.active&&(this.runtimeInitializer&&await this.runtimeInitializer(this),await this.onInitialize())}setInitializer(t){this.runtimeInitializer=t}update(t){this.active&&this.ecs.systems.update(t,this.ecs.components)}createCamera(){const t=this.ecs.createCamera();return this.activeCamera===null&&(this.activeCamera=t),t}setActiveCamera(t){if(!this.ecs.components.get(t,Cn))throw new Error("L'entit donne n'a pas de composant Camera");this.activeCamera=t}getActiveCamera(){return this.activeCamera}createEntity(){return this.ecs.createEntity()}createLight(t){return this.ecs.createLight(t)}createMesh(t,e=null){let s;return t instanceof Yt?s=t:(s=t.model,!e&&t.material&&(e=t.material)),this.ecs.createMesh(s,e)}async createMeshFromURL(t,e){console.log("Loading model from URL:",t);const s=await ca.LoadFromURL(t,!e);return console.log("Model exist :",s!=null),s==null?null:this.createMesh(s,e)}destroyEntity(t,e){t===this.activeCamera&&(this.activeCamera=null),this.ecs.components.getAllOfType(Object);try{for(const[s,r]of this.ecs.components.components.entries()){const i=r.get(t);if(i&&typeof i.dispose=="function")try{i.dispose(e?.glContext?.gl)}catch(c){console.warn("dispose failed for",s,c)}}}catch{}this.ecs.components.removeAllComponents(t),this.ecs.entities.destroy(t)}getComponent(t,e){return this.ecs.components.get(t,e)}getAllComponentOfType(t){return this.ecs.components.getAllOfType(t)}addSystem(t){this.ecs.systems.add(t)}}class aa extends Rn{mainEntity;targetEntity;radius;azimuth;elevation;speed;constructor(t,e,s=5,r=0,i=0,c=30){super(),this.mainEntity=t,this.targetEntity=e,this.radius=s,this.azimuth=r,this.elevation=i,this.speed=c}update(t,e){this.azimuth+=this.speed*t,this.azimuth>360&&(this.azimuth-=360),this.azimuth<0&&(this.azimuth+=360);const s=e.get(this.mainEntity,ie),r=e.get(this.targetEntity,ie);if(!s||!r)return;const i=r.getPosition(),c=this.azimuth*Math.PI/180,o=this.elevation*Math.PI/180,a=i.x+this.radius*Math.cos(o)*Math.cos(c),l=i.y+this.radius*Math.sin(o),f=i.z+this.radius*Math.cos(o)*Math.sin(c);s.setPosition(new N(a,l,f)),s.lookAt(i)}}class la extends oa{async onInitialize(){const t=await ts.loadShaderProgram("/assets/shaders/pbr"),e=await this.createMeshFromURL("/assets/models/backpack/backpack.obj");this.getComponent(e,ie).setPosition(new N(0,0,0));const r=this.createMesh(ia.generateCubeForProgram(t.getProgram(),1.5),new es(t));this.getComponent(r,ie).setPosition(new N(0,-4,0));const c=this.createCamera();this.setActiveCamera(c);const o=this.getComponent(c,ie);o.setPosition(new N(2,2,2)),o.lookAt(new N(0,0,0)),this.addSystem(new aa(c,e,10,5,2,20))}}const fa={key:0},ha=["onClick"],ua=_e({__name:"SceneEntities",props:{engine:{type:Object,required:!0},selected:{type:Number,default:-1}},emits:["update:selected"],setup(n,{emit:t}){const e=n,s=t,r=St(e.selected);function i(o){r.value=o,s("update:selected",o)}const c=St([]);return Te(()=>e.engine.scene?.ecs.entities.getAll(),()=>{c.value=e.engine.scene?.ecs.entities.getAll()??[]}),Os(()=>{c.value=e.engine.scene?.ecs.entities.getAll()??[]}),(o,a)=>(nt(),ot("div",null,[a[0]||(a[0]=J("p",null,"Scene",-1)),n.engine?(nt(),ot("div",fa,[(nt(!0),ot(Rt,null,is(c.value,l=>(nt(),ot("p",{key:l,onClick:f=>i(l),style:ve({fontWeight:l===r.value?"bold":"normal"})}," Entity "+re(l),13,ha))),128))])):jt("",!0)]))}}),da={class:"flex gap-2 items-center relative"},pa=["value"],ma={key:0,class:"w-8 h-8 bg-gray-200"},ga=["src"],ya=["value"],xa={key:0,class:"absolute right-0 mt-2 bg-white border rounded shadow-lg p-3 z-50 w-64"},ba={class:"flex items-center gap-2 mb-2"},Ma={class:"grid grid-cols-3 gap-2 mb-2"},va={class:"text-xs"},wa={class:"text-xs"},Ta={class:"text-xs"},Ea={class:"mb-2"},_a={class:"flex gap-2 mt-1 text-xs"},Aa={class:"flex-1"},Sa={class:"flex-1"},Ca={class:"mb-2"},Ra={class:"flex gap-2"},La=["onClick"],Fa=_e({__name:"TextureEditor",props:{value:{type:Object,required:!0}},emits:["update:value"],setup(n,{emit:t}){const e=n,s=t,r=St({url:e.value.url,fallback:W.clone(e.value.fallback)});Te(()=>e.value,I=>{r.value.url=I.url,r.value.fallback=W.clone(I.fallback)},{deep:!0});function i(I){const _=Math.round(I[0]*255),P=Math.round(I[1]*255),$=Math.round(I[2]*255);return`#${((1<<24)+(_<<16)+(P<<8)+$).toString(16).slice(1)}`}function c(I){const _=I.replace("#",""),P=parseInt(_,16);return[P>>16&255,P>>8&255,P&255]}const o=an(()=>i(r.value.fallback)),a=an(()=>String(r.value.fallback[3]??1));function l(){s("update:value",{url:r.value.url,fallback:W.clone(r.value.fallback)})}function f(I){r.value.url=I.target.value,l()}function h(I){const _=parseFloat(I.target.value);r.value.fallback[3]=isNaN(_)?1:_,l()}const p=St(!1),u=St(null);function g(){p.value=!p.value,p.value&&R()}function y(I,_=0,P=1){return Math.min(P,Math.max(_,I))}function v(I,_,P){I/=255,_/=255,P/=255;const $=Math.max(I,_,P),q=Math.min(I,_,P);let lt=0,gt=0,yt=($+q)/2;if($!==q){const ht=$-q;switch(gt=yt>.5?ht/(2-$-q):ht/($+q),$){case I:lt=(_-P)/ht+(_<P?6:0);break;case _:lt=(P-I)/ht+2;break;case P:lt=(I-_)/ht+4;break}lt*=60}return{h:lt,s:gt*100,l:yt*100}}function M(I,_,P){_/=100,P/=100;const $=(1-Math.abs(2*P-1))*_,q=$*(1-Math.abs(I/60%2-1)),lt=P-$/2;let gt=0,yt=0,ht=0;return 0<=I&&I<60?(gt=$,yt=q,ht=0):60<=I&&I<120?(gt=q,yt=$,ht=0):120<=I&&I<180?(gt=0,yt=$,ht=q):180<=I&&I<240?(gt=0,yt=q,ht=$):240<=I&&I<300?(gt=q,yt=0,ht=$):(gt=$,yt=0,ht=q),[Math.round((gt+lt)*255),Math.round((yt+lt)*255),Math.round((ht+lt)*255)]}const b=St(""),w=St({r:255,g:255,b:255}),x=St({h:0,s:0,l:100}),E=St(1),A=["#ffffff","#000000","#808080","#ff0000","#00ff00","#0000ff"];function R(){const I=r.value.fallback;b.value=i(I);const _=Math.round(y(I[0])*255),P=Math.round(y(I[1])*255),$=Math.round(y(I[2])*255);w.value={r:_,g:P,b:$},x.value=v(_,P,$),E.value=y(I[3]??1)}function B(I){const[_,P,$]=c(I).map(q=>y(q,0,255));r.value.fallback[0]=_/255,r.value.fallback[1]=P/255,r.value.fallback[2]=$/255,l()}function D(){const{r:I,g:_,b:P}=w.value,$=y(I,0,255),q=y(_,0,255),lt=y(P,0,255);b.value=`#${((1<<24)+($<<16)+(q<<8)+lt).toString(16).slice(1)}`,B(b.value),x.value=v($,q,lt)}function G(){const{h:I,s:_,l:P}=x.value,[$,q,lt]=M(y(I,0,360),y(_,0,100),y(P,0,100));w.value={r:$,g:q,b:lt},b.value=`#${((1<<24)+($<<16)+(q<<8)+lt).toString(16).slice(1)}`,B(b.value)}function j(){r.value.fallback[3]=y(E.value,0,1),l()}function rt(I){b.value=I,B(I),R()}Te(b,I=>{if(/^#?[0-9a-fA-F]{6}$/.test(I)){const _=I.startsWith("#")?I:`#${I}`;B(_)}});function et(I){if(!p.value)return;const _=u.value;_&&(_.contains(I.target)||(p.value=!1))}return Os(()=>document.addEventListener("click",et)),Zr(()=>document.removeEventListener("click",et)),(I,_)=>(nt(),ot("div",da,[J("input",{type:"text",value:r.value.url,onInput:_[0]||(_[0]=P=>f(P)),class:"flex-1"},null,40,pa),r.value.url?(nt(),ot("div",ma,[J("img",{src:r.value.url,class:"w-full h-full object-cover"},null,8,ga)])):jt("",!0),J("div",{class:"flex items-center gap-1 ml-2 relative",ref_key:"rootRef",ref:u},[J("button",{type:"button",onClick:g,class:"w-8 h-8 rounded border",style:ve({backgroundColor:o.value})},null,4),J("input",{class:"w-24",type:"range",min:"0",max:"1",step:"0.01",value:a.value,onInput:_[1]||(_[1]=P=>h(P))},null,40,ya),p.value?(nt(),ot("div",xa,[J("div",ba,[J("div",{class:"w-10 h-10 rounded border",style:ve({backgroundColor:o.value})},null,4),te(J("input",{type:"text","onUpdate:modelValue":_[2]||(_[2]=P=>b.value=P),class:"flex-1 px-2 py-1 border rounded text-sm"},null,512),[[le,b.value]])]),J("div",Ma,[J("label",va,[_[10]||(_[10]=Le("R",-1)),te(J("input",{type:"number",min:"0",max:"255","onUpdate:modelValue":_[3]||(_[3]=P=>w.value.r=P),onChange:D,class:"w-full px-1 border rounded text-sm"},null,544),[[le,w.value.r,void 0,{number:!0}]])]),J("label",wa,[_[11]||(_[11]=Le("G",-1)),te(J("input",{type:"number",min:"0",max:"255","onUpdate:modelValue":_[4]||(_[4]=P=>w.value.g=P),onChange:D,class:"w-full px-1 border rounded text-sm"},null,544),[[le,w.value.g,void 0,{number:!0}]])]),J("label",Ta,[_[12]||(_[12]=Le("B",-1)),te(J("input",{type:"number",min:"0",max:"255","onUpdate:modelValue":_[5]||(_[5]=P=>w.value.b=P),onChange:D,class:"w-full px-1 border rounded text-sm"},null,544),[[le,w.value.b,void 0,{number:!0}]])])]),J("div",Ea,[_[15]||(_[15]=J("label",{class:"text-xs"},"H",-1)),te(J("input",{type:"range",min:"0",max:"360",step:"1","onUpdate:modelValue":_[6]||(_[6]=P=>x.value.h=P),onInput:G,class:"w-full"},null,544),[[le,x.value.h,void 0,{number:!0}]]),J("div",_a,[J("div",Aa,[_[13]||(_[13]=Le("S",-1)),te(J("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":_[7]||(_[7]=P=>x.value.s=P),onInput:G},null,544),[[le,x.value.s,void 0,{number:!0}]])]),J("div",Sa,[_[14]||(_[14]=Le("L",-1)),te(J("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":_[8]||(_[8]=P=>x.value.l=P),onInput:G},null,544),[[le,x.value.l,void 0,{number:!0}]])])])]),J("div",Ca,[_[16]||(_[16]=J("label",{class:"text-xs"},"Alpha",-1)),te(J("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":_[9]||(_[9]=P=>E.value=P),onInput:j,class:"w-full"},null,544),[[le,E.value,void 0,{number:!0}]])]),J("div",Ra,[(nt(),ot(Rt,null,is(A,P=>J("button",{key:P,onClick:$=>rt(P),class:"px-2 py-1 text-sm border rounded",style:ve({backgroundColor:P})},re(P),13,La)),64))])])):jt("",!0)],512)]))}}),Ia={class:"flex gap-2 mt-2 overflow-x-auto"},Pa={class:"flex-1"},Oa={key:0,class:"flex justify-end flex-1"},za={key:1,class:"w-full"},Ua={key:0,class:"flex gap-2"},Da=["min","max","step","value"],Na={key:1,class:"w-full"},ja=["step","min","max","value"],ka={key:2,class:"w-full justify-end"},$a=["checked"],Ba={key:3,class:"w-full justify-end flex"},qa=["step","min","max","value"],Ha=["step","min","max","value"],Va=["step","min","max","value"],Ga=["step","min","max","value"],Wa={key:4,class:"w-full justify-end"},Ka={key:5,class:"w-full justify-end"},Ce=1,Ya=_e({__name:"ValueEditor",props:{name:{type:String,required:!0},value:{type:[Object,Number,String,Boolean],required:!0},meta:{type:Object,required:!0}},emits:["update:value"],setup(n,{emit:t}){const e=n,s=t,r=St(e.value);function i(c){r.value=c.target.value,s("update:value",r.value)}return(c,o)=>(nt(),ot("div",Ia,[J("p",Pa,re(n.name),1),n.meta.readonly?(nt(),ot("div",Oa,[J("p",null,re(r.value),1)])):n.meta.type==="number"?(nt(),ot("div",za,[n.meta?.widget==="slider"?(nt(),ot("div",Ua,[J("input",{type:"range",min:n.meta?.min??0,max:n.meta?.max??100,step:n.meta?.step??Ce,value:r.value,onInput:o[0]||(o[0]=a=>i(a)),class:"flex-1"},null,40,Da),J("p",null,re(r.value),1)])):(nt(),ot("div",Na,[J("input",{type:"number",step:n.meta?.step??Ce,min:n.meta?.min,max:n.meta?.max,value:r.value,class:"w-full text-right"},null,8,ja)]))])):n.meta.type==="boolean"?(nt(),ot("div",ka,[J("input",{type:"checkbox",checked:r.value,onChange:o[1]||(o[1]=a=>i(a)),class:"mx-auto"},null,40,$a)])):n.meta.type.startsWith("vec")||n.meta.type==="quat"?(nt(),ot("div",Ba,[r.value.x!=null?(nt(),ot("input",{key:0,type:"number",step:n.meta?.step??Ce,min:n.meta?.min,max:n.meta?.max,value:r.value.x,class:"w-full text-right"},null,8,qa)):jt("",!0),r.value.y!=null?(nt(),ot("input",{key:1,type:"number",step:n.meta?.step??Ce,min:n.meta?.min,max:n.meta?.max,value:r.value.y,class:"w-full text-right"},null,8,Ha)):jt("",!0),r.value.z!=null?(nt(),ot("input",{key:2,type:"number",step:n.meta?.step??Ce,min:n.meta?.min,max:n.meta?.max,value:r.value.z,class:"w-full text-right"},null,8,Va)):jt("",!0),r.value.w!=null?(nt(),ot("input",{key:3,type:"number",step:n.meta?.step??Ce,min:n.meta?.min,max:n.meta?.max,value:r.value.w,class:"w-full text-right"},null,8,Ga)):jt("",!0)])):n.meta.type==="textures"?(nt(),ot("div",Wa,[(nt(!0),ot(Rt,null,is(r.value,(a,l)=>(nt(),De(Fa,{key:l,value:a,"onUpdate:value":f=>{r.value[l]=f,s("update:value",r.value)}},null,8,["value","onUpdate:value"]))),128))])):(nt(),ot("div",Ka,[J("pre",null,re(r.value),1)]))]))}});function Xa(n){return/\.(png|jpe?g|gif|webp|svg)$/i.test(n)}function yr(n){if(n==null)return;const t=typeof n;if(t==="number")return{type:"float"};if(t==="string")return Xa(n)?{type:"texture"}:{type:"string"};if(n instanceof st)return{type:"vec2"};if(n instanceof N)return{type:"vec3"};if(n instanceof W)return{type:"vec4"};if(n instanceof V)return{type:"quat"};if(n instanceof vt)return{type:"mat2"};if(n instanceof Mt)return{type:"mat3"};if(n instanceof tt)return{type:"mat4"};if(Array.isArray(n)){const e=n.length;return e===2?{type:"vec2"}:e===3?{type:"vec3"}:e===4?{type:"vec4"}:{type:"array"}}if(t==="boolean")return{type:"boolean"};if(t==="object")return{type:"object",hidden:!0}}function Za(n){if(!n)return{};const e=(n.constructor||n).inspector??{};console.log(n,"staticMeta",e);const s={},r=Object.keys(n);for(const i of r){if(e[i]){s[i]=e[i];continue}const c=n[i];if(c)s[i]=yr(c)??{type:"object"};else{const o=`get${i[0].toUpperCase()}${i.slice(1)}`,a=n[o];if(typeof a=="function")try{const l=a();s[i]=yr(l)??{type:"object"}}catch{s[i]=void 0}else s[i]=void 0}}return s}const Ja={class:"font-bold pl-0 m-0"},Qa=_e({__name:"InspectorEntity",props:{engine:{type:Object,required:!0},entity:{type:Number,required:!0}},setup(n){const t=n,e=St(0),s=St({}),r=St({});Te(()=>t.entity,()=>{i()},{deep:!0});function i(){if(t.entity<0){s.value={},r.value={};return}s.value=t.engine.scene?.ecs.components.getComponentsForEntity(t.entity)??{};for(const c in s.value)r.value[c]=Za(s.value[c]);e.value=(e.value+1)%10}return i(),(c,o)=>(nt(),ot("div",{class:"overflow-y-auto max-h-[85vh] w-[500px]",key:e.value},[(nt(!0),ot(Rt,null,is(s.value,(a,l)=>(nt(),ot("div",{key:l,class:"border border-gray-300 rounded-md m-1 p-2"},[J("p",Ja,re(l),1),o[0]||(o[0]=J("hr",null,null,-1)),(nt(!0),ot(Rt,null,is(a,(f,h)=>te((nt(),ot("div",{key:h,class:"ml-0.5"},[Zt(Ya,{name:h,value:f,meta:r.value[l][h]??{},class:"w-full"},null,8,["name","value","meta"])])),[[Ao,!(r.value[l][h].hidden??!1)]])),128))]))),128))]))}}),tl={class:"w-fit flex flex-col gap-2 p-2 items-end"},el=_e({__name:"Inspector",props:{engine:{type:Object,required:!0},entity:{type:Number,default:-1}},setup(n){return(t,e)=>(nt(),ot("div",tl,[J("p",null,"Inspector "+re(n.entity<0?"":n.entity),1),n.entity>-1?(nt(),De(Qa,{key:0,engine:n.engine,entity:n.entity},null,8,["engine","entity"])):jt("",!0)]))}}),sl=_e({__name:"EngineInterface",props:{engine:{type:Object,required:!0}},setup(n){const t=St(-1);return(e,s)=>(nt(),ot(Rt,null,[n.engine?(nt(),De(ua,{key:0,class:"floating floating-left",engine:n.engine,selected:t.value,"onUpdate:selected":s[0]||(s[0]=r=>t.value=r)},null,8,["engine","selected"])):jt("",!0),n.engine?(nt(),De(el,{class:"floating floating-right w-fit",engine:n.engine,key:t.value,entity:t.value},null,8,["engine","entity"])):jt("",!0)],64))}}),nl={class:"h-screen overflow-hidden"},rl=_e({__name:"App",setup(n){const t=St();async function e(){let s=document.querySelector("#glCanvas");t.value=await Ln.StartEngine(s,new la),window.engine=t;const r=document.createElement("link");r.rel="stylesheet",r.href="/inspector.css",document.head.appendChild(r)}return Os(()=>{e()}),(s,r)=>(nt(),ot("div",nl,[r[0]||(r[0]=J("canvas",{id:"glCanvas",class:"w-full h-full"},null,-1)),t.value?(nt(),De(sl,{key:0,class:"w-0 h-0",engine:t.value},null,8,["engine"])):jt("",!0)]))}}),il=qo(rl);il.mount("#vue-root");
